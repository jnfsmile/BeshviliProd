require("source-map-support").install();
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(21);


/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = require(\"mongoose\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2Q1MDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJtb25nb29zZVwiXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("\"use strict\";\r\n// Grab the Mongoose module\r\n//import * as mongoose from 'mongoose';\r\n//let Schema = mongoose.Schema;\r\nvar Router = (function () {\r\n    function Router(app, router, model) {\r\n        this.app = app;\r\n        this.router = router;\r\n        this.model = model;\r\n    }\r\n    Router.prototype.getRouter = function () { return this.router; };\r\n    Router.prototype.get = function (req, res, next) {\r\n        // Use mongoose to get all requested items in the database\r\n        this.model.find(function (err, item) {\r\n            if (err)\r\n                res.send(err);\r\n            else\r\n                res.json(item);\r\n        });\r\n    };\r\n    Router.prototype.getOne = function (req, res, next, id) {\r\n        this.model.findOne(id, function (err, item) {\r\n            if (err)\r\n                res.send(err);\r\n            else\r\n                res.json(item);\r\n        });\r\n    };\r\n    ;\r\n    Router.prototype.create = function (req, res, next, dataModel) {\r\n        this.model.create(dataModel, function (err, item) {\r\n            if (err)\r\n                res.send(err);\r\n            else {\r\n                res.json(item);\r\n                // DEBUG\r\n                console.log(\"Item created: \" + item);\r\n            }\r\n        });\r\n    };\r\n    Router.prototype.deleteOne = function (req, res, next, id) {\r\n        this.model.remove(id, function (err, item) {\r\n            if (err)\r\n                res.send(err);\r\n            else\r\n                // HTTP `204` - `No Content`\r\n                res.sendStatus(204);\r\n        });\r\n    };\r\n    ;\r\n    Router.prototype.updateOne = function (req, res, next, id, mod) {\r\n        // use our model to find the item we want\r\n        this.model.findOne(id, function (err, item) {\r\n            if (err)\r\n                res.send(err);\r\n            // Apply passed in data modifications\r\n            mod(item);\r\n            // save the todo item\r\n            return item.save(function (err) {\r\n                if (err)\r\n                    res.send(err);\r\n                return res.send(item);\r\n            });\r\n        });\r\n    };\r\n    ;\r\n    return Router;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Router;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9yb3V0ZXIudHM/ZGRiNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsMkJBQTJCO0FBQzNCLHVDQUF1QztBQUN2QywrQkFBK0I7QUFFL0I7SUFNRSxnQkFBWSxHQUF3QixFQUN4QixNQUFzQixFQUN0QixLQUFVO1FBQ3BCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVNLDBCQUFTLEdBQWhCLGNBQXFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUVoQyxvQkFBRyxHQUFiLFVBQWMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7UUFDdEMsMERBQTBEO1FBQzFELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQUMsR0FBRyxFQUFFLElBQUk7WUFDeEIsRUFBRSxFQUFDLEdBQUcsQ0FBQztnQkFDTCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLElBQUk7Z0JBQ0YsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFUyx1QkFBTSxHQUFoQixVQUFpQixHQUFvQixFQUNwQixHQUFxQixFQUNyQixJQUEwQixFQUMxQixFQUFPO1FBRXRCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO1lBRS9CLEVBQUUsRUFBQyxHQUFHLENBQUM7Z0JBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVoQixJQUFJO2dCQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDOztJQUVTLHVCQUFNLEdBQWhCLFVBQWlCLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCLEVBQzFCLFNBQWM7UUFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBRyxFQUFFLElBQUk7WUFDckMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDO2dCQUNOLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEIsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDZixRQUFRO2dCQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQWlCLElBQU0sQ0FBQyxDQUFDO1lBQ3ZDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFUywwQkFBUyxHQUFuQixVQUFvQixHQUFvQixFQUNwQixHQUFxQixFQUNyQixJQUEwQixFQUMxQixFQUFPO1FBRXpCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO1lBRTlCLEVBQUUsRUFBQyxHQUFHLENBQUM7Z0JBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVoQixJQUFJO2dCQUNGLDRCQUE0QjtnQkFDNUIsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O0lBRVMsMEJBQVMsR0FBbkIsVUFBb0IsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEIsRUFDMUIsRUFBTyxFQUNQLEdBQVE7UUFFMUIseUNBQXlDO1FBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO1lBQy9CLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztnQkFDTixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLHFDQUFxQztZQUNyQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDVixxQkFBcUI7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFHO2dCQUNuQixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUM7b0JBQ04sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDaEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O0lBQ0gsYUFBQztBQUFELENBQUM7QUE5RkQ7d0JBOEZDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcblxyXG4vLyBHcmFiIHRoZSBNb25nb29zZSBtb2R1bGVcclxuLy9pbXBvcnQgKiBhcyBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbi8vbGV0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XHJcblxyXG4gIGFwcDogZXhwcmVzcy5BcHBsaWNhdGlvbjtcclxuICByb3V0ZXI6IGV4cHJlc3MuUm91dGVyO1xyXG4gIG1vZGVsOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogZXhwcmVzcy5BcHBsaWNhdGlvbixcclxuICAgICAgICAgICAgICByb3V0ZXI6IGV4cHJlc3MuUm91dGVyLFxyXG4gICAgICAgICAgICAgIG1vZGVsOiBhbnkpIHtcclxuICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XHJcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Um91dGVyKCkgeyByZXR1cm4gdGhpcy5yb3V0ZXI7IH1cclxuXHJcbiAgcHJvdGVjdGVkIGdldChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSB7XHJcbiAgICAvLyBVc2UgbW9uZ29vc2UgdG8gZ2V0IGFsbCByZXF1ZXN0ZWQgaXRlbXMgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICB0aGlzLm1vZGVsLmZpbmQoKGVyciwgaXRlbSkgPT4ge1xyXG4gICAgICBpZihlcnIpXHJcbiAgICAgICAgcmVzLnNlbmQoZXJyKTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHJlcy5qc29uKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0T25lKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICBpZDogYW55KSB7XHJcblxyXG4gICAgdGhpcy5tb2RlbC5maW5kT25lKGlkLCAoZXJyLCBpdGVtKSA9PiB7XHJcblxyXG4gICAgICBpZihlcnIpXHJcbiAgICAgICAgcmVzLnNlbmQoZXJyKTtcclxuXHJcbiAgICAgIGVsc2VcclxuICAgICAgICByZXMuanNvbihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHByb3RlY3RlZCBjcmVhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbixcclxuICAgICAgICAgICAgICAgICAgIGRhdGFNb2RlbDogYW55KSB7XHJcbiAgICB0aGlzLm1vZGVsLmNyZWF0ZShkYXRhTW9kZWwsIChlcnIsIGl0ZW0pID0+IHtcclxuICAgICAgaWYgKGVycilcclxuICAgICAgICByZXMuc2VuZChlcnIpO1xyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXMuanNvbihpdGVtKTtcclxuICAgICAgICAvLyBERUJVR1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBJdGVtIGNyZWF0ZWQ6ICR7aXRlbX1gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZGVsZXRlT25lKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogYW55KSB7XHJcblxyXG4gICAgdGhpcy5tb2RlbC5yZW1vdmUoaWQsIChlcnIsIGl0ZW0pID0+IHtcclxuXHJcbiAgICAgIGlmKGVycilcclxuICAgICAgICByZXMuc2VuZChlcnIpO1xyXG5cclxuICAgICAgZWxzZVxyXG4gICAgICAgIC8vIEhUVFAgYDIwNGAgLSBgTm8gQ29udGVudGBcclxuICAgICAgICByZXMuc2VuZFN0YXR1cygyMDQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcHJvdGVjdGVkIHVwZGF0ZU9uZShyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGFueSxcclxuICAgICAgICAgICAgICAgICAgICAgIG1vZDogYW55KSB7XHJcblxyXG4gICAgLy8gdXNlIG91ciBtb2RlbCB0byBmaW5kIHRoZSBpdGVtIHdlIHdhbnRcclxuICAgIHRoaXMubW9kZWwuZmluZE9uZShpZCwgKGVyciwgaXRlbSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKVxyXG4gICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgIC8vIEFwcGx5IHBhc3NlZCBpbiBkYXRhIG1vZGlmaWNhdGlvbnNcclxuICAgICAgbW9kKGl0ZW0pO1xyXG4gICAgICAvLyBzYXZlIHRoZSB0b2RvIGl0ZW1cclxuICAgICAgcmV0dXJuIGl0ZW0uc2F2ZSgoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zZW5kKGl0ZW0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3JvdXRlcy9yb3V0ZXIudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar emitter_1 = __webpack_require__(5);\r\nvar handler_1 = __webpack_require__(7);\r\n(function (ServerEvent) {\r\n    ServerEvent[ServerEvent[\"Generic\"] = 0] = \"Generic\";\r\n    ServerEvent[ServerEvent[\"NotifyRequest\"] = 1] = \"NotifyRequest\";\r\n    ServerEvent[ServerEvent[\"MongoConnection\"] = 2] = \"MongoConnection\";\r\n    ServerEvent[ServerEvent[\"MongoDisconnect\"] = 4] = \"MongoDisconnect\";\r\n    ServerEvent[ServerEvent[\"MongoGracefulExit\"] = 8] = \"MongoGracefulExit\";\r\n})(exports.ServerEvent || (exports.ServerEvent = {}));\r\nvar ServerEvent = exports.ServerEvent;\r\n/**\r\n * ServerEvent Namespace\r\n *\r\n * @namespace ServerEvent\r\n */\r\nvar ServerEvent;\r\n(function (ServerEvent) {\r\n    /**\r\n     * Server EventHandler\r\n     *\r\n     * @class EventHandler\r\n     * @extends Handler\r\n     */\r\n    var EventHandler = (function (_super) {\r\n        __extends(EventHandler, _super);\r\n        /**\r\n         * Constructor\r\n         *\r\n         * @class EventHandler\r\n         * @constructor\r\n         */\r\n        function EventHandler(eventEmitter) {\r\n            _super.call(this, eventEmitter);\r\n            // Configure this `EventHandler`\r\n            this.handlerConf();\r\n        }\r\n        /**\r\n         * Configure an event listener for each enumeration in `ServerEvent`\r\n         *\r\n         * @class EventHandler\r\n         * @method handlerConf\r\n         * @private\r\n         */\r\n        EventHandler.prototype.handlerConf = function () {\r\n            var _this = this;\r\n            for (var event_1 in ServerEvent) {\r\n                this.emitter.addListener(ServerEvent[event_1], function (e, cb) { return _this.onHandle(e, cb); });\r\n            }\r\n        };\r\n        return EventHandler;\r\n    }(handler_1.default));\r\n    ServerEvent.EventHandler = EventHandler;\r\n    /**\r\n     * Server EventEmitter\r\n     *\r\n     * @class EventEmitter\r\n     * @extends Emitter\r\n     */\r\n    var EventEmitter = (function (_super) {\r\n        __extends(EventEmitter, _super);\r\n        function EventEmitter() {\r\n            _super.call(this);\r\n        }\r\n        return EventEmitter;\r\n    }(emitter_1.default));\r\n    ServerEvent.EventEmitter = EventEmitter;\r\n})(ServerEvent = exports.ServerEvent || (exports.ServerEvent = {}));\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2hhbmRsZXJzL2V2ZW50LmhhbmRsZXIudHM/MGY2MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxvQ0FBcUIsQ0FBVyxDQUFDO0FBQ2pDLG9DQUFxQixDQUFXLENBQUM7QUFRakMsV0FBWSxXQUFXO0lBQ3JCLG1EQUFhO0lBQ2IsK0RBQW1CO0lBQ25CLG1FQUFxQjtJQUNyQixtRUFBcUI7SUFDckIsdUVBQXVCO0FBQ3pCLENBQUMsRUFOVyxtQkFBVyxLQUFYLG1CQUFXLFFBTXRCO0FBTkQsSUFBWSxXQUFXLEdBQVgsbUJBTVg7QUFFRDs7OztHQUlHO0FBQ0gsSUFBaUIsV0FBVyxDQWlEM0I7QUFqREQsV0FBaUIsV0FBVyxFQUFDLENBQUM7SUFFNUI7Ozs7O09BS0c7SUFDSDtRQUFrQyxnQ0FBTztRQUl2Qzs7Ozs7V0FLRztRQUNILHNCQUFZLFlBQTBCO1lBQ3BDLGtCQUFNLFlBQVksQ0FBQyxDQUFDO1lBQ3BCLGdDQUFnQztZQUNoQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckIsQ0FBQztRQUVEOzs7Ozs7V0FNRztRQUNLLGtDQUFXLEdBQW5CO1lBQUEsaUJBSUM7WUFIQyxHQUFHLEVBQUMsSUFBSSxPQUFLLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLE9BQUssQ0FBQyxFQUFFLFVBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSyxZQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFDO1lBQ2hGLENBQUM7UUFDSCxDQUFDO1FBQ0gsbUJBQUM7SUFBRCxDQUFDLENBNUJpQyxpQkFBTyxHQTRCeEM7SUE1Qlksd0JBQVksZUE0QnhCO0lBRUQ7Ozs7O09BS0c7SUFDSDtRQUFrQyxnQ0FBTztRQUN2QztZQUNFLGlCQUFPLENBQUM7UUFDVixDQUFDO1FBQ0gsbUJBQUM7SUFBRCxDQUFDLENBSmlDLGlCQUFPLEdBSXhDO0lBSlksd0JBQVksZUFJeEI7QUFDSCxDQUFDLEVBakRnQixXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQWlEM0IiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbWl0dGVyICBmcm9tICcuL2VtaXR0ZXInO1xyXG5pbXBvcnQgSGFuZGxlciAgZnJvbSAnLi9oYW5kbGVyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNlcnZlckV2ZW50IHtcclxuICB0eXBlOiBTZXJ2ZXJFdmVudCxcclxuICBmcm9tOiBudW1iZXIsXHJcbiAgZGF0YT86IGFueVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTZXJ2ZXJFdmVudCB7XHJcbiAgR2VuZXJpYyA9IDB4MCxcclxuICBOb3RpZnlSZXF1ZXN0ID0gMHgxLFxyXG4gIE1vbmdvQ29ubmVjdGlvbiA9IDB4MixcclxuICBNb25nb0Rpc2Nvbm5lY3QgPSAweDQsXHJcbiAgTW9uZ29HcmFjZWZ1bEV4aXQgPSAweDhcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlcnZlckV2ZW50IE5hbWVzcGFjZVxyXG4gKlxyXG4gKiBAbmFtZXNwYWNlIFNlcnZlckV2ZW50XHJcbiAqL1xyXG5leHBvcnQgbmFtZXNwYWNlIFNlcnZlckV2ZW50IHtcclxuXHJcbiAgLyoqXHJcbiAgICogU2VydmVyIEV2ZW50SGFuZGxlclxyXG4gICAqXHJcbiAgICogQGNsYXNzIEV2ZW50SGFuZGxlclxyXG4gICAqIEBleHRlbmRzIEhhbmRsZXJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgRXZlbnRIYW5kbGVyIGV4dGVuZHMgSGFuZGxlciB7XHJcbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyBldmVudEVtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKlxyXG4gICAgICogQGNsYXNzIEV2ZW50SGFuZGxlclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyKSB7XHJcbiAgICAgIHN1cGVyKGV2ZW50RW1pdHRlcik7XHJcbiAgICAgIC8vIENvbmZpZ3VyZSB0aGlzIGBFdmVudEhhbmRsZXJgXHJcbiAgICAgIHRoaXMuaGFuZGxlckNvbmYoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZSBhbiBldmVudCBsaXN0ZW5lciBmb3IgZWFjaCBlbnVtZXJhdGlvbiBpbiBgU2VydmVyRXZlbnRgXHJcbiAgICAgKlxyXG4gICAgICogQGNsYXNzIEV2ZW50SGFuZGxlclxyXG4gICAgICogQG1ldGhvZCBoYW5kbGVyQ29uZlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVyQ29uZigpIHtcclxuICAgICAgZm9yKGxldCBldmVudCBpbiBTZXJ2ZXJFdmVudCkge1xyXG4gICAgICAgIHRoaXMuZW1pdHRlci5hZGRMaXN0ZW5lcihTZXJ2ZXJFdmVudFtldmVudF0sIChlLCBjYikgPT4gdGhpcy5vbkhhbmRsZShlLCBjYikpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJ2ZXIgRXZlbnRFbWl0dGVyXHJcbiAgICpcclxuICAgKiBAY2xhc3MgRXZlbnRFbWl0dGVyXHJcbiAgICogQGV4dGVuZHMgRW1pdHRlclxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBFdmVudEVtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2ZXIvaGFuZGxlcnMvZXZlbnQuaGFuZGxlci50c1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("// ```\r\n// user.model.js\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// user.model.js may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\n// */app/models/user.model.js*\r\n// ## User Model\r\n// Note: MongoDB will autogenerate an _id for each User object created\r\n// Grab the Mongoose module\r\nvar mongoose = __webpack_require__(1);\r\n// Import library to hash passwords\r\nvar bcrypt = __webpack_require__(26);\r\nvar Schema = mongoose.Schema;\r\nvar User = (function () {\r\n    function User(data, role) {\r\n        this.local.username = data.local.username;\r\n        this.local.password = data.local.password;\r\n        this.local.email = data.local.email;\r\n        this.role = data.role || '';\r\n    }\r\n    User.prototype.generateHash = function (password) {\r\n        return bcrypt.hashSync(password, bcrypt.genSaltSync(8));\r\n    };\r\n    ;\r\n    User.prototype.validPassword = function (password) {\r\n        return bcrypt.compareSync(password, this.local.password);\r\n    };\r\n    ;\r\n    return User;\r\n}());\r\nexports.User = User;\r\n// Define the schema for the showcase item\r\nvar userSchema = new Schema({\r\n    local: {\r\n        username: { type: String, unique: true },\r\n        password: String,\r\n        email: { type: String, unique: true }\r\n    },\r\n    role: { type: String }\r\n});\r\n// Register methods\r\nuserSchema.method('generateHash', User.prototype.generateHash);\r\nuserSchema.method('validPassword', User.prototype.validPassword);\r\n// Expose the `model` so that it can be imported and used in\r\n// the controller (to search, delete, etc.)\r\nexports.Users = mongoose.model('User', userSchema);\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZGVscy91c2VyLm1vZGVsLnRzPzgyMzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUNOLGdCQUFnQjtBQUNoQix3QkFBd0I7QUFDeEIsZ0NBQWdDO0FBQ2hDLGdFQUFnRTtBQUNoRSxNQUFNOztBQUVOLDhCQUE4QjtBQUU5QixnQkFBZ0I7QUFFaEIsc0VBQXNFO0FBRXRFLDJCQUEyQjtBQUMzQixJQUFPLFFBQVEsdUJBQVcsQ0FBVSxDQUFDLENBQUM7QUFFdEMsbUNBQW1DO0FBQ25DLElBQVksTUFBTSx1QkFBTSxFQUFlLENBQUM7QUFFeEMsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQztBQVk3QjtJQVNFLGNBQVksSUFBVyxFQUFFLElBQVk7UUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDMUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDMUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQsMkJBQVksR0FBWixVQUFhLFFBQVE7UUFDbkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDOztJQUVELDRCQUFhLEdBQWIsVUFBYyxRQUFRO1FBQ3BCLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNELENBQUM7O0lBQ0gsV0FBQztBQUFELENBQUM7QUF2QlksWUFBSSxPQXVCaEI7QUFFRCwwQ0FBMEM7QUFDMUMsSUFBSSxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUM7SUFFMUIsS0FBSyxFQUFHO1FBRU4sUUFBUSxFQUFHLEVBQUUsSUFBSSxFQUFHLE1BQU0sRUFBRSxNQUFNLEVBQUcsSUFBSSxFQUFFO1FBRTNDLFFBQVEsRUFBRyxNQUFNO1FBRWpCLEtBQUssRUFBRyxFQUFFLElBQUksRUFBRyxNQUFNLEVBQUUsTUFBTSxFQUFHLElBQUksRUFBRTtLQUN6QztJQUVELElBQUksRUFBRyxFQUFFLElBQUksRUFBRyxNQUFNLEVBQUU7Q0FDekIsQ0FBQyxDQUFDO0FBRUgsbUJBQW1CO0FBQ25CLFVBQVUsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDL0QsVUFBVSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUtqRSw0REFBNEQ7QUFDNUQsMkNBQTJDO0FBQ2hDLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFlLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYGBgXG4vLyB1c2VyLm1vZGVsLmpzXG4vLyAoYykgMjAxNiBEYXZpZCBOZXdtYW5cbi8vIGRhdmlkLnIubmljaWZvcm92aWNAZ21haWwuY29tXG4vLyB1c2VyLm1vZGVsLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4vLyBgYGBcblxuLy8gKi9hcHAvbW9kZWxzL3VzZXIubW9kZWwuanMqXG5cbi8vICMjIFVzZXIgTW9kZWxcblxuLy8gTm90ZTogTW9uZ29EQiB3aWxsIGF1dG9nZW5lcmF0ZSBhbiBfaWQgZm9yIGVhY2ggVXNlciBvYmplY3QgY3JlYXRlZFxuXG4vLyBHcmFiIHRoZSBNb25nb29zZSBtb2R1bGVcbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbi8vIEltcG9ydCBsaWJyYXJ5IHRvIGhhc2ggcGFzc3dvcmRzXG5pbXBvcnQgKiBhcyBiY3J5cHQgZnJvbSAnYmNyeXB0LW5vZGVqcyc7XG5cbmxldCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXIge1xuICBsb2NhbDoge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgcGFzc3dvcmQ6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICB9O1xuICByb2xlOiBzdHJpbmc7XG4gIF9pZDogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgVXNlciBpbXBsZW1lbnRzIElVc2VyIHtcbiAgbG9jYWw6IHtcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgfTtcbiAgcm9sZTogc3RyaW5nO1xuICBfaWQ6IGFueTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBJVXNlciwgcm9sZTogc3RyaW5nKSB7XG4gICAgdGhpcy5sb2NhbC51c2VybmFtZSA9IGRhdGEubG9jYWwudXNlcm5hbWU7XG4gICAgdGhpcy5sb2NhbC5wYXNzd29yZCA9IGRhdGEubG9jYWwucGFzc3dvcmQ7XG4gICAgdGhpcy5sb2NhbC5lbWFpbCA9IGRhdGEubG9jYWwuZW1haWw7XG4gICAgdGhpcy5yb2xlID0gZGF0YS5yb2xlIHx8ICcnO1xuICB9XG5cbiAgZ2VuZXJhdGVIYXNoKHBhc3N3b3JkKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoOCkpO1xuICB9O1xuXG4gIHZhbGlkUGFzc3dvcmQocGFzc3dvcmQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCB0aGlzLmxvY2FsLnBhc3N3b3JkKTtcbiAgfTtcbn1cblxuLy8gRGVmaW5lIHRoZSBzY2hlbWEgZm9yIHRoZSBzaG93Y2FzZSBpdGVtXG5sZXQgdXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuXG4gIGxvY2FsIDoge1xuXG4gICAgdXNlcm5hbWUgOiB7IHR5cGUgOiBTdHJpbmcsIHVuaXF1ZSA6IHRydWUgfSxcblxuICAgIHBhc3N3b3JkIDogU3RyaW5nLFxuXG4gICAgZW1haWwgOiB7IHR5cGUgOiBTdHJpbmcsIHVuaXF1ZSA6IHRydWUgfVxuICB9LFxuXG4gIHJvbGUgOiB7IHR5cGUgOiBTdHJpbmcgfVxufSk7XG5cbi8vIFJlZ2lzdGVyIG1ldGhvZHNcbnVzZXJTY2hlbWEubWV0aG9kKCdnZW5lcmF0ZUhhc2gnLCBVc2VyLnByb3RvdHlwZS5nZW5lcmF0ZUhhc2gpO1xudXNlclNjaGVtYS5tZXRob2QoJ3ZhbGlkUGFzc3dvcmQnLCBVc2VyLnByb3RvdHlwZS52YWxpZFBhc3N3b3JkKTtcblxuLy8gRXhwb3J0IGBEb2N1bWVudGBcbmV4cG9ydCBpbnRlcmZhY2UgVXNlckRvY3VtZW50IGV4dGVuZHMgVXNlciwgbW9uZ29vc2UuRG9jdW1lbnQgeyB9XG5cbi8vIEV4cG9zZSB0aGUgYG1vZGVsYCBzbyB0aGF0IGl0IGNhbiBiZSBpbXBvcnRlZCBhbmQgdXNlZCBpblxuLy8gdGhlIGNvbnRyb2xsZXIgKHRvIHNlYXJjaCwgZGVsZXRlLCBldGMuKVxuZXhwb3J0IGxldCBVc2VycyA9IG1vbmdvb3NlLm1vZGVsPFVzZXJEb2N1bWVudD4oJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9tb2RlbHMvdXNlci5tb2RlbC50c1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("\"use strict\";\r\n/**\r\n * Determine if an object is a function\r\n *\r\n * @method isFunction\r\n * @param {object} obj - object to check\r\n */\r\nvar isFunction = function (obj) {\r\n    return typeof obj == 'function' || false;\r\n};\r\n/**\r\n * Server Emitter\r\n *\r\n * @class Emitter\r\n */\r\nvar Emitter = (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @class Server\r\n     * @constructor\r\n     */\r\n    function Emitter() {\r\n        // Initialize an empty `Map` for tracking listeners\r\n        this.listeners = new Map();\r\n    }\r\n    /**\r\n     * Add listener to this `Emitter`\r\n     *\r\n     * @class Emitter\r\n     * @method addListener\r\n     * @public\r\n     * @param {any} label - identifies the notifications for this listener to receive\r\n     * @param {any} callback - callback to invoke when an event is emitted\r\n     */\r\n    Emitter.prototype.addListener = function (label, cb) {\r\n        // Ensure a queue of listeners for a given label\r\n        this.listeners.has(label) || this.listeners.set(label, []);\r\n        // Push callback function into queue\r\n        this.listeners.get(label).push(cb);\r\n    };\r\n    /**\r\n     * Emit an event with an `Emitter`\r\n     *\r\n     * @class Emitter\r\n     * @method emit\r\n     * @public\r\n     * @param {any} label - identifies the listener to emit the event from\r\n     * @param {any} args - array of arguments to be passed to the listener\r\n     */\r\n    Emitter.prototype.emit = function (label) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var listeners = this.listeners.get(label);\r\n        if (listeners && listeners.length) {\r\n            listeners.forEach(function (listener) {\r\n                listener.apply(void 0, args);\r\n            });\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Remove listener from this `Emitter`\r\n     *\r\n     * @class Emitter\r\n     * @method removeListener\r\n     * @public\r\n     * @param {any} label - identifies the listener to find\r\n     * @param {any} callback - callback to remove\r\n     */\r\n    Emitter.prototype.removeListener = function (label, callback) {\r\n        var listeners = this.listeners.get(label), index;\r\n        if (listeners && listeners.length) {\r\n            index = listeners.reduce(function (i, listener, index) {\r\n                return (isFunction(listener) && listener === callback)\r\n                    ? i = index\r\n                    : i;\r\n            }, -1);\r\n            if (index > -1) {\r\n                listeners.splice(index, 1);\r\n                this.listeners.set(label, listeners);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return Emitter;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Emitter;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2hhbmRsZXJzL2VtaXR0ZXIudHM/YjZhNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7O0dBS0c7QUFDSCxJQUFJLFVBQVUsR0FBRyxVQUFDLEdBQUc7SUFDbkIsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFVBQVUsSUFBSSxLQUFLLENBQUM7QUFDM0MsQ0FBQyxDQUFDO0FBRUY7Ozs7R0FJRztBQUNIO0lBSUU7Ozs7O09BS0c7SUFDSDtRQUNFLG1EQUFtRDtRQUNuRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0ksNkJBQVcsR0FBbEIsVUFBbUIsS0FBVSxFQUFFLEVBQU87UUFDcEMsZ0RBQWdEO1FBQ2hELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMzRCxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNJLHNCQUFJLEdBQVgsVUFBWSxLQUFLO1FBQUUsY0FBTzthQUFQLFdBQU8sQ0FBUCxzQkFBTyxDQUFQLElBQU87WUFBUCw2QkFBTzs7UUFDeEIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUMsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBQyxRQUFRO2dCQUN2QixRQUFRLGVBQUksSUFBSSxDQUFDLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQ7Ozs7Ozs7O09BUUc7SUFDSSxnQ0FBYyxHQUFyQixVQUFzQixLQUFLLEVBQUUsUUFBUTtRQUNuQyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFDckMsS0FBSyxDQUFDO1FBRVYsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEtBQUssR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBRSxLQUFLO2dCQUMxQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksUUFBUSxLQUFLLFFBQVEsQ0FBQztzQkFDbEQsQ0FBQyxHQUFHLEtBQUs7c0JBQ1QsQ0FBQyxDQUFDO1lBQ1IsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFUCxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNmLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDZCxDQUFDO1FBQ0gsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBQ0gsY0FBQztBQUFELENBQUM7QUFoRkQ7eUJBZ0ZDIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBtZXRob2QgaXNGdW5jdGlvblxyXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gb2JqZWN0IHRvIGNoZWNrXHJcbiAqL1xyXG5sZXQgaXNGdW5jdGlvbiA9IChvYmopID0+IHtcclxuICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNlcnZlciBFbWl0dGVyXHJcbiAqXHJcbiAqIEBjbGFzcyBFbWl0dGVyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIHtcclxuXHJcbiAgbGlzdGVuZXJzOiBhbnk7XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdG9yXHJcbiAgICpcclxuICAgKiBAY2xhc3MgU2VydmVyXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoKXtcclxuICAgIC8vIEluaXRpYWxpemUgYW4gZW1wdHkgYE1hcGAgZm9yIHRyYWNraW5nIGxpc3RlbmVyc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgbGlzdGVuZXIgdG8gdGhpcyBgRW1pdHRlcmBcclxuICAgKlxyXG4gICAqIEBjbGFzcyBFbWl0dGVyXHJcbiAgICogQG1ldGhvZCBhZGRMaXN0ZW5lclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge2FueX0gbGFiZWwgLSBpZGVudGlmaWVzIHRoZSBub3RpZmljYXRpb25zIGZvciB0aGlzIGxpc3RlbmVyIHRvIHJlY2VpdmVcclxuICAgKiBAcGFyYW0ge2FueX0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBldmVudCBpcyBlbWl0dGVkXHJcbiAgICovXHJcbiAgcHVibGljIGFkZExpc3RlbmVyKGxhYmVsOiBhbnksIGNiOiBhbnkpIHtcclxuICAgIC8vIEVuc3VyZSBhIHF1ZXVlIG9mIGxpc3RlbmVycyBmb3IgYSBnaXZlbiBsYWJlbFxyXG4gICAgdGhpcy5saXN0ZW5lcnMuaGFzKGxhYmVsKSB8fCB0aGlzLmxpc3RlbmVycy5zZXQobGFiZWwsIFtdKTtcclxuICAgIC8vIFB1c2ggY2FsbGJhY2sgZnVuY3Rpb24gaW50byBxdWV1ZVxyXG4gICAgdGhpcy5saXN0ZW5lcnMuZ2V0KGxhYmVsKS5wdXNoKGNiKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVtaXQgYW4gZXZlbnQgd2l0aCBhbiBgRW1pdHRlcmBcclxuICAgKlxyXG4gICAqIEBjbGFzcyBFbWl0dGVyXHJcbiAgICogQG1ldGhvZCBlbWl0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7YW55fSBsYWJlbCAtIGlkZW50aWZpZXMgdGhlIGxpc3RlbmVyIHRvIGVtaXQgdGhlIGV2ZW50IGZyb21cclxuICAgKiBAcGFyYW0ge2FueX0gYXJncyAtIGFycmF5IG9mIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIGxpc3RlbmVyXHJcbiAgICovXHJcbiAgcHVibGljIGVtaXQobGFiZWwsIC4uLmFyZ3MpIHtcclxuICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQobGFiZWwpO1xyXG5cclxuICAgIGlmIChsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLmxlbmd0aCkge1xyXG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgbGlzdGVuZXIgZnJvbSB0aGlzIGBFbWl0dGVyYFxyXG4gICAqXHJcbiAgICogQGNsYXNzIEVtaXR0ZXJcclxuICAgKiBAbWV0aG9kIHJlbW92ZUxpc3RlbmVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7YW55fSBsYWJlbCAtIGlkZW50aWZpZXMgdGhlIGxpc3RlbmVyIHRvIGZpbmRcclxuICAgKiBAcGFyYW0ge2FueX0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byByZW1vdmVcclxuICAgKi9cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIobGFiZWwsIGNhbGxiYWNrKSB7XHJcbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGxhYmVsKSxcclxuICAgICAgICBpbmRleDtcclxuXHJcbiAgICBpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGgpIHtcclxuICAgICAgaW5kZXggPSBsaXN0ZW5lcnMucmVkdWNlKChpLCBsaXN0ZW5lciwgaW5kZXgpID0+IHtcclxuICAgICAgICByZXR1cm4gKGlzRnVuY3Rpb24obGlzdGVuZXIpICYmIGxpc3RlbmVyID09PSBjYWxsYmFjaylcclxuICAgICAgICAgID8gaSA9IGluZGV4XHJcbiAgICAgICAgICA6IGk7XHJcbiAgICAgIH0sIC0xKTtcclxuXHJcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGxhYmVsLCBsaXN0ZW5lcnMpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9oYW5kbGVycy9lbWl0dGVyLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar emitter_1 = __webpack_require__(5);\r\nvar handler_1 = __webpack_require__(7);\r\n(function (ServerError) {\r\n    ServerError[ServerError[\"MongoConnectionFailure\"] = 0] = \"MongoConnectionFailure\";\r\n})(exports.ServerError || (exports.ServerError = {}));\r\nvar ServerError = exports.ServerError;\r\n/**\r\n * ServerError Namespace\r\n *\r\n * @namespace ServerError\r\n */\r\nvar ServerError;\r\n(function (ServerError) {\r\n    /**\r\n     * Server ErrorHandler\r\n     *\r\n     * @class ErrorHandler\r\n     * @extends Handler\r\n     */\r\n    var ErrorHandler = (function (_super) {\r\n        __extends(ErrorHandler, _super);\r\n        /**\r\n         * Constructor\r\n         *\r\n         * @class ErrorHandler\r\n         * @constructor\r\n         */\r\n        function ErrorHandler(errorEmitter) {\r\n            _super.call(this, errorEmitter);\r\n            // Configure this `ErrorHandler`\r\n            this.handlerConf();\r\n        }\r\n        /**\r\n         * Configure an error listener for each enumeration in `ServerError`\r\n         *\r\n         * @class ErrorHandler\r\n         * @method handlerConf\r\n         * @private\r\n         */\r\n        ErrorHandler.prototype.handlerConf = function () {\r\n            var _this = this;\r\n            for (var error in ServerError) {\r\n                this.emitter.addListener(ServerError[error], function (e, cb) { return _this.onHandle(e, cb); });\r\n            }\r\n        };\r\n        return ErrorHandler;\r\n    }(handler_1.default));\r\n    ServerError.ErrorHandler = ErrorHandler;\r\n    /**\r\n     * Server ErrorEmitter\r\n     *\r\n     * @class ErrorEmitter\r\n     * @extends Emitter\r\n     */\r\n    var ErrorEmitter = (function (_super) {\r\n        __extends(ErrorEmitter, _super);\r\n        function ErrorEmitter() {\r\n            _super.call(this);\r\n        }\r\n        return ErrorEmitter;\r\n    }(emitter_1.default));\r\n    ServerError.ErrorEmitter = ErrorEmitter;\r\n})(ServerError = exports.ServerError || (exports.ServerError = {}));\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2hhbmRsZXJzL2Vycm9yLmhhbmRsZXIudHM/ZmY2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxvQ0FBcUIsQ0FBVyxDQUFDO0FBQ2pDLG9DQUFxQixDQUFXLENBQUM7QUFRakMsV0FBWSxXQUFXO0lBQ3JCLGlGQUE0QjtBQUM5QixDQUFDLEVBRlcsbUJBQVcsS0FBWCxtQkFBVyxRQUV0QjtBQUZELElBQVksV0FBVyxHQUFYLG1CQUVYO0FBRUQ7Ozs7R0FJRztBQUNILElBQWlCLFdBQVcsQ0FpRDNCO0FBakRELFdBQWlCLFdBQVcsRUFBQyxDQUFDO0lBRTVCOzs7OztPQUtHO0lBQ0g7UUFBa0MsZ0NBQU87UUFJdkM7Ozs7O1dBS0c7UUFDSCxzQkFBWSxZQUEwQjtZQUNwQyxrQkFBTSxZQUFZLENBQUMsQ0FBQztZQUNwQixnQ0FBZ0M7WUFDaEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3JCLENBQUM7UUFFRDs7Ozs7O1dBTUc7UUFDSyxrQ0FBVyxHQUFuQjtZQUFBLGlCQUlDO1lBSEMsR0FBRyxFQUFDLElBQUksS0FBSyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsRUFBRSxVQUFDLENBQUMsRUFBRSxFQUFFLElBQUssWUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQXBCLENBQW9CLENBQUMsQ0FBQztZQUNoRixDQUFDO1FBQ0gsQ0FBQztRQUNILG1CQUFDO0lBQUQsQ0FBQyxDQTVCaUMsaUJBQU8sR0E0QnhDO0lBNUJZLHdCQUFZLGVBNEJ4QjtJQUVEOzs7OztPQUtHO0lBQ0g7UUFBa0MsZ0NBQU87UUFDdkM7WUFDRSxpQkFBTyxDQUFDO1FBQ1YsQ0FBQztRQUNILG1CQUFDO0lBQUQsQ0FBQyxDQUppQyxpQkFBTyxHQUl4QztJQUpZLHdCQUFZLGVBSXhCO0FBQ0gsQ0FBQyxFQWpEZ0IsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUFpRDNCIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW1pdHRlciAgZnJvbSAnLi9lbWl0dGVyJztcclxuaW1wb3J0IEhhbmRsZXIgIGZyb20gJy4vaGFuZGxlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTZXJ2ZXJFcnJvciB7XHJcbiAgdHlwZTogU2VydmVyRXJyb3IsXHJcbiAgZnJvbTogbnVtYmVyLFxyXG4gIGRhdGE/OiBhbnlcclxufVxyXG5cclxuZXhwb3J0IGVudW0gU2VydmVyRXJyb3Ige1xyXG4gIE1vbmdvQ29ubmVjdGlvbkZhaWx1cmUgPSAweDBcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlcnZlckVycm9yIE5hbWVzcGFjZVxyXG4gKlxyXG4gKiBAbmFtZXNwYWNlIFNlcnZlckVycm9yXHJcbiAqL1xyXG5leHBvcnQgbmFtZXNwYWNlIFNlcnZlckVycm9yIHtcclxuXHJcbiAgLyoqXHJcbiAgICogU2VydmVyIEVycm9ySGFuZGxlclxyXG4gICAqXHJcbiAgICogQGNsYXNzIEVycm9ySGFuZGxlclxyXG4gICAqIEBleHRlbmRzIEhhbmRsZXJcclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgRXJyb3JIYW5kbGVyIGV4dGVuZHMgSGFuZGxlciB7XHJcbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyBlcnJvckVtaXR0ZXI6IEVycm9yRW1pdHRlcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKlxyXG4gICAgICogQGNsYXNzIEVycm9ySGFuZGxlclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVycm9yRW1pdHRlcjogRXJyb3JFbWl0dGVyKSB7XHJcbiAgICAgIHN1cGVyKGVycm9yRW1pdHRlcik7XHJcbiAgICAgIC8vIENvbmZpZ3VyZSB0aGlzIGBFcnJvckhhbmRsZXJgXHJcbiAgICAgIHRoaXMuaGFuZGxlckNvbmYoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZSBhbiBlcnJvciBsaXN0ZW5lciBmb3IgZWFjaCBlbnVtZXJhdGlvbiBpbiBgU2VydmVyRXJyb3JgXHJcbiAgICAgKlxyXG4gICAgICogQGNsYXNzIEVycm9ySGFuZGxlclxyXG4gICAgICogQG1ldGhvZCBoYW5kbGVyQ29uZlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBoYW5kbGVyQ29uZigpIHtcclxuICAgICAgZm9yKGxldCBlcnJvciBpbiBTZXJ2ZXJFcnJvcikge1xyXG4gICAgICAgIHRoaXMuZW1pdHRlci5hZGRMaXN0ZW5lcihTZXJ2ZXJFcnJvcltlcnJvcl0sIChlLCBjYikgPT4gdGhpcy5vbkhhbmRsZShlLCBjYikpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXJ2ZXIgRXJyb3JFbWl0dGVyXHJcbiAgICpcclxuICAgKiBAY2xhc3MgRXJyb3JFbWl0dGVyXHJcbiAgICogQGV4dGVuZHMgRW1pdHRlclxyXG4gICAqL1xyXG4gIGV4cG9ydCBjbGFzcyBFcnJvckVtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2ZXIvaGFuZGxlcnMvZXJyb3IuaGFuZGxlci50c1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar crypto = __webpack_require__(28);\r\n/**\r\n * Handler\r\n *\r\n * @class Handler\r\n */\r\nvar Handler = (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @class Handler\r\n     * @constructor\r\n     */\r\n    function Handler(emitter) {\r\n        // Generate a unique id for this handler\r\n        this.id = this.generateHandlerId(7);\r\n        // Grab the passed in reference to the server `Emitter`\r\n        this.emitter = emitter;\r\n    }\r\n    /**\r\n     * Generate a random value in hexadecimal format\r\n     *\r\n     * @class Handler\r\n     * @method generateHandlerId\r\n     * @private\r\n     * @param {number} length [8] - the length of the generated id\r\n     * @return {string} - Generated hexadecimal value\r\n     */\r\n    Handler.prototype.generateHandlerId = function (length) {\r\n        if (length === void 0) { length = 8; }\r\n        return crypto.randomBytes(Math.ceil(length / 2))\r\n            .toString('hex') // convert to hexadecimal format\r\n            .slice(0, length); // return required number of characters\r\n    };\r\n    /**\r\n     * Execute the emitted callback function\r\n     *\r\n     * @class Handler\r\n     * @method onHandle\r\n     * @protected\r\n     * @param {IServerEvent} e - the emitted server event to be handled\r\n     * @param {any} cb - the emitted callback function to be handled\r\n     * @return void\r\n     */\r\n    Handler.prototype.onHandle = function (e, cb) {\r\n        if (cb)\r\n            cb();\r\n    };\r\n    return Handler;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Handler;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2hhbmRsZXJzL2hhbmRsZXIudHM/OTliNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBTSxNQUFNLEdBQUcsbUJBQU8sQ0FBQyxFQUFRLENBQUMsQ0FBQztBQWdCakM7Ozs7R0FJRztBQUNIO0lBSUU7Ozs7O09BS0c7SUFDSCxpQkFBWSxPQUFnQjtRQUMxQix3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEMsdURBQXVEO1FBQ3ZELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3pCLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNLLG1DQUFpQixHQUF6QixVQUEwQixNQUFrQjtRQUFsQixzQkFBa0IsR0FBbEIsVUFBa0I7UUFDMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0MsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFHLGdDQUFnQzthQUNsRCxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsdUNBQXVDO0lBQzlELENBQUM7SUFFRDs7Ozs7Ozs7O09BU0c7SUFDTywwQkFBUSxHQUFsQixVQUFtQixDQUFlLEVBQUUsRUFBTztRQUN6QyxFQUFFLEVBQUMsRUFBRSxDQUFDO1lBQ0osRUFBRSxFQUFFLENBQUM7SUFDVCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUM7QUE5Q0Q7eUJBOENDIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcclxuXHJcbmltcG9ydCB7IFNlcnZlckV2ZW50LCBJU2VydmVyRXZlbnQgfSBmcm9tICcuL2V2ZW50LmhhbmRsZXInO1xyXG5pbXBvcnQgeyBJU2VydmVyRXJyb3IsIFNlcnZlckVycm9yIH0gZnJvbSAnLi9lcnJvci5oYW5kbGVyJztcclxuaW1wb3J0IEVtaXR0ZXIgIGZyb20gJy4vZW1pdHRlcic7XHJcblxyXG4vKipcclxuICogSGFuZGxlclxyXG4gKlxyXG4gKiBAaW50ZXJmYWNlIElIYW5kbGVyXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUhhbmRsZXIge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZW1pdHRlcjogRW1pdHRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXJcclxuICpcclxuICogQGNsYXNzIEhhbmRsZXJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhbmRsZXIgaW1wbGVtZW50cyBJSGFuZGxlciB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBlbWl0dGVyOiBFbWl0dGVyO1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RvclxyXG4gICAqXHJcbiAgICogQGNsYXNzIEhhbmRsZXJcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihlbWl0dGVyOiBFbWl0dGVyKSB7XHJcbiAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBmb3IgdGhpcyBoYW5kbGVyXHJcbiAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZUhhbmRsZXJJZCg3KTtcclxuICAgIC8vIEdyYWIgdGhlIHBhc3NlZCBpbiByZWZlcmVuY2UgdG8gdGhlIHNlcnZlciBgRW1pdHRlcmBcclxuICAgIHRoaXMuZW1pdHRlciA9IGVtaXR0ZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSB2YWx1ZSBpbiBoZXhhZGVjaW1hbCBmb3JtYXRcclxuICAgKlxyXG4gICAqIEBjbGFzcyBIYW5kbGVyXHJcbiAgICogQG1ldGhvZCBnZW5lcmF0ZUhhbmRsZXJJZFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBbOF0gLSB0aGUgbGVuZ3RoIG9mIHRoZSBnZW5lcmF0ZWQgaWRcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gR2VuZXJhdGVkIGhleGFkZWNpbWFsIHZhbHVlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZUhhbmRsZXJJZChsZW5ndGg6IG51bWJlciA9IDgpIHtcclxuICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoTWF0aC5jZWlsKGxlbmd0aC8yKSlcclxuICAgICAgLnRvU3RyaW5nKCdoZXgnKSAgIC8vIGNvbnZlcnQgdG8gaGV4YWRlY2ltYWwgZm9ybWF0XHJcbiAgICAgIC5zbGljZSgwLCBsZW5ndGgpOyAvLyByZXR1cm4gcmVxdWlyZWQgbnVtYmVyIG9mIGNoYXJhY3RlcnNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4ZWN1dGUgdGhlIGVtaXR0ZWQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBjbGFzcyBIYW5kbGVyXHJcbiAgICogQG1ldGhvZCBvbkhhbmRsZVxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBAcGFyYW0ge0lTZXJ2ZXJFdmVudH0gZSAtIHRoZSBlbWl0dGVkIHNlcnZlciBldmVudCB0byBiZSBoYW5kbGVkXHJcbiAgICogQHBhcmFtIHthbnl9IGNiIC0gdGhlIGVtaXR0ZWQgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaGFuZGxlZFxyXG4gICAqIEByZXR1cm4gdm9pZFxyXG4gICAqL1xyXG4gIHByb3RlY3RlZCBvbkhhbmRsZShlOiBJU2VydmVyRXZlbnQsIGNiOiBhbnkpIHtcclxuICAgIGlmKGNiKVxyXG4gICAgICBjYigpO1xyXG4gIH1cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2ZXIvaGFuZGxlcnMvaGFuZGxlci50c1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("module.exports = require(\"express\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/ZDJkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiZXhwcmVzc1wiXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 9 */
/***/ function(module, exports) {

	eval("module.exports = require(\"passport\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydFwiPzAzMzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJwYXNzcG9ydFwiXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	eval("// ```\r\n// env.conf.js\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// env.conf.js may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\n// *env.conf.js*\r\n// This is the file where we will configure our Node environmental\r\n// variables for production\r\n// Reference : http://thewebivore.com/super-simple-environment-variables-node-js/#comment-286662\r\n// # Node Env Variables\r\nvar config = __webpack_require__(25);\r\n// Check each necessary node `environment variable` to see if a\r\n// value has been set and if not, use the `config` object to\r\n// supply appropriate values\r\nfunction validateEnvVariables() {\r\n    // If no value has been assigned to our environment variables,\r\n    // set them up...\r\n    if (!process.env.NODE_ENV)\r\n        process.env.NODE_ENV = config.ENV;\r\n    // Check to see if `process.env.NODE_ENV` is valid\r\n    validateNodeEnvironment();\r\n    // For Express/Passport\r\n    if (!process.env.SESSION_SECRET)\r\n        process.env.SESSION_SECRET = config.SESSION_SECRET;\r\n    if (!process.env.PORT)\r\n        process.env.PORT = config.PORT;\r\n    if (!process.env.SOCKET_PORT)\r\n        process.env.SOCKET_PORT = config.SOCKET_PORT;\r\n    // Set the appropriate MongoDB URI\r\n    validateMongoUri();\r\n    return;\r\n}\r\nexports.validateEnvVariables = validateEnvVariables;\r\nfunction validateNodeEnvironment() {\r\n    // Check to see that the `process.env.NODE_ENV has been\r\n    // set to an appropriate value of `development`, `production`\r\n    // or `test`. If not, alert the user and default to `development`\r\n    switch (process.env.NODE_ENV) {\r\n        case 'development':\r\n            console.log(\"Node environment set for \" + process.env.NODE_ENV);\r\n            break;\r\n        case 'production':\r\n            console.log(\"Node environment set for \" + process.env.NODE_ENV);\r\n            break;\r\n        case 'test':\r\n            console.log(\"Node environment set for \" + process.env.NODE_ENV);\r\n            break;\r\n        default:\r\n            console.log('Error: process.env.NODE_ENV should be set to a valid '\r\n                + ' value such as \\'production\\', \\'development\\', or \\'test\\'.');\r\n            console.log(\"Value received: \" + process.env.NODE_ENV);\r\n            console.log('Defaulting value for: development');\r\n            process.env.NODE_ENV = 'development';\r\n            break;\r\n    }\r\n    return;\r\n}\r\n// Set the appropriate MongoDB URI with the `config` object\r\n// based on the value in `process.env.NODE_ENV\r\nfunction validateMongoUri() {\r\n    if (!process.env.MONGO_URI) {\r\n        console.log('No value set for MONGO_URI...');\r\n        console.log('Using the supplied value from config object...');\r\n        switch (process.env.NODE_ENV) {\r\n            case 'development':\r\n                process.env.MONGO_URI = config.MONGO_URI.DEVELOPMENT;\r\n                console.log(\"MONGO_URI set for \" + process.env.NODE_ENV);\r\n                break;\r\n            case 'production':\r\n                process.env.MONGO_URI = config.MONGO_URI.PRODUCTION;\r\n                console.log(\"MONGO_URI set for \" + process.env.NODE_ENV);\r\n                break;\r\n            case 'test':\r\n                process.env.MONGO_URI = config.MONGO_URI.TEST;\r\n                console.log(\"MONGO_URI set for \" + process.env.NODE_ENV);\r\n                break;\r\n            default:\r\n                console.log('Unexpected behavior! process.env.NODE_ENV set to ' +\r\n                    'unexpected value!');\r\n                break;\r\n        }\r\n    }\r\n    return;\r\n}\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcvZW52LmNvbmYudHM/OWRiYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQ04sY0FBYztBQUNkLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsOERBQThEO0FBQzlELE1BQU07O0FBRU4sZ0JBQWdCO0FBRWhCLGtFQUFrRTtBQUNsRSwyQkFBMkI7QUFFM0IsZ0dBQWdHO0FBRWhHLHVCQUF1QjtBQUV2QixJQUFJLE1BQU0sR0FBRyxtQkFBTyxDQUFDLEVBQVUsQ0FBQyxDQUFDO0FBRWpDLCtEQUErRDtBQUMvRCw0REFBNEQ7QUFDNUQsNEJBQTRCO0FBQzVCO0lBRUUsOERBQThEO0lBQzlELGlCQUFpQjtJQUVqQixFQUFFLEVBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDO0lBRXBDLGtEQUFrRDtJQUNsRCx1QkFBdUIsRUFBRSxDQUFDO0lBRTFCLHVCQUF1QjtJQUN2QixFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUM7SUFFckQsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBRWpDLEVBQUUsRUFBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO1FBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFFL0Msa0NBQWtDO0lBQ2xDLGdCQUFnQixFQUFFLENBQUM7SUFFbkIsTUFBTSxDQUFDO0FBQ1QsQ0FBQztBQXpCZSw0QkFBb0IsdUJBeUJuQztBQUVEO0lBQ0UsdURBQXVEO0lBQ3ZELDZEQUE2RDtJQUM3RCxpRUFBaUU7SUFFakUsTUFBTSxFQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUM1QixLQUFLLGFBQWE7WUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyw4QkFBNEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFVLENBQUMsQ0FBQztZQUNoRSxLQUFLLENBQUM7UUFDUixLQUFLLFlBQVk7WUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLDhCQUE0QixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVUsQ0FBQyxDQUFDO1lBQ2hFLEtBQUssQ0FBQztRQUNSLEtBQUssTUFBTTtZQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQTRCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBVSxDQUFDLENBQUM7WUFDaEUsS0FBSyxDQUFDO1FBQ1I7WUFDRSxPQUFPLENBQUMsR0FBRyxDQUFDLHVEQUF1RDtrQkFDL0QsOERBQThELENBQUMsQ0FBQztZQUNwRSxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFtQixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVUsQ0FBQyxDQUFDO1lBQ3ZELE9BQU8sQ0FBQyxHQUFHLENBQUMsbUNBQW1DLENBQUMsQ0FBQztZQUNqRCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUM7WUFDckMsS0FBSyxDQUFDO0lBQ1YsQ0FBQztJQUVELE1BQU0sQ0FBQztBQUNULENBQUM7QUFFRCwyREFBMkQ7QUFDM0QsOENBQThDO0FBQzlDO0lBRUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFFM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0RBQWdELENBQUM7UUFFN0QsTUFBTSxFQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUU1QixLQUFLLGFBQWE7Z0JBRWhCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDO2dCQUNyRCxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUFxQixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVUsQ0FBQyxDQUFDO2dCQUN6RCxLQUFLLENBQUM7WUFFUixLQUFLLFlBQVk7Z0JBRWYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7Z0JBQ3BELE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBVSxDQUFDLENBQUM7Z0JBQ3pELEtBQUssQ0FBQztZQUVSLEtBQUssTUFBTTtnQkFFVCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFDOUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBcUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFVLENBQUMsQ0FBQztnQkFDekQsS0FBSyxDQUFDO1lBRVI7Z0JBRUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtREFBbUQ7b0JBQzdELG1CQUFtQixDQUFDLENBQUM7Z0JBQ3ZCLEtBQUssQ0FBQztRQUNWLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDO0FBQ1QsQ0FBQyIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGBgYFxuLy8gZW52LmNvbmYuanNcbi8vIChjKSAyMDE2IERhdmlkIE5ld21hblxuLy8gZGF2aWQuci5uaWNpZm9yb3ZpY0BnbWFpbC5jb21cbi8vIGVudi5jb25mLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4vLyBgYGBcblxuLy8gKmVudi5jb25mLmpzKlxuXG4vLyBUaGlzIGlzIHRoZSBmaWxlIHdoZXJlIHdlIHdpbGwgY29uZmlndXJlIG91ciBOb2RlIGVudmlyb25tZW50YWxcbi8vIHZhcmlhYmxlcyBmb3IgcHJvZHVjdGlvblxuXG4vLyBSZWZlcmVuY2UgOiBodHRwOi8vdGhld2ViaXZvcmUuY29tL3N1cGVyLXNpbXBsZS1lbnZpcm9ubWVudC12YXJpYWJsZXMtbm9kZS1qcy8jY29tbWVudC0yODY2NjJcblxuLy8gIyBOb2RlIEVudiBWYXJpYWJsZXNcblxubGV0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbi8vIENoZWNrIGVhY2ggbmVjZXNzYXJ5IG5vZGUgYGVudmlyb25tZW50IHZhcmlhYmxlYCB0byBzZWUgaWYgYVxuLy8gdmFsdWUgaGFzIGJlZW4gc2V0IGFuZCBpZiBub3QsIHVzZSB0aGUgYGNvbmZpZ2Agb2JqZWN0IHRvXG4vLyBzdXBwbHkgYXBwcm9wcmlhdGUgdmFsdWVzXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFbnZWYXJpYWJsZXMoKSB7XG5cbiAgLy8gSWYgbm8gdmFsdWUgaGFzIGJlZW4gYXNzaWduZWQgdG8gb3VyIGVudmlyb25tZW50IHZhcmlhYmxlcyxcbiAgLy8gc2V0IHRoZW0gdXAuLi5cblxuICBpZighcHJvY2Vzcy5lbnYuTk9ERV9FTlYpXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSBjb25maWcuRU5WO1xuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiBgcHJvY2Vzcy5lbnYuTk9ERV9FTlZgIGlzIHZhbGlkXG4gIHZhbGlkYXRlTm9kZUVudmlyb25tZW50KCk7XG5cbiAgLy8gRm9yIEV4cHJlc3MvUGFzc3BvcnRcbiAgaWYgKCFwcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVClcbiAgICBwcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVCA9IGNvbmZpZy5TRVNTSU9OX1NFQ1JFVDtcblxuICBpZiAoIXByb2Nlc3MuZW52LlBPUlQpXG4gICAgcHJvY2Vzcy5lbnYuUE9SVCA9IGNvbmZpZy5QT1JUO1xuXG4gIGlmKCFwcm9jZXNzLmVudi5TT0NLRVRfUE9SVClcbiAgICBwcm9jZXNzLmVudi5TT0NLRVRfUE9SVCA9IGNvbmZpZy5TT0NLRVRfUE9SVDtcblxuICAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIE1vbmdvREIgVVJJXG4gIHZhbGlkYXRlTW9uZ29VcmkoKTtcblxuICByZXR1cm47XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTm9kZUVudmlyb25tZW50KCkge1xuICAvLyBDaGVjayB0byBzZWUgdGhhdCB0aGUgYHByb2Nlc3MuZW52Lk5PREVfRU5WIGhhcyBiZWVuXG4gIC8vIHNldCB0byBhbiBhcHByb3ByaWF0ZSB2YWx1ZSBvZiBgZGV2ZWxvcG1lbnRgLCBgcHJvZHVjdGlvbmBcbiAgLy8gb3IgYHRlc3RgLiBJZiBub3QsIGFsZXJ0IHRoZSB1c2VyIGFuZCBkZWZhdWx0IHRvIGBkZXZlbG9wbWVudGBcblxuICBzd2l0Y2gocHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICBjYXNlICdkZXZlbG9wbWVudCc6XG4gICAgICBjb25zb2xlLmxvZyhgTm9kZSBlbnZpcm9ubWVudCBzZXQgZm9yICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9YCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwcm9kdWN0aW9uJzpcbiAgICAgIGNvbnNvbGUubG9nKGBOb2RlIGVudmlyb25tZW50IHNldCBmb3IgJHtwcm9jZXNzLmVudi5OT0RFX0VOVn1gKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Rlc3QnOlxuICAgICAgY29uc29sZS5sb2coYE5vZGUgZW52aXJvbm1lbnQgc2V0IGZvciAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfWApO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgc2hvdWxkIGJlIHNldCB0byBhIHZhbGlkICdcbiAgICAgICAgKyAnIHZhbHVlIHN1Y2ggYXMgXFwncHJvZHVjdGlvblxcJywgXFwnZGV2ZWxvcG1lbnRcXCcsIG9yIFxcJ3Rlc3RcXCcuJyk7XG4gICAgICBjb25zb2xlLmxvZyhgVmFsdWUgcmVjZWl2ZWQ6ICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9YCk7XG4gICAgICBjb25zb2xlLmxvZygnRGVmYXVsdGluZyB2YWx1ZSBmb3I6IGRldmVsb3BtZW50Jyk7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICdkZXZlbG9wbWVudCc7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybjtcbn1cblxuLy8gU2V0IHRoZSBhcHByb3ByaWF0ZSBNb25nb0RCIFVSSSB3aXRoIHRoZSBgY29uZmlnYCBvYmplY3Rcbi8vIGJhc2VkIG9uIHRoZSB2YWx1ZSBpbiBgcHJvY2Vzcy5lbnYuTk9ERV9FTlZcbmZ1bmN0aW9uIHZhbGlkYXRlTW9uZ29VcmkoKSB7XG5cbiAgaWYgKCFwcm9jZXNzLmVudi5NT05HT19VUkkpIHtcblxuICAgIGNvbnNvbGUubG9nKCdObyB2YWx1ZSBzZXQgZm9yIE1PTkdPX1VSSS4uLicpO1xuICAgIGNvbnNvbGUubG9nKCdVc2luZyB0aGUgc3VwcGxpZWQgdmFsdWUgZnJvbSBjb25maWcgb2JqZWN0Li4uJylcblxuICAgIHN3aXRjaChwcm9jZXNzLmVudi5OT0RFX0VOVikge1xuXG4gICAgICBjYXNlICdkZXZlbG9wbWVudCc6XG5cbiAgICAgICAgcHJvY2Vzcy5lbnYuTU9OR09fVVJJID0gY29uZmlnLk1PTkdPX1VSSS5ERVZFTE9QTUVOVDtcbiAgICAgICAgY29uc29sZS5sb2coYE1PTkdPX1VSSSBzZXQgZm9yICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9YCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdwcm9kdWN0aW9uJzpcblxuICAgICAgICBwcm9jZXNzLmVudi5NT05HT19VUkkgPSBjb25maWcuTU9OR09fVVJJLlBST0RVQ1RJT047XG4gICAgICAgIGNvbnNvbGUubG9nKGBNT05HT19VUkkgc2V0IGZvciAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfWApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGVzdCc6XG5cbiAgICAgICAgcHJvY2Vzcy5lbnYuTU9OR09fVVJJID0gY29uZmlnLk1PTkdPX1VSSS5URVNUO1xuICAgICAgICBjb25zb2xlLmxvZyhgTU9OR09fVVJJIHNldCBmb3IgJHtwcm9jZXNzLmVudi5OT0RFX0VOVn1gKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1VuZXhwZWN0ZWQgYmVoYXZpb3IhIHByb2Nlc3MuZW52Lk5PREVfRU5WIHNldCB0byAnICtcbiAgICAgICAgICAndW5leHBlY3RlZCB2YWx1ZSEnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jb25maWcvZW52LmNvbmYudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	eval("// ```\r\n// mongoose.conf.js\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// mongoose.conf.js may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\n// *mongoose.conf.js*\r\n// Load Mongoose for MongoDB interactions\r\nvar mongoose = __webpack_require__(1);\r\nvar event_handler_1 = __webpack_require__(3);\r\nvar error_handler_1 = __webpack_require__(6);\r\nfunction mongooseConf(ServerEventEmitter, ServerErrorEmitter) {\r\n    var gracefulExit = function () {\r\n        mongoose.connection.close(function () {\r\n            var event = {\r\n                type: event_handler_1.ServerEvent.MongoGracefulExit,\r\n                from: process.pid\r\n            };\r\n            ServerEventEmitter.emit(event.type, event, function () {\r\n                console.log(\"(Process \" + event.from + \"): Mongoose connection has disconnected through app termination\");\r\n                process.exit(0);\r\n            });\r\n        });\r\n    };\r\n    mongoose.connection.on(\"connected\", function (ref) {\r\n        var event = {\r\n            type: event_handler_1.ServerEvent.MongoConnection,\r\n            from: process.pid\r\n        };\r\n        ServerEventEmitter.emit(event.type, event, function () {\r\n            console.log(\"Process \" + event.from + \" successfully connected to \" + process.env.NODE_ENV + \" database on startup\");\r\n        });\r\n    });\r\n    // If the connection throws an error\r\n    mongoose.connection.on(\"error\", function (err) {\r\n        var error = {\r\n            type: error_handler_1.ServerError.MongoConnectionFailure,\r\n            from: process.pid\r\n        };\r\n        ServerErrorEmitter.emit(error.type, error, function () {\r\n            console.error(\"(Process \" + error.from + \"): Failed to connect to \" + process.env.NODE_ENV + \" database on startup!\");\r\n            // Don't send `process.exit(1)` in this case since `Mongoose` will handle it\r\n            if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test')\r\n                console.error('Error: ', err);\r\n        });\r\n    });\r\n    // When the connection is disconnected\r\n    mongoose.connection.on('disconnected', function () {\r\n        var event = {\r\n            type: event_handler_1.ServerEvent.MongoDisconnect,\r\n            from: process.pid\r\n        };\r\n        ServerEventEmitter.emit(event.type, event, function () {\r\n            console.log(\"(Process \" + event.from + \"): Mongoose default connection to \" + process.env.NODE_ENV + \" database disconnected\");\r\n        });\r\n    });\r\n    // If the Node process ends, close the Mongoose connection\r\n    process.on('SIGINT', gracefulExit).on('SIGTERM', gracefulExit);\r\n    // Connect to our MongoDB database using the MongoDB\r\n    // connection URI from our predefined environment variable\r\n    mongoose.connect(process.env.MONGO_URI, function (error) {\r\n        if (error)\r\n            throw error;\r\n    });\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = mongooseConf;\r\n;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcvbW9uZ29vc2UuY29uZi50cz8wMWU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFDTixtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCLGdDQUFnQztBQUNoQyxtRUFBbUU7QUFDbkUsTUFBTTs7QUFFTixxQkFBcUI7QUFFckIseUNBQXlDO0FBQ3pDLElBQVksUUFBUSx1QkFBTSxDQUFVLENBQUM7QUFFckMsMENBQTBDLENBQXNDLENBQUM7QUFDakYsMENBQTBDLENBQXNDLENBQUM7QUFFakYsc0JBQXFDLGtCQUE0QyxFQUM1QyxrQkFBNEM7SUFFL0UsSUFBSSxZQUFZLEdBQUc7UUFFakIsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7WUFFeEIsSUFBSSxLQUFLLEdBQWlCO2dCQUN4QixJQUFJLEVBQUUsMkJBQVcsQ0FBQyxpQkFBaUI7Z0JBQ25DLElBQUksRUFBRSxPQUFPLENBQUMsR0FBRzthQUNsQixDQUFDO1lBRUYsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFO2dCQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQVksS0FBSyxDQUFDLElBQUksb0VBQWlFLENBQUMsQ0FBQztnQkFDckcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFLFVBQUMsR0FBRztRQUV0QyxJQUFJLEtBQUssR0FBaUI7WUFDeEIsSUFBSSxFQUFFLDJCQUFXLENBQUMsZUFBZTtZQUNqQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUc7U0FDbEIsQ0FBQztRQUVGLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtZQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQVcsS0FBSyxDQUFDLElBQUksbUNBQThCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSx5QkFBc0IsQ0FBQyxDQUFDO1FBQzdHLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxvQ0FBb0M7SUFDcEMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFVBQUMsR0FBRztRQUVsQyxJQUFJLEtBQUssR0FBaUI7WUFDeEIsSUFBSSxFQUFFLDJCQUFXLENBQUMsc0JBQXNCO1lBQ3hDLElBQUksRUFBRSxPQUFPLENBQUMsR0FBRztTQUNsQixDQUFDO1FBRUYsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFO1lBQ3pDLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBWSxLQUFLLENBQUMsSUFBSSxnQ0FBMkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLDBCQUF1QixDQUFDLENBQUM7WUFDNUcsNEVBQTRFO1lBQzVFLEVBQUUsRUFBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxhQUFhLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssTUFBTSxDQUFDO2dCQUMzRSxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsc0NBQXNDO0lBQ3RDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRTtRQUVyQyxJQUFJLEtBQUssR0FBaUI7WUFDeEIsSUFBSSxFQUFFLDJCQUFXLENBQUMsZUFBZTtZQUNqQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUc7U0FDbEIsQ0FBQztRQUVGLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtZQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQVksS0FBSyxDQUFDLElBQUksMENBQXFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSwyQkFBd0IsQ0FBQyxDQUFDO1FBQ3ZILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCwwREFBMEQ7SUFDMUQsT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUUvRCxvREFBb0Q7SUFDcEQsMERBQTBEO0lBQzFELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsVUFBQyxLQUFLO1FBRTVDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUNSLE1BQU0sS0FBSyxDQUFDO0lBQ2hCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQXRFRDs4QkFzRUM7QUFBQSxDQUFDIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYGBgXG4vLyBtb25nb29zZS5jb25mLmpzXG4vLyAoYykgMjAxNiBEYXZpZCBOZXdtYW5cbi8vIGRhdmlkLnIubmljaWZvcm92aWNAZ21haWwuY29tXG4vLyBtb25nb29zZS5jb25mLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4vLyBgYGBcblxuLy8gKm1vbmdvb3NlLmNvbmYuanMqXG5cbi8vIExvYWQgTW9uZ29vc2UgZm9yIE1vbmdvREIgaW50ZXJhY3Rpb25zXG5pbXBvcnQgKiBhcyBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmltcG9ydCB7IElTZXJ2ZXJFdmVudCwgU2VydmVyRXZlbnQgfSBmcm9tICcuLi9zcmMvc2VydmVyL2hhbmRsZXJzL2V2ZW50LmhhbmRsZXInO1xuaW1wb3J0IHsgSVNlcnZlckVycm9yLCBTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL3NyYy9zZXJ2ZXIvaGFuZGxlcnMvZXJyb3IuaGFuZGxlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vbmdvb3NlQ29uZihTZXJ2ZXJFdmVudEVtaXR0ZXI6IFNlcnZlckV2ZW50LkV2ZW50RW1pdHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXJ2ZXJFcnJvckVtaXR0ZXI6IFNlcnZlckVycm9yLkVycm9yRW1pdHRlcikge1xuXG4gIGxldCBncmFjZWZ1bEV4aXQgPSBmdW5jdGlvbigpIHtcblxuICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKCkgPT4ge1xuXG4gICAgICBsZXQgZXZlbnQ6IElTZXJ2ZXJFdmVudCA9IHtcbiAgICAgICAgdHlwZTogU2VydmVyRXZlbnQuTW9uZ29HcmFjZWZ1bEV4aXQsXG4gICAgICAgIGZyb206IHByb2Nlc3MucGlkXG4gICAgICB9O1xuXG4gICAgICBTZXJ2ZXJFdmVudEVtaXR0ZXIuZW1pdChldmVudC50eXBlLCBldmVudCwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgKFByb2Nlc3MgJHtldmVudC5mcm9tfSk6IE1vbmdvb3NlIGNvbm5lY3Rpb24gaGFzIGRpc2Nvbm5lY3RlZCB0aHJvdWdoIGFwcCB0ZXJtaW5hdGlvbmApO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBtb25nb29zZS5jb25uZWN0aW9uLm9uKFwiY29ubmVjdGVkXCIsIChyZWYpID0+IHtcblxuICAgIGxldCBldmVudDogSVNlcnZlckV2ZW50ID0ge1xuICAgICAgdHlwZTogU2VydmVyRXZlbnQuTW9uZ29Db25uZWN0aW9uLFxuICAgICAgZnJvbTogcHJvY2Vzcy5waWRcbiAgICB9O1xuXG4gICAgU2VydmVyRXZlbnRFbWl0dGVyLmVtaXQoZXZlbnQudHlwZSwgZXZlbnQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzICR7ZXZlbnQuZnJvbX0gc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfSBkYXRhYmFzZSBvbiBzdGFydHVwYCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIElmIHRoZSBjb25uZWN0aW9uIHRocm93cyBhbiBlcnJvclxuICBtb25nb29zZS5jb25uZWN0aW9uLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuXG4gICAgbGV0IGVycm9yOiBJU2VydmVyRXJyb3IgPSB7XG4gICAgICB0eXBlOiBTZXJ2ZXJFcnJvci5Nb25nb0Nvbm5lY3Rpb25GYWlsdXJlLFxuICAgICAgZnJvbTogcHJvY2Vzcy5waWRcbiAgICB9O1xuXG4gICAgU2VydmVyRXJyb3JFbWl0dGVyLmVtaXQoZXJyb3IudHlwZSwgZXJyb3IsICgpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYChQcm9jZXNzICR7ZXJyb3IuZnJvbX0pOiBGYWlsZWQgdG8gY29ubmVjdCB0byAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfSBkYXRhYmFzZSBvbiBzdGFydHVwIWApO1xuICAgICAgLy8gRG9uJ3Qgc2VuZCBgcHJvY2Vzcy5leGl0KDEpYCBpbiB0aGlzIGNhc2Ugc2luY2UgYE1vbmdvb3NlYCB3aWxsIGhhbmRsZSBpdFxuICAgICAgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JylcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6ICcsIGVycik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgZGlzY29ubmVjdGVkXG4gIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcblxuICAgIGxldCBldmVudDogSVNlcnZlckV2ZW50ID0ge1xuICAgICAgdHlwZTogU2VydmVyRXZlbnQuTW9uZ29EaXNjb25uZWN0LFxuICAgICAgZnJvbTogcHJvY2Vzcy5waWRcbiAgICB9O1xuXG4gICAgU2VydmVyRXZlbnRFbWl0dGVyLmVtaXQoZXZlbnQudHlwZSwgZXZlbnQsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGAoUHJvY2VzcyAke2V2ZW50LmZyb219KTogTW9uZ29vc2UgZGVmYXVsdCBjb25uZWN0aW9uIHRvICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9IGRhdGFiYXNlIGRpc2Nvbm5lY3RlZGApO1xyXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIElmIHRoZSBOb2RlIHByb2Nlc3MgZW5kcywgY2xvc2UgdGhlIE1vbmdvb3NlIGNvbm5lY3Rpb25cbiAgcHJvY2Vzcy5vbignU0lHSU5UJywgZ3JhY2VmdWxFeGl0KS5vbignU0lHVEVSTScsIGdyYWNlZnVsRXhpdCk7XG5cbiAgLy8gQ29ubmVjdCB0byBvdXIgTW9uZ29EQiBkYXRhYmFzZSB1c2luZyB0aGUgTW9uZ29EQlxuICAvLyBjb25uZWN0aW9uIFVSSSBmcm9tIG91ciBwcmVkZWZpbmVkIGVudmlyb25tZW50IHZhcmlhYmxlXG4gIG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJLCAoZXJyb3IpID0+IHtcblxuICAgIGlmIChlcnJvcilcbiAgICAgIHRocm93IGVycm9yO1xuICB9KTtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NvbmZpZy9tb25nb29zZS5jb25mLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\r\n// ```\r\n// passport.conf.js\r\n// (c) 2015 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// passport.conf.js may be freely distributed under the MIT license\r\n// ```\r\n// *config/passport.conf.js*\r\n// This file contains the function which configures the PassportJS\r\n// instance passed in.\r\n// Load PassportJS strategies\r\nvar local = __webpack_require__(34);\r\n// Load `User` `interfaces`, `class`, and `model`\r\nvar user_model_1 = __webpack_require__(4);\r\n// Load the `Mongoose` `ObjectId` function\r\nvar ObjectId = __webpack_require__(1).Types.ObjectId;\r\nvar SessionUser = (function () {\r\n    function SessionUser(username, id, email, role) {\r\n        this.local.username = username;\r\n        this.local.email = email;\r\n        this._id = id || undefined;\r\n        this.role = role || undefined;\r\n    }\r\n    return SessionUser;\r\n}());\r\nfunction passportConf(passport) {\r\n    // Define length boundariess for expected parameters\r\n    var bounds = {\r\n        username: {\r\n            minLength: 3,\r\n            maxLength: 16\r\n        },\r\n        password: {\r\n            minLength: 8,\r\n            maxLength: 128\r\n        },\r\n        email: {\r\n            minLength: 5,\r\n            maxLength: 254\r\n        }\r\n    };\r\n    var re = {\r\n        email: {\r\n            complex: {\r\n                // Complex Javascript Regex (ASCII Only)\r\n                // https://regex101.com/r/dZ6zE6/1#\r\n                ascii: /^(?=[A-Za-z0-9][A-Za-z0-9@._%+-]{5,253}$)[A-Za-z0-9._%+-]{1,64}@(?:(?=[A-Za-z0-9-]{1,63}\\.)[A-Za-z0-9]+(?:-[A-Za-z0-9]+)*\\.){1,8}[A-Za-z]{2,63}$/g,\r\n                // Complex Javascript Regex (With Non ASCII Support)\r\n                // https://regex101.com/r/sF6jE4/1\r\n                nonascii: /^(?=([A-Za-z0-9]|[^\\x00-\\x7F])([A-Za-z0-9@._%+-]|[^\\x00-\\x7F]){5,253}$)([A-Za-z0-9._%+-]|[^\\x00-\\x7F]){1,64}@(?:(?=([A-Za-z0-9-]|[^\\x00-\\x7F]){1,63}\\.)([A-Za-z0-9]|[^\\x00-\\x7F])+(?:-([A-Za-z0-9]|[^\\x00-\\x7F])+)*\\.){1,8}([A-Za-z]|[^\\x00-\\x7F]){2,63}$/g\r\n            },\r\n            simple: {\r\n                // Simple 'Good Enough' Javascript Regex (ASCII Only)\r\n                // https://regex101.com/r/aI9yY6/1\r\n                ascii: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$/g,\r\n                // Simple 'Good Enough' Javascript Regex (With Non ASCII Support)\r\n                // https://regex101.com/r/hM7lN3/1\r\n                nonascii: /^([a-zA-Z0-9._%+-]|[^\\x00-\\x7F])+?@([a-zA-Z0-9.-]|[^\\x00-\\x7F])+\\.([a-zA-Z]|[^\\x00-\\x7F]){2,63}$/g\r\n            }\r\n        }\r\n    };\r\n    // Function to check a string against a REGEX for email validity\r\n    var validateEmail = function (email) {\r\n        // Test the passed in `email` against the specified result and return the\r\n        // result\r\n        return re.email.complex.nonascii.test(email);\r\n    };\r\n    // Helper function to validate string length\r\n    var checkLength = function (input, min, max) {\r\n        console.log(input);\r\n        // If the string is outside the passed in bounds...\r\n        if (input.length > max || input.length < min)\r\n            return false;\r\n        else\r\n            return true;\r\n    };\r\n    // # Passport Session Setup\r\n    // *required for persistent login sessions*\r\n    // Passport needs the ability to serialize and deserialize users out of\r\n    // session data\r\n    // ## Serialize User\r\n    passport.serializeUser(function (user, done) {\r\n        var sessionUser = {\r\n            _id: user._id,\r\n            username: user.local.username,\r\n            role: user.role\r\n        };\r\n        // TODO: Figure out why this isn't working\r\n        /*user.local.email ? sessionUser = new SessionUser(user.local.username,\r\n                                                         user._id,\r\n                                                         user.local.email)\r\n                         : sessionUser = new SessionUser(user.local.username,\r\n                                                         user._id);*/\r\n        done(null, sessionUser);\r\n    });\r\n    // ## Deserialize User\r\n    passport.deserializeUser(function (sessionUser, done) {\r\n        // The `sessionUser` object is different from the `user` mongoose\r\n        // collection. It is actually `req.session.passport.user` and comes\r\n        // from the `session` collection\r\n        done(null, sessionUser);\r\n    });\r\n    // # Local Signup\r\n    // We are using named strategies since we have one for login and one\r\n    // for signup\r\n    // By default, if there is no name, it would just be called 'local'\r\n    passport.use('local-signup', new local.Strategy({\r\n        // By default, local strategy uses username and password\r\n        usernameField: 'username',\r\n        passwordField: 'password',\r\n        // Allow the entire request to be passed back to the callback\r\n        passReqToCallback: true\r\n    }, function (req, username, password, done) {\r\n        // ## Data Checks\r\n        // If the length of the username string is too long/short,\r\n        // invoke verify callback\r\n        if (!checkLength(username, bounds.username.minLength, bounds.username.maxLength)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication\r\n            // failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid username length.' });\r\n        }\r\n        // If the length of the password string is too long/short,\r\n        // invoke verify callback\r\n        if (!checkLength(password, bounds.password.minLength, bounds.password.maxLength)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication\r\n            // failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid password length.' });\r\n        }\r\n        // If the length of the email string is too long/short,\r\n        // invoke verify callback\r\n        if (!checkLength(req.body.email, bounds.email.minLength, bounds.email.maxLength)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid email length.' });\r\n        }\r\n        // If the string is not a valid email...\r\n        if (!validateEmail(req.body.email)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication\r\n            // failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid email address.' });\r\n        }\r\n        // Asynchronous\r\n        // User.findOne will not fire unless data is sent back\r\n        process.nextTick(function () {\r\n            // Find a user whose email or username is the same as the passed\r\n            // in data.\r\n            // We are checking to see if the user trying to login already\r\n            // exists...\r\n            user_model_1.Users.findOne({\r\n                // Model.find `$or` Mongoose condition\r\n                $or: [\r\n                    { 'local.username': username },\r\n                    { 'local.email': req.body.email }\r\n                ]\r\n            }, function (err, user) {\r\n                // If there are any errors, return the error\r\n                if (err)\r\n                    return done(err);\r\n                // If a user exists with either of those ...\r\n                if (user) {\r\n                    // ### Verify Callback\r\n                    // Invoke `done` with `false` to indicate authentication\r\n                    // failure\r\n                    return done(null, false, \r\n                    // Return info message object\r\n                    { message: 'That username/email is already ' +\r\n                            'taken.' });\r\n                }\r\n                else {\r\n                    // If there is no user with that email or username...\r\n                    // Create the user\r\n                    var newUser_1 = new user_model_1.Users();\r\n                    // Set the user's local credentials\r\n                    // Combat case sensitivity by converting username and\r\n                    // email to lowercase characters\r\n                    newUser_1.local.username = username.toLowerCase();\r\n                    newUser_1.local.email = req.body.email.toLowerCase();\r\n                    // Hash password with model method\r\n                    newUser_1.local.password = newUser_1.generateHash(password);\r\n                    // Save the new user\r\n                    newUser_1.save(function (err) {\r\n                        if (err)\r\n                            throw err;\r\n                        return done(null, newUser_1);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }));\r\n    passport.use('local-login', new local.Strategy({\r\n        // By default, local strategy uses username and password\r\n        usernameField: 'username',\r\n        passwordField: 'password',\r\n        // Allow the entire request to be passed back to the callback\r\n        passReqToCallback: true\r\n    }, function (req, username, password, done) {\r\n        // ## Data Checks\r\n        // If the length of the username string is too long/short,\r\n        // invoke verify callback.\r\n        // Note that the check is against the bounds of the email\r\n        // object. This is because emails can be used to login as\r\n        // well.\r\n        if (!checkLength(username, bounds.username.minLength, bounds.email.maxLength)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication\r\n            // failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid username/email length.' });\r\n        }\r\n        // If the length of the password string is too long/short,\r\n        // invoke verify callback\r\n        if (!checkLength(password, bounds.password.minLength, bounds.password.maxLength)) {\r\n            // ### Verify Callback\r\n            // Invoke `done` with `false` to indicate authentication\r\n            // failure\r\n            return done(null, false, \r\n            // Return info message object\r\n            { message: 'Invalid password length.' });\r\n        }\r\n        // Find a user whose email or username is the same as the passed\r\n        // in data\r\n        // Combat case sensitivity by converting username to lowercase\r\n        // characters\r\n        user_model_1.Users.findOne({\r\n            // Model.find `$or` Mongoose condition\r\n            $or: [\r\n                { 'local.username': username.toLowerCase() },\r\n                { 'local.email': username.toLowerCase() }\r\n            ]\r\n        }, function (err, user) {\r\n            // If there are any errors, return the error before anything\r\n            // else\r\n            if (err)\r\n                return done(err);\r\n            // If no user is found, return a message\r\n            if (!user) {\r\n                return done(null, false, { message: 'That user was not found. '\r\n                        + 'Please enter valid user credentials.' });\r\n            }\r\n            // If the user is found but the password is incorrect\r\n            if (!user.validPassword(password)) {\r\n                return done(null, false, { message: 'Invalid password entered.' });\r\n            }\r\n            // Otherwise all is well; return successful user\r\n            return done(null, user);\r\n        });\r\n    }));\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = passportConf;\r\n;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcvcGFzc3BvcnQuY29uZi50cz82YjBlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUNiLE1BQU07QUFDTixtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCLGdDQUFnQztBQUNoQyxtRUFBbUU7QUFDbkUsTUFBTTtBQUVOLDRCQUE0QjtBQUU1QixrRUFBa0U7QUFDbEUsc0JBQXNCO0FBRXRCLDZCQUE2QjtBQUM3QixJQUFZLEtBQUssdUJBQU0sRUFBZ0IsQ0FBQztBQUV4QyxpREFBaUQ7QUFDakQsdUNBQWlELENBQWlDLENBQUM7QUFFbkYsMENBQTBDO0FBQzFDLElBQUksUUFBUSxHQUFHLG1CQUFPLENBQUMsQ0FBVSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztBQUVsRDtJQVNFLHFCQUFZLFFBQWdCLEVBQ2hCLEVBQVcsRUFDWCxLQUFjLEVBQ2QsSUFBYTtRQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksSUFBSSxTQUFTLENBQUM7SUFDaEMsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQztBQWlCRCxzQkFBcUMsUUFBUTtJQUUzQyxvREFBb0Q7SUFDcEQsSUFBSSxNQUFNLEdBQVk7UUFDcEIsUUFBUSxFQUFHO1lBQ1QsU0FBUyxFQUFHLENBQUM7WUFDYixTQUFTLEVBQUcsRUFBRTtTQUNmO1FBQ0QsUUFBUSxFQUFHO1lBQ1QsU0FBUyxFQUFHLENBQUM7WUFDYixTQUFTLEVBQUcsR0FBRztTQUNoQjtRQUNELEtBQUssRUFBRztZQUNOLFNBQVMsRUFBRyxDQUFDO1lBQ2IsU0FBUyxFQUFHLEdBQUc7U0FDaEI7S0FDRixDQUFDO0lBRUYs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cyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIGBgYFxuLy8gcGFzc3BvcnQuY29uZi5qc1xuLy8gKGMpIDIwMTUgRGF2aWQgTmV3bWFuXG4vLyBkYXZpZC5yLm5pY2lmb3JvdmljQGdtYWlsLmNvbVxuLy8gcGFzc3BvcnQuY29uZi5qcyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuLy8gYGBgXG5cbi8vICpjb25maWcvcGFzc3BvcnQuY29uZi5qcypcblxuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIHRoZSBmdW5jdGlvbiB3aGljaCBjb25maWd1cmVzIHRoZSBQYXNzcG9ydEpTXG4vLyBpbnN0YW5jZSBwYXNzZWQgaW4uXG5cbi8vIExvYWQgUGFzc3BvcnRKUyBzdHJhdGVnaWVzXG5pbXBvcnQgKiBhcyBsb2NhbCBmcm9tICdwYXNzcG9ydC1sb2NhbCc7XG5cbi8vIExvYWQgYFVzZXJgIGBpbnRlcmZhY2VzYCwgYGNsYXNzYCwgYW5kIGBtb2RlbGBcbmltcG9ydCB7IElVc2VyLCBVc2VyLCBVc2VyRG9jdW1lbnQsIFVzZXJzIH0gZnJvbSAnLi4vc3JjL3NlcnZlci9tb2RlbHMvdXNlci5tb2RlbCc7XG5cbi8vIExvYWQgdGhlIGBNb25nb29zZWAgYE9iamVjdElkYCBmdW5jdGlvblxubGV0IE9iamVjdElkID0gcmVxdWlyZSgnbW9uZ29vc2UnKS5UeXBlcy5PYmplY3RJZDtcblxuY2xhc3MgU2Vzc2lvblVzZXIgaW1wbGVtZW50cyBJVXNlciB7XG4gIGxvY2FsOiB7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBwYXNzd29yZDogc3RyaW5nO1xuICAgIGVtYWlsOiBzdHJpbmc7XG4gIH07XG4gIHJvbGU6IHN0cmluZztcbiAgX2lkOiBhbnk7XG5cbiAgY29uc3RydWN0b3IodXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgaWQ/OiBzdHJpbmcsXG4gICAgICAgICAgICAgIGVtYWlsPzogc3RyaW5nLFxuICAgICAgICAgICAgICByb2xlPzogc3RyaW5nKSB7XG4gICAgdGhpcy5sb2NhbC51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgIHRoaXMubG9jYWwuZW1haWwgPSBlbWFpbDtcbiAgICB0aGlzLl9pZCA9IGlkIHx8IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJvbGUgPSByb2xlIHx8IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5pbnRlcmZhY2UgSUJvdW5kcyB7XG4gIHVzZXJuYW1lIDoge1xuICAgIG1pbkxlbmd0aCA6IG51bWJlcixcbiAgICBtYXhMZW5ndGggOiBudW1iZXJcbiAgfSxcbiAgcGFzc3dvcmQgOiB7XG4gICAgbWluTGVuZ3RoIDogbnVtYmVyLFxuICAgIG1heExlbmd0aCA6IG51bWJlclxuICB9LFxuICBlbWFpbCA6IHtcbiAgICBtaW5MZW5ndGggOiBudW1iZXIsXG4gICAgbWF4TGVuZ3RoIDogbnVtYmVyXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFzc3BvcnRDb25mKHBhc3Nwb3J0KSB7XG5cbiAgLy8gRGVmaW5lIGxlbmd0aCBib3VuZGFyaWVzcyBmb3IgZXhwZWN0ZWQgcGFyYW1ldGVyc1xuICBsZXQgYm91bmRzOiBJQm91bmRzID0ge1xuICAgIHVzZXJuYW1lIDoge1xuICAgICAgbWluTGVuZ3RoIDogMyxcbiAgICAgIG1heExlbmd0aCA6IDE2XG4gICAgfSxcbiAgICBwYXNzd29yZCA6IHtcbiAgICAgIG1pbkxlbmd0aCA6IDgsXG4gICAgICBtYXhMZW5ndGggOiAxMjhcbiAgICB9LFxuICAgIGVtYWlsIDoge1xuICAgICAgbWluTGVuZ3RoIDogNSxcbiAgICAgIG1heExlbmd0aCA6IDI1NFxuICAgIH1cbiAgfTtcblxuICBsZXQgcmUgPSB7XG4gICAgZW1haWw6IHtcbiAgICAgIGNvbXBsZXg6IHtcbiAgICAgICAgLy8gQ29tcGxleCBKYXZhc2NyaXB0IFJlZ2V4IChBU0NJSSBPbmx5KVxuICAgICAgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RaNnpFNi8xI1xuICAgICAgICBhc2NpaTogL14oPz1bQS1aYS16MC05XVtBLVphLXowLTlALl8lKy1dezUsMjUzfSQpW0EtWmEtejAtOS5fJSstXXsxLDY0fUAoPzooPz1bQS1aYS16MC05LV17MSw2M31cXC4pW0EtWmEtejAtOV0rKD86LVtBLVphLXowLTldKykqXFwuKXsxLDh9W0EtWmEtel17Miw2M30kL2csXG4gICAgICAgIC8vIENvbXBsZXggSmF2YXNjcmlwdCBSZWdleCAoV2l0aCBOb24gQVNDSUkgU3VwcG9ydClcbiAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9zRjZqRTQvMVxuICAgICAgICBub25hc2NpaTogL14oPz0oW0EtWmEtejAtOV18W15cXHgwMC1cXHg3Rl0pKFtBLVphLXowLTlALl8lKy1dfFteXFx4MDAtXFx4N0ZdKXs1LDI1M30kKShbQS1aYS16MC05Ll8lKy1dfFteXFx4MDAtXFx4N0ZdKXsxLDY0fUAoPzooPz0oW0EtWmEtejAtOS1dfFteXFx4MDAtXFx4N0ZdKXsxLDYzfVxcLikoW0EtWmEtejAtOV18W15cXHgwMC1cXHg3Rl0pKyg/Oi0oW0EtWmEtejAtOV18W15cXHgwMC1cXHg3Rl0pKykqXFwuKXsxLDh9KFtBLVphLXpdfFteXFx4MDAtXFx4N0ZdKXsyLDYzfSQvZ1xuICAgICAgfSxcbiAgICAgIHNpbXBsZToge1xuICAgICAgICAvLyBTaW1wbGUgJ0dvb2QgRW5vdWdoJyBKYXZhc2NyaXB0IFJlZ2V4IChBU0NJSSBPbmx5KVxuICAgICAgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2FJOXlZNi8xXG4gICAgICAgIGFzY2lpOiAvXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Miw2M30kL2csXG4gICAgICAgIC8vIFNpbXBsZSAnR29vZCBFbm91Z2gnIEphdmFzY3JpcHQgUmVnZXggKFdpdGggTm9uIEFTQ0lJIFN1cHBvcnQpXG4gICAgICAgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvaE03bE4zLzFcbiAgICAgICAgbm9uYXNjaWk6IC9eKFthLXpBLVowLTkuXyUrLV18W15cXHgwMC1cXHg3Rl0pKz9AKFthLXpBLVowLTkuLV18W15cXHgwMC1cXHg3Rl0pK1xcLihbYS16QS1aXXxbXlxceDAwLVxceDdGXSl7Miw2M30kL2dcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBhIHN0cmluZyBhZ2FpbnN0IGEgUkVHRVggZm9yIGVtYWlsIHZhbGlkaXR5XG4gIGxldCB2YWxpZGF0ZUVtYWlsID0gKGVtYWlsOiBzdHJpbmcpID0+IHtcbiAgICAvLyBUZXN0IHRoZSBwYXNzZWQgaW4gYGVtYWlsYCBhZ2FpbnN0IHRoZSBzcGVjaWZpZWQgcmVzdWx0IGFuZCByZXR1cm4gdGhlXG4gICAgLy8gcmVzdWx0XG4gICAgcmV0dXJuIHJlLmVtYWlsLmNvbXBsZXgubm9uYXNjaWkudGVzdChlbWFpbCk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIHN0cmluZyBsZW5ndGhcbiAgbGV0IGNoZWNrTGVuZ3RoID0gKGlucHV0OiBzdHJpbmcsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGlucHV0KTtcbiAgICAvLyBJZiB0aGUgc3RyaW5nIGlzIG91dHNpZGUgdGhlIHBhc3NlZCBpbiBib3VuZHMuLi5cbiAgICBpZihpbnB1dC5sZW5ndGggPiBtYXggfHwgaW5wdXQubGVuZ3RoIDwgbWluKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gIyBQYXNzcG9ydCBTZXNzaW9uIFNldHVwXG4gIC8vICpyZXF1aXJlZCBmb3IgcGVyc2lzdGVudCBsb2dpbiBzZXNzaW9ucypcbiAgLy8gUGFzc3BvcnQgbmVlZHMgdGhlIGFiaWxpdHkgdG8gc2VyaWFsaXplIGFuZCBkZXNlcmlhbGl6ZSB1c2VycyBvdXQgb2ZcbiAgLy8gc2Vzc2lvbiBkYXRhXG4gIC8vICMjIFNlcmlhbGl6ZSBVc2VyXG4gIHBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoKHVzZXI6IFVzZXJEb2N1bWVudCwgZG9uZTogYW55KSA9PiB7XG4gICAgbGV0IHNlc3Npb25Vc2VyID0ge1xuICAgICAgX2lkIDogdXNlci5faWQsXG4gICAgICB1c2VybmFtZSA6IHVzZXIubG9jYWwudXNlcm5hbWUsXG4gICAgICByb2xlIDogdXNlci5yb2xlXG4gICAgfTtcblxuICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IHRoaXMgaXNuJ3Qgd29ya2luZ1xuICAgIC8qdXNlci5sb2NhbC5lbWFpbCA/IHNlc3Npb25Vc2VyID0gbmV3IFNlc3Npb25Vc2VyKHVzZXIubG9jYWwudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmxvY2FsLmVtYWlsKVxuICAgICAgICAgICAgICAgICAgICAgOiBzZXNzaW9uVXNlciA9IG5ldyBTZXNzaW9uVXNlcih1c2VyLmxvY2FsLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLl9pZCk7Ki9cbiAgICBkb25lKG51bGwsIHNlc3Npb25Vc2VyKTtcbiAgfSk7XG5cbiAgLy8gIyMgRGVzZXJpYWxpemUgVXNlclxuICBwYXNzcG9ydC5kZXNlcmlhbGl6ZVVzZXIoKHNlc3Npb25Vc2VyOiBhbnksIGRvbmU6IGFueSkgPT4ge1xuICAgIC8vIFRoZSBgc2Vzc2lvblVzZXJgIG9iamVjdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYHVzZXJgIG1vbmdvb3NlXG4gICAgLy8gY29sbGVjdGlvbi4gSXQgaXMgYWN0dWFsbHkgYHJlcS5zZXNzaW9uLnBhc3Nwb3J0LnVzZXJgIGFuZCBjb21lc1xuICAgIC8vIGZyb20gdGhlIGBzZXNzaW9uYCBjb2xsZWN0aW9uXG4gICAgZG9uZShudWxsLCBzZXNzaW9uVXNlcik7XG4gIH0pO1xuXG4gIC8vICMgTG9jYWwgU2lnbnVwXG4gIC8vIFdlIGFyZSB1c2luZyBuYW1lZCBzdHJhdGVnaWVzIHNpbmNlIHdlIGhhdmUgb25lIGZvciBsb2dpbiBhbmQgb25lXG4gIC8vIGZvciBzaWdudXBcbiAgLy8gQnkgZGVmYXVsdCwgaWYgdGhlcmUgaXMgbm8gbmFtZSwgaXQgd291bGQganVzdCBiZSBjYWxsZWQgJ2xvY2FsJ1xuICBwYXNzcG9ydC51c2UoJ2xvY2FsLXNpZ251cCcsIG5ldyBsb2NhbC5TdHJhdGVneSh7XG4gICAgLy8gQnkgZGVmYXVsdCwgbG9jYWwgc3RyYXRlZ3kgdXNlcyB1c2VybmFtZSBhbmQgcGFzc3dvcmRcbiAgICB1c2VybmFtZUZpZWxkIDogJ3VzZXJuYW1lJyxcbiAgICBwYXNzd29yZEZpZWxkIDogJ3Bhc3N3b3JkJyxcbiAgICAvLyBBbGxvdyB0aGUgZW50aXJlIHJlcXVlc3QgdG8gYmUgcGFzc2VkIGJhY2sgdG8gdGhlIGNhbGxiYWNrXG4gICAgcGFzc1JlcVRvQ2FsbGJhY2sgOiB0cnVlXG4gIH0sIChyZXEsIHVzZXJuYW1lLCBwYXNzd29yZCwgZG9uZSkgPT4ge1xuICAgIC8vICMjIERhdGEgQ2hlY2tzXG4gICAgLy8gSWYgdGhlIGxlbmd0aCBvZiB0aGUgdXNlcm5hbWUgc3RyaW5nIGlzIHRvbyBsb25nL3Nob3J0LFxuICAgIC8vIGludm9rZSB2ZXJpZnkgY2FsbGJhY2tcbiAgICBpZighY2hlY2tMZW5ndGgodXNlcm5hbWUsIGJvdW5kcy51c2VybmFtZS5taW5MZW5ndGgsIGJvdW5kcy51c2VybmFtZS5tYXhMZW5ndGgpKSB7XG4gICAgICAvLyAjIyMgVmVyaWZ5IENhbGxiYWNrXG4gICAgICAvLyBJbnZva2UgYGRvbmVgIHdpdGggYGZhbHNlYCB0byBpbmRpY2F0ZSBhdXRoZW50aWNhdGlvblxuICAgICAgLy8gZmFpbHVyZVxuICAgICAgcmV0dXJuIGRvbmUobnVsbCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIC8vIFJldHVybiBpbmZvIG1lc3NhZ2Ugb2JqZWN0XG4gICAgICAgIHsgbWVzc2FnZSA6ICdJbnZhbGlkIHVzZXJuYW1lIGxlbmd0aC4nIH1cbiAgICAgICk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBsZW5ndGggb2YgdGhlIHBhc3N3b3JkIHN0cmluZyBpcyB0b28gbG9uZy9zaG9ydCxcbiAgICAvLyBpbnZva2UgdmVyaWZ5IGNhbGxiYWNrXG4gICAgaWYoIWNoZWNrTGVuZ3RoKHBhc3N3b3JkLCBib3VuZHMucGFzc3dvcmQubWluTGVuZ3RoLCBib3VuZHMucGFzc3dvcmQubWF4TGVuZ3RoKSkge1xuICAgICAgLy8gIyMjIFZlcmlmeSBDYWxsYmFja1xuICAgICAgLy8gSW52b2tlIGBkb25lYCB3aXRoIGBmYWxzZWAgdG8gaW5kaWNhdGUgYXV0aGVudGljYXRpb25cbiAgICAgIC8vIGZhaWx1cmVcbiAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAvLyBSZXR1cm4gaW5mbyBtZXNzYWdlIG9iamVjdFxuICAgICAgICB7IG1lc3NhZ2UgOiAnSW52YWxpZCBwYXNzd29yZCBsZW5ndGguJyB9XG4gICAgICApO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgbGVuZ3RoIG9mIHRoZSBlbWFpbCBzdHJpbmcgaXMgdG9vIGxvbmcvc2hvcnQsXG4gICAgLy8gaW52b2tlIHZlcmlmeSBjYWxsYmFja1xuICAgIGlmKCFjaGVja0xlbmd0aChyZXEuYm9keS5lbWFpbCwgYm91bmRzLmVtYWlsLm1pbkxlbmd0aCwgYm91bmRzLmVtYWlsLm1heExlbmd0aCkpIHtcbiAgICAgIC8vICMjIyBWZXJpZnkgQ2FsbGJhY2tcbiAgICAgIC8vIEludm9rZSBgZG9uZWAgd2l0aCBgZmFsc2VgIHRvIGluZGljYXRlIGF1dGhlbnRpY2F0aW9uIGZhaWx1cmVcbiAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAvLyBSZXR1cm4gaW5mbyBtZXNzYWdlIG9iamVjdFxuICAgICAgICB7IG1lc3NhZ2UgOiAnSW52YWxpZCBlbWFpbCBsZW5ndGguJyB9XG4gICAgICApO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgc3RyaW5nIGlzIG5vdCBhIHZhbGlkIGVtYWlsLi4uXG4gICAgaWYoIXZhbGlkYXRlRW1haWwocmVxLmJvZHkuZW1haWwpKSB7XG4gICAgICAvLyAjIyMgVmVyaWZ5IENhbGxiYWNrXG4gICAgICAvLyBJbnZva2UgYGRvbmVgIHdpdGggYGZhbHNlYCB0byBpbmRpY2F0ZSBhdXRoZW50aWNhdGlvblxuICAgICAgLy8gZmFpbHVyZVxuICAgICAgcmV0dXJuIGRvbmUobnVsbCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIC8vIFJldHVybiBpbmZvIG1lc3NhZ2Ugb2JqZWN0XG4gICAgICAgIHsgbWVzc2FnZSA6ICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MuJyB9XG4gICAgICApO1xuICAgIH1cbiAgICAvLyBBc3luY2hyb25vdXNcbiAgICAvLyBVc2VyLmZpbmRPbmUgd2lsbCBub3QgZmlyZSB1bmxlc3MgZGF0YSBpcyBzZW50IGJhY2tcbiAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgIC8vIEZpbmQgYSB1c2VyIHdob3NlIGVtYWlsIG9yIHVzZXJuYW1lIGlzIHRoZSBzYW1lIGFzIHRoZSBwYXNzZWRcbiAgICAgIC8vIGluIGRhdGEuXG4gICAgICAvLyBXZSBhcmUgY2hlY2tpbmcgdG8gc2VlIGlmIHRoZSB1c2VyIHRyeWluZyB0byBsb2dpbiBhbHJlYWR5XG4gICAgICAvLyBleGlzdHMuLi5cbiAgICAgIFVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAvLyBNb2RlbC5maW5kIGAkb3JgIE1vbmdvb3NlIGNvbmRpdGlvblxuICAgICAgICAkb3IgOiBbXG4gICAgICAgICAgeyAnbG9jYWwudXNlcm5hbWUnIDogdXNlcm5hbWUgfSxcbiAgICAgICAgICB7ICdsb2NhbC5lbWFpbCcgOiByZXEuYm9keS5lbWFpbCB9XG4gICAgICAgIF1cbiAgICAgIH0sIChlcnIsIHVzZXIpID0+IHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBlcnJvcnMsIHJldHVybiB0aGUgZXJyb3JcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAvLyBJZiBhIHVzZXIgZXhpc3RzIHdpdGggZWl0aGVyIG9mIHRob3NlIC4uLlxuICAgICAgICBpZih1c2VyKSB7XG4gICAgICAgICAgLy8gIyMjIFZlcmlmeSBDYWxsYmFja1xuICAgICAgICAgIC8vIEludm9rZSBgZG9uZWAgd2l0aCBgZmFsc2VgIHRvIGluZGljYXRlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIC8vIFJldHVybiBpbmZvIG1lc3NhZ2Ugb2JqZWN0XG4gICAgICAgICAgICB7IG1lc3NhZ2UgOiAnVGhhdCB1c2VybmFtZS9lbWFpbCBpcyBhbHJlYWR5ICcgK1xuICAgICAgICAgICAgJ3Rha2VuLicgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gdXNlciB3aXRoIHRoYXQgZW1haWwgb3IgdXNlcm5hbWUuLi5cbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIHVzZXJcbiAgICAgICAgICBsZXQgbmV3VXNlciA9IG5ldyBVc2VycygpO1xuICAgICAgICAgIC8vIFNldCB0aGUgdXNlcidzIGxvY2FsIGNyZWRlbnRpYWxzXG4gICAgICAgICAgLy8gQ29tYmF0IGNhc2Ugc2Vuc2l0aXZpdHkgYnkgY29udmVydGluZyB1c2VybmFtZSBhbmRcbiAgICAgICAgICAvLyBlbWFpbCB0byBsb3dlcmNhc2UgY2hhcmFjdGVyc1xuICAgICAgICAgIG5ld1VzZXIubG9jYWwudXNlcm5hbWUgPSB1c2VybmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIG5ld1VzZXIubG9jYWwuZW1haWwgPSByZXEuYm9keS5lbWFpbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIC8vIEhhc2ggcGFzc3dvcmQgd2l0aCBtb2RlbCBtZXRob2RcbiAgICAgICAgICBuZXdVc2VyLmxvY2FsLnBhc3N3b3JkID0gbmV3VXNlci5nZW5lcmF0ZUhhc2gocGFzc3dvcmQpO1xuICAgICAgICAgIC8vIFNhdmUgdGhlIG5ldyB1c2VyXG4gICAgICAgICAgbmV3VXNlci5zYXZlKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIG5ld1VzZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSkpO1xuXG4gIHBhc3Nwb3J0LnVzZSgnbG9jYWwtbG9naW4nLCBuZXcgbG9jYWwuU3RyYXRlZ3koe1xuICAgIC8vIEJ5IGRlZmF1bHQsIGxvY2FsIHN0cmF0ZWd5IHVzZXMgdXNlcm5hbWUgYW5kIHBhc3N3b3JkXG4gICAgdXNlcm5hbWVGaWVsZCA6ICd1c2VybmFtZScsXG4gICAgcGFzc3dvcmRGaWVsZCA6ICdwYXNzd29yZCcsXG4gICAgLy8gQWxsb3cgdGhlIGVudGlyZSByZXF1ZXN0IHRvIGJlIHBhc3NlZCBiYWNrIHRvIHRoZSBjYWxsYmFja1xuICAgIHBhc3NSZXFUb0NhbGxiYWNrIDogdHJ1ZVxuICB9LCAocmVxLCB1c2VybmFtZSwgcGFzc3dvcmQsIGRvbmUpID0+IHtcbiAgICAvLyAjIyBEYXRhIENoZWNrc1xuICAgIC8vIElmIHRoZSBsZW5ndGggb2YgdGhlIHVzZXJuYW1lIHN0cmluZyBpcyB0b28gbG9uZy9zaG9ydCxcbiAgICAvLyBpbnZva2UgdmVyaWZ5IGNhbGxiYWNrLlxuICAgIC8vIE5vdGUgdGhhdCB0aGUgY2hlY2sgaXMgYWdhaW5zdCB0aGUgYm91bmRzIG9mIHRoZSBlbWFpbFxuICAgIC8vIG9iamVjdC4gVGhpcyBpcyBiZWNhdXNlIGVtYWlscyBjYW4gYmUgdXNlZCB0byBsb2dpbiBhc1xuICAgIC8vIHdlbGwuXG4gICAgaWYoIWNoZWNrTGVuZ3RoKHVzZXJuYW1lLCBib3VuZHMudXNlcm5hbWUubWluTGVuZ3RoLCBib3VuZHMuZW1haWwubWF4TGVuZ3RoKSkge1xuICAgICAgLy8gIyMjIFZlcmlmeSBDYWxsYmFja1xuICAgICAgLy8gSW52b2tlIGBkb25lYCB3aXRoIGBmYWxzZWAgdG8gaW5kaWNhdGUgYXV0aGVudGljYXRpb25cbiAgICAgIC8vIGZhaWx1cmVcbiAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAvLyBSZXR1cm4gaW5mbyBtZXNzYWdlIG9iamVjdFxuICAgICAgICB7IG1lc3NhZ2UgOiAnSW52YWxpZCB1c2VybmFtZS9lbWFpbCBsZW5ndGguJyB9XG4gICAgICApO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzd29yZCBzdHJpbmcgaXMgdG9vIGxvbmcvc2hvcnQsXG4gICAgLy8gaW52b2tlIHZlcmlmeSBjYWxsYmFja1xuICAgIGlmKCFjaGVja0xlbmd0aChwYXNzd29yZCwgYm91bmRzLnBhc3N3b3JkLm1pbkxlbmd0aCwgYm91bmRzLnBhc3N3b3JkLm1heExlbmd0aCkpIHtcbiAgICAgIC8vICMjIyBWZXJpZnkgQ2FsbGJhY2tcbiAgICAgIC8vIEludm9rZSBgZG9uZWAgd2l0aCBgZmFsc2VgIHRvIGluZGljYXRlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAvLyBmYWlsdXJlXG4gICAgICByZXR1cm4gZG9uZShudWxsLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgLy8gUmV0dXJuIGluZm8gbWVzc2FnZSBvYmplY3RcbiAgICAgICAgeyBtZXNzYWdlIDogJ0ludmFsaWQgcGFzc3dvcmQgbGVuZ3RoLicgfVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gRmluZCBhIHVzZXIgd2hvc2UgZW1haWwgb3IgdXNlcm5hbWUgaXMgdGhlIHNhbWUgYXMgdGhlIHBhc3NlZFxuICAgIC8vIGluIGRhdGFcbiAgICAvLyBDb21iYXQgY2FzZSBzZW5zaXRpdml0eSBieSBjb252ZXJ0aW5nIHVzZXJuYW1lIHRvIGxvd2VyY2FzZVxuICAgIC8vIGNoYXJhY3RlcnNcbiAgICBVc2Vycy5maW5kT25lKHtcbiAgICAgIC8vIE1vZGVsLmZpbmQgYCRvcmAgTW9uZ29vc2UgY29uZGl0aW9uXG4gICAgICAkb3IgOiBbXG4gICAgICAgIHsgJ2xvY2FsLnVzZXJuYW1lJyA6IHVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgfSxcbiAgICAgICAgeyAnbG9jYWwuZW1haWwnIDogdXNlcm5hbWUudG9Mb3dlckNhc2UoKSB9XG4gICAgICBdXG4gICAgfSwgKGVyciwgdXNlcikgPT4ge1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBlcnJvcnMsIHJldHVybiB0aGUgZXJyb3IgYmVmb3JlIGFueXRoaW5nXG4gICAgICAvLyBlbHNlXG4gICAgICBpZiAoZXJyKVxuICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgLy8gSWYgbm8gdXNlciBpcyBmb3VuZCwgcmV0dXJuIGEgbWVzc2FnZVxuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgeyBtZXNzYWdlIDogJ1RoYXQgdXNlciB3YXMgbm90IGZvdW5kLiAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgKyAnUGxlYXNlIGVudGVyIHZhbGlkIHVzZXIgY3JlZGVudGlhbHMuJyB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgdXNlciBpcyBmb3VuZCBidXQgdGhlIHBhc3N3b3JkIGlzIGluY29ycmVjdFxuICAgICAgaWYgKCF1c2VyLnZhbGlkUGFzc3dvcmQocGFzc3dvcmQpKSB7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgeyBtZXNzYWdlIDogJ0ludmFsaWQgcGFzc3dvcmQgZW50ZXJlZC4nIH0pO1xuICAgICAgfVxuICAgICAgLy8gT3RoZXJ3aXNlIGFsbCBpcyB3ZWxsOyByZXR1cm4gc3VjY2Vzc2Z1bCB1c2VyXG4gICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICB9KTtcbiAgfSkpO1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY29uZmlnL3Bhc3Nwb3J0LmNvbmYudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__dirname) {/// <reference path=\"_all.d.ts\" />\r\n'use strict';\r\nvar express = __webpack_require__(8);\r\n// Log requests to the console (Express 4)\r\nvar morgan = __webpack_require__(33);\r\n// Pull information from HTML POST (express 4)\r\nvar bodyParser = __webpack_require__(27);\r\n// Simulate DELETE and PUT (Express 4)\r\nvar methodOverride = __webpack_require__(32);\r\n// PassportJS\r\nvar passport = __webpack_require__(9);\r\nvar event_handler_1 = __webpack_require__(3);\r\nvar error_handler_1 = __webpack_require__(6);\r\nvar passport_conf_1 = __webpack_require__(12);\r\nvar mongoose_conf_1 = __webpack_require__(11);\r\nvar routes_1 = __webpack_require__(16);\r\nvar session = __webpack_require__(30);\r\n// # Node Env Variables\r\n/**\r\n * Server\r\n *\r\n * @class Server\r\n */\r\nvar Server = (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @class Server\r\n     * @constructor\r\n     */\r\n    function Server() {\r\n        // Create `Express` application\r\n        this.app = express();\r\n        // Create an instance of the Server `EventEmitter`\r\n        this.eventEmitter = new event_handler_1.ServerEvent.EventEmitter();\r\n        // Create an instance of the Server `EventHandler`\r\n        this.eventHandlers = [new event_handler_1.ServerEvent.EventHandler(this.eventEmitter)];\r\n        // Create an instance of the Server `ErrorEmitter`\r\n        this.errorEmitter = new error_handler_1.ServerError.ErrorEmitter();\r\n        // Create an instance of the Server `ErrorHandler`\r\n        this.errorHandlers = [new error_handler_1.ServerError.ErrorHandler(this.errorEmitter)];\r\n        // Configure `Mongoose`\r\n        this.mongooseConf(this.eventEmitter, this.errorEmitter);\r\n        // Configure `PassportJS`\r\n        this.passportConf(passport);\r\n        // Configure application\r\n        this.config();\r\n        // Configure `Express` routes\r\n        this.routes(this.app, passport, this.eventEmitter);\r\n    }\r\n    /**\r\n     * Bootstrap the application.\r\n     *\r\n     * @class Server\r\n     * @method bootstrap\r\n     * @static\r\n     * @return {ng.auto.InjectorService} Returns the newly created injector for this app.\r\n     */\r\n    Server.bootstrap = function () {\r\n        return new Server();\r\n    };\r\n    /**\r\n     * Configure application\r\n     *\r\n     * @class Server\r\n     * @method config\r\n     * @return void\r\n     */\r\n    Server.prototype.config = function () {\r\n        //if (process.env.NODE_ENV === 'development' ||\r\n        //  process.env.NODE_ENV === 'test') {\r\n        // Log every `request` to the console\r\n        this.app.use(morgan('dev'));\r\n        // Get all data/stuff of the body (POST) parameters\r\n        // Parse application/json\r\n        this.app.use(bodyParser.json());\r\n        // Parse application/vnd.api+json as json\r\n        this.app.use(bodyParser.json({ type: 'application/vnd.api+json' }));\r\n        // Parse application/x-www-form-urlencoded\r\n        this.app.use(bodyParser.urlencoded({ extended: true }));\r\n        // Override with the X-HTTP-Method-Override header in the request. Simulate DELETE/PUT\r\n        this.app.use(methodOverride('X-HTTP-Method-Override'));\r\n        // Set the static files location /public/img will be /img for users\r\n        this.app.use(express.static(__dirname + \"/dist\"));\r\n        // Catch `404` and forward to `error` handler\r\n        this.app.use(function (err, req, res, next) {\r\n            var error = new Error('Not Found');\r\n            err.status = 404;\r\n            next(err);\r\n        });\r\n        // Passport JS\r\n        // Session secret\r\n        this.app.use(session({\r\n            secret: process.env.SESSION_SECRET,\r\n            resave: true,\r\n            saveUninitialized: true\r\n        }));\r\n        this.app.use(passport.initialize());\r\n        // Persistent login sessions\r\n        this.app.use(passport.session());\r\n    };\r\n    /**\r\n     * Configure `Mongoose` instance\r\n     *\r\n     * @class Server\r\n     * @method mongooseConf\r\n     * @private\r\n     * @param {ServerEvent.EventEmitter} eventEmitter - event emitter reference\r\n     * @param {ServerError.ErrorEmitter} errorEmitter - error emitter reference\r\n     */\r\n    Server.prototype.mongooseConf = function (eventEmitter, errorEmitter) {\r\n        mongoose_conf_1.default(eventEmitter, errorEmitter);\r\n    };\r\n    /**\r\n     * Configure `PassportJS` instance\r\n     *\r\n     * @class Server\r\n     * @method passportConf\r\n     * @private\r\n     * @param {any} passport - `PassportJS` reference\r\n     */\r\n    Server.prototype.passportConf = function (passport) {\r\n        passport_conf_1.default(passport);\r\n    };\r\n    /**\r\n     * Configure `Exporess` routes\r\n     *\r\n     * @class Server\r\n     * @method routes\r\n     * @private\r\n     * @param {express.Application} app - `Express` application reference\r\n     * @param {any} passport - `PassportJS` reference\r\n     * @param {ServerEvent.EventEmitter} ServerEventEmitter - `EventEmitter` reference\r\n     */\r\n    Server.prototype.routes = function (app, passport, ServerEventEmitter) {\r\n        routes_1.default(app, passport, ServerEventEmitter);\r\n    };\r\n    return Server;\r\n}());\r\nvar server = Server.bootstrap();\r\nmodule.exports = server.app;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, \"src\\\\server\"))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2FwcC50cz8xNWI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1GQUFrQztBQUNsQyxZQUFZLENBQUM7QUFFYixJQUFZLE9BQU8sdUJBQU0sQ0FBUyxDQUFDO0FBRW5DLDBDQUEwQztBQUMxQyxJQUFZLE1BQU0sdUJBQU0sRUFBUSxDQUFDO0FBQ2pDLDhDQUE4QztBQUM5QyxJQUFZLFVBQVUsdUJBQU0sRUFBYSxDQUFDO0FBQzFDLHNDQUFzQztBQUN0QyxJQUFZLGNBQWMsdUJBQU0sRUFBaUIsQ0FBQztBQUNsRCxhQUFhO0FBQ2IsSUFBWSxRQUFRLHVCQUFNLENBQVUsQ0FBQztBQUVyQywwQ0FBMEMsQ0FBMEIsQ0FBQztBQUNyRSwwQ0FBMEMsQ0FBMEIsQ0FBQztBQUVyRSwwQ0FBeUIsRUFBNEIsQ0FBQztBQUN0RCwwQ0FBeUIsRUFBNEIsQ0FBQztBQUN0RCxtQ0FBc0IsRUFBVSxDQUFDO0FBR2pDLElBQVksT0FBTyx1QkFBTSxFQUFpQixDQUFDO0FBRTNDLHVCQUF1QjtBQUV2Qjs7OztHQUlHO0FBQ0g7SUFvQkU7Ozs7O09BS0c7SUFDSDtRQUNFLCtCQUErQjtRQUMvQixJQUFJLENBQUMsR0FBRyxHQUFHLE9BQU8sRUFBRSxDQUFDO1FBQ3JCLGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMkJBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNuRCxrREFBa0Q7UUFDbEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLElBQUksMkJBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDdkUsa0RBQWtEO1FBQ2xELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwyQkFBVyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ25ELGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsSUFBSSwyQkFBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMs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LFVBQWUsR0FBd0IsRUFDeEIsUUFBYSxFQUNiLGtCQUE0QztRQUN6RCxnQkFBUyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBQ0gsYUFBQztBQUFELENBQUM7QUFFRCxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDaEMsaUJBQVMsTUFBTSxDQUFDLEdBQUcsQ0FBQyIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJfYWxsLmQudHNcIiAvPlxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuLy8gTG9nIHJlcXVlc3RzIHRvIHRoZSBjb25zb2xlIChFeHByZXNzIDQpXHJcbmltcG9ydCAqIGFzIG1vcmdhbiBmcm9tICdtb3JnYW4nO1xyXG4vLyBQdWxsIGluZm9ybWF0aW9uIGZyb20gSFRNTCBQT1NUIChleHByZXNzIDQpXHJcbmltcG9ydCAqIGFzIGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG4vLyBTaW11bGF0ZSBERUxFVEUgYW5kIFBVVCAoRXhwcmVzcyA0KVxyXG5pbXBvcnQgKiBhcyBtZXRob2RPdmVycmlkZSBmcm9tICdtZXRob2Qtb3ZlcnJpZGUnO1xyXG4vLyBQYXNzcG9ydEpTXHJcbmltcG9ydCAqIGFzIHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcclxuXHJcbmltcG9ydCB7IFNlcnZlckV2ZW50LCBJU2VydmVyRXZlbnQgfSBmcm9tICcuL2hhbmRsZXJzL2V2ZW50LmhhbmRsZXInO1xyXG5pbXBvcnQgeyBJU2VydmVyRXJyb3IsIFNlcnZlckVycm9yIH0gZnJvbSAnLi9oYW5kbGVycy9lcnJvci5oYW5kbGVyJztcclxuXHJcbmltcG9ydCBwYXNzcG9ydENvbmYgZnJvbSAnLi4vLi4vY29uZmlnL3Bhc3Nwb3J0LmNvbmYnO1xyXG5pbXBvcnQgbW9uZ29vc2VDb25mIGZyb20gJy4uLy4uL2NvbmZpZy9tb25nb29zZS5jb25mJztcclxuaW1wb3J0IHJvdXRlQ29uZiBmcm9tICcuL3JvdXRlcyc7XHJcblxyXG5pbXBvcnQgKiBhcyBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XHJcbmltcG9ydCAqIGFzIHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcclxuXHJcbi8vICMgTm9kZSBFbnYgVmFyaWFibGVzXHJcblxyXG4vKipcclxuICogU2VydmVyXHJcbiAqXHJcbiAqIEBjbGFzcyBTZXJ2ZXJcclxuICovXHJcbmNsYXNzIFNlcnZlciB7XHJcblxyXG4gIHB1YmxpYyBhcHA6IGV4cHJlc3MuQXBwbGljYXRpb247XHJcbiAgcHVibGljIGV2ZW50RW1pdHRlcjogU2VydmVyRXZlbnQuRXZlbnRFbWl0dGVyO1xyXG4gIHB1YmxpYyBldmVudEhhbmRsZXJzOiBBcnJheTxTZXJ2ZXJFdmVudC5FdmVudEhhbmRsZXI+O1xyXG4gIHB1YmxpYyBlcnJvckVtaXR0ZXI6IFNlcnZlckVycm9yLkVycm9yRW1pdHRlcjtcclxuICBwdWJsaWMgZXJyb3JIYW5kbGVyczogQXJyYXk8U2VydmVyRXJyb3IuRXJyb3JIYW5kbGVyPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQm9vdHN0cmFwIHRoZSBhcHBsaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIEBjbGFzcyBTZXJ2ZXJcclxuICAgKiBAbWV0aG9kIGJvb3RzdHJhcFxyXG4gICAqIEBzdGF0aWNcclxuICAgKiBAcmV0dXJuIHtuZy5hdXRvLkluamVjdG9yU2VydmljZX0gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBpbmplY3RvciBmb3IgdGhpcyBhcHAuXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBib290c3RyYXAoKTogU2VydmVyIHtcclxuICAgIHJldHVybiBuZXcgU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RvclxyXG4gICAqXHJcbiAgICogQGNsYXNzIFNlcnZlclxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gQ3JlYXRlIGBFeHByZXNzYCBhcHBsaWNhdGlvblxyXG4gICAgdGhpcy5hcHAgPSBleHByZXNzKCk7XHJcbiAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIFNlcnZlciBgRXZlbnRFbWl0dGVyYFxyXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgU2VydmVyRXZlbnQuRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIFNlcnZlciBgRXZlbnRIYW5kbGVyYFxyXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0gW25ldyBTZXJ2ZXJFdmVudC5FdmVudEhhbmRsZXIodGhpcy5ldmVudEVtaXR0ZXIpXTtcclxuICAgIC8vIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgU2VydmVyIGBFcnJvckVtaXR0ZXJgXHJcbiAgICB0aGlzLmVycm9yRW1pdHRlciA9IG5ldyBTZXJ2ZXJFcnJvci5FcnJvckVtaXR0ZXIoKTtcclxuICAgIC8vIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgU2VydmVyIGBFcnJvckhhbmRsZXJgXHJcbiAgICB0aGlzLmVycm9ySGFuZGxlcnMgPSBbbmV3IFNlcnZlckVycm9yLkVycm9ySGFuZGxlcih0aGlzLmVycm9yRW1pdHRlcildO1xyXG4gICAgLy8gQ29uZmlndXJlIGBNb25nb29zZWBcclxuICAgIHRoaXMubW9uZ29vc2VDb25mKHRoaXMuZXZlbnRFbWl0dGVyLCB0aGlzLmVycm9yRW1pdHRlcik7XHJcbiAgICAvLyBDb25maWd1cmUgYFBhc3Nwb3J0SlNgXHJcbiAgICB0aGlzLnBhc3Nwb3J0Q29uZihwYXNzcG9ydCk7XHJcbiAgICAvLyBDb25maWd1cmUgYXBwbGljYXRpb25cclxuICAgIHRoaXMuY29uZmlnKCk7XHJcbiAgICAvLyBDb25maWd1cmUgYEV4cHJlc3NgIHJvdXRlc1xyXG4gICAgdGhpcy5yb3V0ZXModGhpcy5hcHAsIHBhc3Nwb3J0LCB0aGlzLmV2ZW50RW1pdHRlcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25maWd1cmUgYXBwbGljYXRpb25cclxuICAgKlxyXG4gICAqIEBjbGFzcyBTZXJ2ZXJcclxuICAgKiBAbWV0aG9kIGNvbmZpZ1xyXG4gICAqIEByZXR1cm4gdm9pZFxyXG4gICAqL1xyXG4gIHByaXZhdGUgY29uZmlnKCkge1xyXG4gICAgLy9pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHxcclxuICAgIC8vICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XHJcbiAgICAvLyBMb2cgZXZlcnkgYHJlcXVlc3RgIHRvIHRoZSBjb25zb2xlXHJcbiAgICB0aGlzLmFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XHJcblxyXG4gICAgLy8gR2V0IGFsbCBkYXRhL3N0dWZmIG9mIHRoZSBib2R5IChQT1NUKSBwYXJhbWV0ZXJzXHJcblxyXG4gICAgLy8gUGFyc2UgYXBwbGljYXRpb24vanNvblxyXG4gICAgdGhpcy5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuICAgIC8vIFBhcnNlIGFwcGxpY2F0aW9uL3ZuZC5hcGkranNvbiBhcyBqc29uXHJcbiAgICB0aGlzLmFwcC51c2UoYm9keVBhcnNlci5qc29uKHsgdHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicgfSkpO1xyXG4gICAgLy8gUGFyc2UgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXHJcbiAgICB0aGlzLmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xyXG5cclxuICAgIC8vIE92ZXJyaWRlIHdpdGggdGhlIFgtSFRUUC1NZXRob2QtT3ZlcnJpZGUgaGVhZGVyIGluIHRoZSByZXF1ZXN0LiBTaW11bGF0ZSBERUxFVEUvUFVUXHJcbiAgICB0aGlzLmFwcC51c2UobWV0aG9kT3ZlcnJpZGUoJ1gtSFRUUC1NZXRob2QtT3ZlcnJpZGUnKSk7XHJcbiAgICAvLyBTZXQgdGhlIHN0YXRpYyBmaWxlcyBsb2NhdGlvbiAvcHVibGljL2ltZyB3aWxsIGJlIC9pbWcgZm9yIHVzZXJzXHJcbiAgICB0aGlzLmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoYCR7X19kaXJuYW1lfS9kaXN0YCkpO1xyXG5cclxuICAgIC8vIENhdGNoIGA0MDRgIGFuZCBmb3J3YXJkIHRvIGBlcnJvcmAgaGFuZGxlclxyXG4gICAgdGhpcy5hcHAudXNlKGZ1bmN0aW9uKGVycjogYW55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikge1xyXG4gICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xyXG4gICAgICBlcnIuc3RhdHVzID0gNDA0O1xyXG4gICAgICBuZXh0KGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQYXNzcG9ydCBKU1xyXG5cclxuICAgIC8vIFNlc3Npb24gc2VjcmV0XHJcbiAgICB0aGlzLmFwcC51c2Uoc2Vzc2lvbih7XHJcbiAgICAgIHNlY3JldCA6IHByb2Nlc3MuZW52LlNFU1NJT05fU0VDUkVULFxyXG4gICAgICByZXNhdmUgOiB0cnVlLFxyXG4gICAgICBzYXZlVW5pbml0aWFsaXplZCA6IHRydWVcclxuICAgIH0pKTtcclxuXHJcbiAgICB0aGlzLmFwcC51c2UocGFzc3BvcnQuaW5pdGlhbGl6ZSgpKTtcclxuXHJcbiAgICAvLyBQZXJzaXN0ZW50IGxvZ2luIHNlc3Npb25zXHJcbiAgICB0aGlzLmFwcC51c2UocGFzc3BvcnQuc2Vzc2lvbigpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbmZpZ3VyZSBgTW9uZ29vc2VgIGluc3RhbmNlXHJcbiAgICpcclxuICAgKiBAY2xhc3MgU2VydmVyXHJcbiAgICogQG1ldGhvZCBtb25nb29zZUNvbmZcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7U2VydmVyRXZlbnQuRXZlbnRFbWl0dGVyfSBldmVudEVtaXR0ZXIgLSBldmVudCBlbWl0dGVyIHJlZmVyZW5jZVxyXG4gICAqIEBwYXJhbSB7U2VydmVyRXJyb3IuRXJyb3JFbWl0dGVyfSBlcnJvckVtaXR0ZXIgLSBlcnJvciBlbWl0dGVyIHJlZmVyZW5jZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgbW9uZ29vc2VDb25mKGV2ZW50RW1pdHRlcjogU2VydmVyRXZlbnQuRXZlbnRFbWl0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGVycm9yRW1pdHRlcjogU2VydmVyRXJyb3IuRXJyb3JFbWl0dGVyKSB7XHJcbiAgICBtb25nb29zZUNvbmYoZXZlbnRFbWl0dGVyLCBlcnJvckVtaXR0ZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uZmlndXJlIGBQYXNzcG9ydEpTYCBpbnN0YW5jZVxyXG4gICAqXHJcbiAgICogQGNsYXNzIFNlcnZlclxyXG4gICAqIEBtZXRob2QgcGFzc3BvcnRDb25mXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge2FueX0gcGFzc3BvcnQgLSBgUGFzc3BvcnRKU2AgcmVmZXJlbmNlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBwYXNzcG9ydENvbmYocGFzc3BvcnQ6IGFueSkge1xyXG4gICAgcGFzc3BvcnRDb25mKHBhc3Nwb3J0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbmZpZ3VyZSBgRXhwb3Jlc3NgIHJvdXRlc1xyXG4gICAqXHJcbiAgICogQGNsYXNzIFNlcnZlclxyXG4gICAqIEBtZXRob2Qgcm91dGVzXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge2V4cHJlc3MuQXBwbGljYXRpb259IGFwcCAtIGBFeHByZXNzYCBhcHBsaWNhdGlvbiByZWZlcmVuY2VcclxuICAgKiBAcGFyYW0ge2FueX0gcGFzc3BvcnQgLSBgUGFzc3BvcnRKU2AgcmVmZXJlbmNlXHJcbiAgICogQHBhcmFtIHtTZXJ2ZXJFdmVudC5FdmVudEVtaXR0ZXJ9IFNlcnZlckV2ZW50RW1pdHRlciAtIGBFdmVudEVtaXR0ZXJgIHJlZmVyZW5jZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgcm91dGVzKGFwcDogZXhwcmVzcy5BcHBsaWNhdGlvbixcclxuICAgICAgICAgICAgICAgICBwYXNzcG9ydDogYW55LFxyXG4gICAgICAgICAgICAgICAgIFNlcnZlckV2ZW50RW1pdHRlcjogU2VydmVyRXZlbnQuRXZlbnRFbWl0dGVyKSB7XHJcbiAgICByb3V0ZUNvbmYoYXBwLCBwYXNzcG9ydCwgU2VydmVyRXZlbnRFbWl0dGVyKTtcclxuICB9XHJcbn1cclxuXHJcbmxldCBzZXJ2ZXIgPSBTZXJ2ZXIuYm9vdHN0cmFwKCk7XHJcbmV4cG9ydCA9IHNlcnZlci5hcHA7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9hcHAudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 14 */
/***/ function(module, exports, __webpack_require__) {

	eval("// ```\r\n// recipe.model.ts\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// recipe.model.js may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\n// */app/models/recipe.model.ts*\r\n// # Recipe Model\r\n// Note: MongoDB will autogenerate an `_id` for each `Recipe` object created\r\n// Grab the Mongoose module\r\nvar mongoose = __webpack_require__(1);\r\nvar Schema = mongoose.Schema;\r\nvar Recipe = (function () {\r\n    function Recipe(data) {\r\n        this.title = data.title;\r\n        this.tags = data.tags;\r\n        this.rating = data.rating;\r\n        this.creator = data.creator;\r\n        this.description = data.description;\r\n        this.ingredients = data.ingredients;\r\n        this.directions = data.directions;\r\n    }\r\n    return Recipe;\r\n}());\r\nexports.Recipe = Recipe;\r\n// Create a `schema` for the `Todo` object\r\nvar recipeSchema = new Schema({\r\n    title: { type: String },\r\n    tags: { type: Array },\r\n    rating: { type: Number },\r\n    creator: { type: String },\r\n    description: { type: String },\r\n    ingredients: [{\r\n            amount: {\r\n                type: String\r\n            },\r\n            unit: {\r\n                type: String\r\n            },\r\n            name: {\r\n                type: String\r\n            }\r\n        }],\r\n    directions: { type: Array }\r\n});\r\n// Expose the `model` so that it can be imported and used in\r\n// the controller (to search, delete, etc.)\r\nexports.Recipes = mongoose.model('Recipe', recipeSchema);\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZGVscy9yZWNpcGUubW9kZWwudHM/NzYzZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQ04sa0JBQWtCO0FBQ2xCLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsa0VBQWtFO0FBQ2xFLE1BQU07O0FBRU4sZ0NBQWdDO0FBRWhDLGlCQUFpQjtBQUVqQiw0RUFBNEU7QUFFNUUsMkJBQTJCO0FBQzNCLElBQU8sUUFBUSx1QkFBVyxDQUFVLENBQUMsQ0FBQztBQUV0QyxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBZ0I3QjtJQWFFLGdCQUFZLElBQWE7UUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3BDLENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQztBQXRCWSxjQUFNLFNBc0JsQjtBQUVELDBDQUEwQztBQUMxQyxJQUFJLFlBQVksR0FBRyxJQUFJLE1BQU0sQ0FBQztJQUM1QixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUcsTUFBTSxFQUFFO0lBQ3hCLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7SUFDckIsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQztJQUN2QixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDO0lBQ3hCLFdBQVcsRUFBRSxFQUFFLElBQUksRUFBRyxNQUFNLEVBQUU7SUFDOUIsV0FBVyxFQUFFLENBQUM7WUFDWixNQUFNLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLE1BQU07YUFDYjtZQUNELElBQUksRUFBRTtnQkFDSixJQUFJLEVBQUUsTUFBTTthQUNiO1lBQ0QsSUFBSSxFQUFFO2dCQUNKLElBQUksRUFBRSxNQUFNO2FBQ2I7U0FDRixDQUFDO0lBQ0YsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTtDQUM1QixDQUFDLENBQUM7QUFLSCw0REFBNEQ7QUFDNUQsMkNBQTJDO0FBQ2hDLGVBQU8sR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFpQixRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUMiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBgYGBcbi8vIHJlY2lwZS5tb2RlbC50c1xuLy8gKGMpIDIwMTYgRGF2aWQgTmV3bWFuXG4vLyBkYXZpZC5yLm5pY2lmb3JvdmljQGdtYWlsLmNvbVxuLy8gcmVjaXBlLm1vZGVsLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4vLyBgYGBcblxuLy8gKi9hcHAvbW9kZWxzL3JlY2lwZS5tb2RlbC50cypcblxuLy8gIyBSZWNpcGUgTW9kZWxcblxuLy8gTm90ZTogTW9uZ29EQiB3aWxsIGF1dG9nZW5lcmF0ZSBhbiBgX2lkYCBmb3IgZWFjaCBgUmVjaXBlYCBvYmplY3QgY3JlYXRlZFxuXG4vLyBHcmFiIHRoZSBNb25nb29zZSBtb2R1bGVcbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cbmxldCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmludGVyZmFjZSBJUmVjaXBlIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdGFnczogQXJyYXk8YW55PjtcbiAgcmF0aW5nOiBudW1iZXI7XG4gIGNyZWF0b3I6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgaW5ncmVkaWVudHM6IHtcbiAgICBhbW91bnQ6IHN0cmluZztcbiAgICB1bml0OiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9O1xuICBkaXJlY3Rpb25zOiBBcnJheTxhbnk+O1xufVxuXG5leHBvcnQgY2xhc3MgUmVjaXBlIGltcGxlbWVudHMgSVJlY2lwZSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHRhZ3M6IEFycmF5PGFueT47XG4gIHJhdGluZzogbnVtYmVyO1xuICBjcmVhdG9yOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGluZ3JlZGllbnRzOiB7XG4gICAgYW1vdW50OiBzdHJpbmc7XG4gICAgdW5pdDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgfTtcbiAgZGlyZWN0aW9uczogQXJyYXk8YW55PjtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBJUmVjaXBlKSB7XG4gICAgdGhpcy50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgdGhpcy50YWdzID0gZGF0YS50YWdzO1xuICAgIHRoaXMucmF0aW5nID0gZGF0YS5yYXRpbmc7XG4gICAgdGhpcy5jcmVhdG9yID0gZGF0YS5jcmVhdG9yO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uO1xuICAgIHRoaXMuaW5ncmVkaWVudHMgPSBkYXRhLmluZ3JlZGllbnRzO1xuICAgIHRoaXMuZGlyZWN0aW9ucyA9IGRhdGEuZGlyZWN0aW9ucztcbiAgfVxufVxuXG4vLyBDcmVhdGUgYSBgc2NoZW1hYCBmb3IgdGhlIGBUb2RvYCBvYmplY3RcbmxldCByZWNpcGVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGl0bGU6IHsgdHlwZSA6IFN0cmluZyB9LFxuICB0YWdzOiB7IHR5cGU6IEFycmF5IH0sXG4gIHJhdGluZzogeyB0eXBlOiBOdW1iZXJ9LFxuICBjcmVhdG9yOiB7IHR5cGU6IFN0cmluZ30sXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGUgOiBTdHJpbmcgfSxcbiAgaW5ncmVkaWVudHM6IFt7XG4gICAgYW1vdW50OiB7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHVuaXQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfVxuICB9XSxcbiAgZGlyZWN0aW9uczogeyB0eXBlOiBBcnJheSB9XG59KTtcblxuLy8gRXhwb3J0IGBEb2N1bWVudGBcbmV4cG9ydCBpbnRlcmZhY2UgUmVjaXBlRG9jdW1lbnQgZXh0ZW5kcyBSZWNpcGUsIG1vbmdvb3NlLkRvY3VtZW50IHsgfVxuXG4vLyBFeHBvc2UgdGhlIGBtb2RlbGAgc28gdGhhdCBpdCBjYW4gYmUgaW1wb3J0ZWQgYW5kIHVzZWQgaW5cbi8vIHRoZSBjb250cm9sbGVyICh0byBzZWFyY2gsIGRlbGV0ZSwgZXRjLilcbmV4cG9ydCBsZXQgUmVjaXBlcyA9IG1vbmdvb3NlLm1vZGVsPFJlY2lwZURvY3VtZW50PignUmVjaXBlJywgcmVjaXBlU2NoZW1hKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9tb2RlbHMvcmVjaXBlLm1vZGVsLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	eval("// ```\r\n// todo.model.ts\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// todo.model.ts may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\n// */app/models/todo.model.ts*\r\n// # Todo Model\r\n// Note: MongoDB will autogenerate an `_id` for each `Todo` object created\r\n// Grab the Mongoose module\r\nvar mongoose = __webpack_require__(1);\r\nvar Schema = mongoose.Schema;\r\nvar Todo = (function () {\r\n    function Todo(data) {\r\n        this.text = data.text;\r\n    }\r\n    return Todo;\r\n}());\r\nexports.Todo = Todo;\r\n// Create a `schema` for the `Todo` object\r\nvar todoSchema = new Schema({\r\n    text: { required: true, type: String }\r\n});\r\n// Expose the `model` so that it can be imported and used in\r\n// the controller (to search, delete, etc.)\r\nexports.Todos = mongoose.model('Todo', todoSchema);\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL21vZGVscy90b2RvLm1vZGVsLnRzP2E3YTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUNOLGdCQUFnQjtBQUNoQix3QkFBd0I7QUFDeEIsZ0NBQWdDO0FBQ2hDLGdFQUFnRTtBQUNoRSxNQUFNOztBQUVOLDhCQUE4QjtBQUU5QixlQUFlO0FBRWYsMEVBQTBFO0FBRTFFLDJCQUEyQjtBQUMzQixJQUFPLFFBQVEsdUJBQVcsQ0FBVSxDQUFDLENBQUM7QUFFdEMsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQztBQU03QjtJQUdFLGNBQVksSUFBVztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUNILFdBQUM7QUFBRCxDQUFDO0FBTlksWUFBSSxPQU1oQjtBQUVELDBDQUEwQztBQUMxQyxJQUFJLFVBQVUsR0FBRyxJQUFJLE1BQU0sQ0FBQztJQUMxQixJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRyxNQUFNLEVBQUU7Q0FDeEMsQ0FBQyxDQUFDO0FBS0gsNERBQTREO0FBQzVELDJDQUEyQztBQUNoQyxhQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBZSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUMiLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBgYGBcbi8vIHRvZG8ubW9kZWwudHNcbi8vIChjKSAyMDE2IERhdmlkIE5ld21hblxuLy8gZGF2aWQuci5uaWNpZm9yb3ZpY0BnbWFpbC5jb21cbi8vIHRvZG8ubW9kZWwudHMgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Vcbi8vIGBgYFxuXG4vLyAqL2FwcC9tb2RlbHMvdG9kby5tb2RlbC50cypcblxuLy8gIyBUb2RvIE1vZGVsXG5cbi8vIE5vdGU6IE1vbmdvREIgd2lsbCBhdXRvZ2VuZXJhdGUgYW4gYF9pZGAgZm9yIGVhY2ggYFRvZG9gIG9iamVjdCBjcmVhdGVkXG5cbi8vIEdyYWIgdGhlIE1vbmdvb3NlIG1vZHVsZVxuaW1wb3J0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxubGV0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuaW50ZXJmYWNlIElUb2RvIHtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVG9kbyBpbXBsZW1lbnRzIElUb2RvIHtcbiAgdGV4dDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IElUb2RvKSB7XG4gICAgdGhpcy50ZXh0ID0gZGF0YS50ZXh0O1xuICB9XG59XG5cbi8vIENyZWF0ZSBhIGBzY2hlbWFgIGZvciB0aGUgYFRvZG9gIG9iamVjdFxubGV0IHRvZG9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGV4dDogeyByZXF1aXJlZDogdHJ1ZSwgdHlwZSA6IFN0cmluZyB9XG59KTtcblxuLy8gRXhwb3J0IGBEb2N1bWVudGBcbmV4cG9ydCBpbnRlcmZhY2UgVG9kb0RvY3VtZW50IGV4dGVuZHMgVG9kbywgbW9uZ29vc2UuRG9jdW1lbnQgeyB9XG5cbi8vIEV4cG9zZSB0aGUgYG1vZGVsYCBzbyB0aGF0IGl0IGNhbiBiZSBpbXBvcnRlZCBhbmQgdXNlZCBpblxuLy8gdGhlIGNvbnRyb2xsZXIgKHRvIHNlYXJjaCwgZGVsZXRlLCBldGMuKVxuZXhwb3J0IGxldCBUb2RvcyA9IG1vbmdvb3NlLm1vZGVsPFRvZG9Eb2N1bWVudD4oJ1RvZG8nLCB0b2RvU2NoZW1hKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9tb2RlbHMvdG9kby5tb2RlbC50c1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__dirname) {// ```\r\n// routes.js\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// routes.js may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\nvar _this = this;\r\nvar express = __webpack_require__(8);\r\n// Load our `API` routes for user authentication\r\nvar authRouter = __webpack_require__(17);\r\n// Load our `API` router for the `validation` service\r\nvar validationRouter = __webpack_require__(20);\r\n// Load our `API` router for the `todo` component\r\nvar todoRouter = __webpack_require__(19);\r\n// Load our `API` router for the `recipe` component\r\nvar recipeRouter = __webpack_require__(18);\r\nvar event_handler_1 = __webpack_require__(3);\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = function (app, passport, ServerEventEmitter) {\r\n    var router;\r\n    // Get an instance of the `express` `Router`\r\n    router = express.Router();\r\n    // Keep track of `http` requests\r\n    var numReqs = 0;\r\n    // ### Express Middlware to use for all requests\r\n    router.use(function (req, res, next) {\r\n        if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test') {\r\n            var event_1 = {\r\n                type: event_handler_1.ServerEvent.NotifyRequest,\r\n                from: process.pid\r\n            };\r\n            ServerEventEmitter.emit(event_1.type, event_1, function () {\r\n                numReqs++;\r\n                console.log('I sense a disturbance in the force...');\r\n                console.log(\"{\" + event_1.from + \"} - requests served since last restart: \" + numReqs);\r\n            });\r\n        }\r\n        // Make sure we go to the next routes and don't stop here...\r\n        next();\r\n    });\r\n    // Define a middleware function to be used for all secured routes\r\n    var auth = function (req, res, next) {\r\n        if (!req.isAuthenticated())\r\n            res.send(401);\r\n        else\r\n            next();\r\n    };\r\n    // Define a middleware function to be used for all secured administration\r\n    // routes\r\n    var admin = function (req, res, next) {\r\n        if (!req.isAuthenticated() || req.user.role !== 'admin')\r\n            res.send(401);\r\n        else\r\n            next();\r\n    };\r\n    // ### Server Routes\r\n    // Handle things like API calls,\r\n    // #### Authentication routes\r\n    // Pass in our Express app and Router.\r\n    // Also pass in auth & admin middleware and Passport instance\r\n    var authRoutes = new authRouter.Routes(_this.app, router, passport, auth, admin);\r\n    // #### RESTful API Routes\r\n    // Pass in our Express app and Router\r\n    var validationRoutes = new validationRouter.Routes(_this.app, router);\r\n    var todoRoutes = new todoRouter.Routes(_this.app, router);\r\n    var recipeRoutes = new recipeRouter.Routes(_this.app, router);\r\n    // All of our routes will be prefixed with /api\r\n    app.use('/api', router);\r\n    // ### Frontend Routes\r\n    // Serve static front-end assets\r\n    app.use(express.static('dist/client'));\r\n    // Route to handle all Angular requests\r\n    app.get('*', function (req, res) {\r\n        // Load our src/app.html file\r\n        //** Note that the root is set to the parent of this folder, ie the app root **\r\n        res.sendFile('/dist/client/index.html', { root: __dirname + \"/../../\" });\r\n    });\r\n    // Use `router` middleware\r\n    app.use(router);\r\n};\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, \"src\\\\server\"))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy50cz9hNjczIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVEQUFNO0FBQ04sWUFBWTtBQUNaLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsNERBQTREO0FBQzVELE1BQU07O0FBRU4saUJBbUhBO0FBbkhBLElBQVksT0FBTyx1QkFBTSxDQUFTLENBQUM7QUFFbkMsZ0RBQWdEO0FBQ2hELElBQVksVUFBVSx1QkFBTSxFQUFpQyxDQUFDO0FBQzlELHFEQUFxRDtBQUNyRCxJQUFZLGdCQUFnQix1QkFBTSxFQUE2QixDQUFDO0FBQ2hFLGlEQUFpRDtBQUNqRCxJQUFZLFVBQVUsdUJBQU0sRUFBdUIsQ0FBQztBQUNwRCxtREFBbUQ7QUFDbkQsSUFBWSxZQUFZLHVCQUFNLEVBQXlCLENBQUM7QUFFeEQsMENBQTBDLENBQTBCLENBQUM7QUFRckU7a0JBQWUsVUFBQyxHQUF3QixFQUN4QixRQUFhLEVBQ2Isa0JBQTRDO0lBRTFELElBQUksTUFBc0IsQ0FBQztJQUMzQiw0Q0FBNEM7SUFDNUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUUxQixnQ0FBZ0M7SUFDaEMsSUFBSSxPQUFPLEdBQVcsQ0FBQyxDQUFDO0lBRXhCLGdEQUFnRDtJQUNoRCxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7UUFDcEMsRUFBRSxFQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLGFBQWEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBRTdFLElBQUksT0FBSyxHQUFpQjtnQkFDeEIsSUFBSSxFQUFFLDJCQUFXLENBQUMsYUFBYTtnQkFDL0IsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHO2FBQ2xCLENBQUM7WUFDRixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBSyxDQUFDLElBQUksRUFBRSxPQUFLLEVBQUU7Z0JBQ3pDLE9BQU8sRUFBRSxDQUFDO2dCQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUNBQXVDLENBQUMsQ0FBQztnQkFDckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFJLE9BQUssQ0FBQyxJQUFJLGdEQUEyQyxPQUFTLENBQUMsQ0FBQztZQUNsRixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCw0REFBNEQ7UUFDNUQsSUFBSSxFQUFFLENBQUM7SUFDVCxDQUFDLENBQUMsQ0FBQztJQUVILGlFQUFpRTtJQUNqRSxJQUFJLElBQUksR0FBRyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO1FBRXBDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3pCLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFaEIsSUFBSTtZQUNGLElBQUksRUFBRSxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0lBRUYseUVBQXlFO0lBQ3pFLFNBQVM7SUFDVCxJQUFJLEtBQUssR0FBRyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO1FBRXJDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQztZQUN0RCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWhCLElBQUk7WUFDRixJQUFJLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQztJQUVGLG9CQUFvQjtJQUVwQixnQ0FBZ0M7SUFFaEMsNkJBQTZCO0lBRTdCLHNDQUFzQztJQUN0Qyw2REFBNkQ7SUFDN0QsSUFBSSxVQUFVLEdBQ1YsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUksQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFbkUsMEJBQTBCO0lBRTFCLHFDQUFxQztJQUNyQyxJQUFJLGdCQUFnQixHQUNoQixJQUFJLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRWxELElBQUksVUFBVSxHQUFzQixJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUU1RSxJQUFJLFlBQVksR0FBd0IsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUksQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFFbEYsK0NBQStDO0lBQy9DLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXhCLHNCQUFzQjtJQUV0QixnQ0FBZ0M7SUFDaEMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFFdkMsdUNBQXVDO0lBQ3ZDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7UUFFcEIsNkJBQTZCO1FBQzdCLCtFQUErRTtRQUMvRSxHQUFHLENBQUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsR0FBRyxTQUFTLEVBQUMsQ0FBQyxDQUFDO0lBQzFFLENBQUMsQ0FBQyxDQUFDO0lBRUgsMEJBQTBCO0lBQzFCLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbEIsQ0FBQyxDQUFDIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYGBgXG4vLyByb3V0ZXMuanNcbi8vIChjKSAyMDE2IERhdmlkIE5ld21hblxuLy8gZGF2aWQuci5uaWNpZm9yb3ZpY0BnbWFpbC5jb21cbi8vIHJvdXRlcy5qcyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuLy8gYGBgXG5cbmltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5cbi8vIExvYWQgb3VyIGBBUElgIHJvdXRlcyBmb3IgdXNlciBhdXRoZW50aWNhdGlvblxuaW1wb3J0ICogYXMgYXV0aFJvdXRlciBmcm9tIFwiLi9yb3V0ZXMvX2F1dGhlbnRpY2F0aW9uLnJvdXRlclwiO1xuLy8gTG9hZCBvdXIgYEFQSWAgcm91dGVyIGZvciB0aGUgYHZhbGlkYXRpb25gIHNlcnZpY2VcbmltcG9ydCAqIGFzIHZhbGlkYXRpb25Sb3V0ZXIgZnJvbSBcIi4vcm91dGVzL192YWxpZGF0aW9uLnJvdXRlclwiO1xuLy8gTG9hZCBvdXIgYEFQSWAgcm91dGVyIGZvciB0aGUgYHRvZG9gIGNvbXBvbmVudFxuaW1wb3J0ICogYXMgdG9kb1JvdXRlciBmcm9tIFwiLi9yb3V0ZXMvX3RvZG8ucm91dGVyXCI7XG4vLyBMb2FkIG91ciBgQVBJYCByb3V0ZXIgZm9yIHRoZSBgcmVjaXBlYCBjb21wb25lbnRcbmltcG9ydCAqIGFzIHJlY2lwZVJvdXRlciBmcm9tICcuL3JvdXRlcy9fcmVjaXBlLnJvdXRlcic7XG5cbmltcG9ydCB7IFNlcnZlckV2ZW50LCBJU2VydmVyRXZlbnQgfSBmcm9tICcuL2hhbmRsZXJzL2V2ZW50LmhhbmRsZXInO1xuXG4vLyAqL2FwcC9yb3V0ZXMuanMqXG5cbi8vICMjIE5vZGUgQVBJIFJvdXRlc1xuXG4vLyBEZWZpbmUgcm91dGVzIGZvciB0aGUgTm9kZSBiYWNrZW5kXG5cbmV4cG9ydCBkZWZhdWx0IChhcHA6IGV4cHJlc3MuQXBwbGljYXRpb24sXG4gICAgICAgICAgICAgICAgcGFzc3BvcnQ6IGFueSxcbiAgICAgICAgICAgICAgICBTZXJ2ZXJFdmVudEVtaXR0ZXI6IFNlcnZlckV2ZW50LkV2ZW50RW1pdHRlcikgPT4ge1xuXG4gIGxldCByb3V0ZXI6IGV4cHJlc3MuUm91dGVyO1xuICAvLyBHZXQgYW4gaW5zdGFuY2Ugb2YgdGhlIGBleHByZXNzYCBgUm91dGVyYFxuICByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4gIC8vIEtlZXAgdHJhY2sgb2YgYGh0dHBgIHJlcXVlc3RzXG4gIGxldCBudW1SZXFzOiBudW1iZXIgPSAwO1xuXG4gIC8vICMjIyBFeHByZXNzIE1pZGRsd2FyZSB0byB1c2UgZm9yIGFsbCByZXF1ZXN0c1xuICByb3V0ZXIudXNlKChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcbiAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxuICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xuICAgIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcblxuICAgICAgbGV0IGV2ZW50OiBJU2VydmVyRXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFNlcnZlckV2ZW50Lk5vdGlmeVJlcXVlc3QsXG4gICAgICAgIGZyb206IHByb2Nlc3MucGlkXG4gICAgICB9O1xuICAgICAgU2VydmVyRXZlbnRFbWl0dGVyLmVtaXQoZXZlbnQudHlwZSwgZXZlbnQsICgpID0+IHtcbiAgICAgICAgbnVtUmVxcysrO1xuICAgICAgICBjb25zb2xlLmxvZygnSSBzZW5zZSBhIGRpc3R1cmJhbmNlIGluIHRoZSBmb3JjZS4uLicpO1xuICAgICAgICBjb25zb2xlLmxvZyhgeyR7ZXZlbnQuZnJvbX19IC0gcmVxdWVzdHMgc2VydmVkIHNpbmNlIGxhc3QgcmVzdGFydDogJHtudW1SZXFzfWApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB3ZSBnbyB0byB0aGUgbmV4dCByb3V0ZXMgYW5kIGRvbid0IHN0b3AgaGVyZS4uLlxuICAgIG5leHQoKTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0byBiZSB1c2VkIGZvciBhbGwgc2VjdXJlZCByb3V0ZXNcbiAgbGV0IGF1dGggPSAocmVxOiBleHByZXNzLlJlcXVlc3QsXG4gICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcbiAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcblxuICAgIGlmICghcmVxLmlzQXV0aGVudGljYXRlZCgpKVxuICAgICAgcmVzLnNlbmQoNDAxKTtcblxuICAgIGVsc2VcbiAgICAgIG5leHQoKTtcbiAgfTtcblxuICAvLyBEZWZpbmUgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIGJlIHVzZWQgZm9yIGFsbCBzZWN1cmVkIGFkbWluaXN0cmF0aW9uXG4gIC8vIHJvdXRlc1xuICBsZXQgYWRtaW4gPSAocmVxOiBleHByZXNzLlJlcXVlc3QsXG4gICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXG4gICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xuXG4gICAgaWYgKCFyZXEuaXNBdXRoZW50aWNhdGVkKCkgfHwgcmVxLnVzZXIucm9sZSAhPT0gJ2FkbWluJylcbiAgICAgIHJlcy5zZW5kKDQwMSk7XG5cbiAgICBlbHNlXG4gICAgICBuZXh0KCk7XG4gIH07XG5cbiAgLy8gIyMjIFNlcnZlciBSb3V0ZXNcblxuICAvLyBIYW5kbGUgdGhpbmdzIGxpa2UgQVBJIGNhbGxzLFxuXG4gIC8vICMjIyMgQXV0aGVudGljYXRpb24gcm91dGVzXG5cbiAgLy8gUGFzcyBpbiBvdXIgRXhwcmVzcyBhcHAgYW5kIFJvdXRlci5cbiAgLy8gQWxzbyBwYXNzIGluIGF1dGggJiBhZG1pbiBtaWRkbGV3YXJlIGFuZCBQYXNzcG9ydCBpbnN0YW5jZVxuICBsZXQgYXV0aFJvdXRlczogYXV0aFJvdXRlci5Sb3V0ZXNcbiAgICA9IG5ldyBhdXRoUm91dGVyLlJvdXRlcyh0aGlzLmFwcCwgcm91dGVyLCBwYXNzcG9ydCwgYXV0aCwgYWRtaW4pO1xuXG4gIC8vICMjIyMgUkVTVGZ1bCBBUEkgUm91dGVzXG5cbiAgLy8gUGFzcyBpbiBvdXIgRXhwcmVzcyBhcHAgYW5kIFJvdXRlclxuICBsZXQgdmFsaWRhdGlvblJvdXRlczogdmFsaWRhdGlvblJvdXRlci5Sb3V0ZXNcbiAgICA9IG5ldyB2YWxpZGF0aW9uUm91dGVyLlJvdXRlcyh0aGlzLmFwcCwgcm91dGVyKTtcblxuICBsZXQgdG9kb1JvdXRlczogdG9kb1JvdXRlci5Sb3V0ZXMgPSBuZXcgdG9kb1JvdXRlci5Sb3V0ZXModGhpcy5hcHAsIHJvdXRlcik7XG5cbiAgbGV0IHJlY2lwZVJvdXRlczogcmVjaXBlUm91dGVyLlJvdXRlcyA9IG5ldyByZWNpcGVSb3V0ZXIuUm91dGVzKHRoaXMuYXBwLCByb3V0ZXIpO1xuXG4gIC8vIEFsbCBvZiBvdXIgcm91dGVzIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAvYXBpXG4gIGFwcC51c2UoJy9hcGknLCByb3V0ZXIpO1xuXG4gIC8vICMjIyBGcm9udGVuZCBSb3V0ZXNcblxuICAvLyBTZXJ2ZSBzdGF0aWMgZnJvbnQtZW5kIGFzc2V0c1xuICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKCdkaXN0L2NsaWVudCcpKTtcblxuICAvLyBSb3V0ZSB0byBoYW5kbGUgYWxsIEFuZ3VsYXIgcmVxdWVzdHNcbiAgYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xuXG4gICAgLy8gTG9hZCBvdXIgc3JjL2FwcC5odG1sIGZpbGVcbiAgICAvLyoqIE5vdGUgdGhhdCB0aGUgcm9vdCBpcyBzZXQgdG8gdGhlIHBhcmVudCBvZiB0aGlzIGZvbGRlciwgaWUgdGhlIGFwcCByb290ICoqXG4gICAgcmVzLnNlbmRGaWxlKCcvZGlzdC9jbGllbnQvaW5kZXguaHRtbCcsIHsgcm9vdDogX19kaXJuYW1lICsgXCIvLi4vLi4vXCJ9KTtcbiAgfSk7XG5cbiAgLy8gVXNlIGByb3V0ZXJgIG1pZGRsZXdhcmVcbiAgYXBwLnVzZShyb3V0ZXIpO1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZlci9yb3V0ZXMudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 17 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar passport = __webpack_require__(9);\r\n// Load `User` `interfaces`, `class`, and `model`\r\nvar user_model_1 = __webpack_require__(4);\r\nvar router_1 = __webpack_require__(2);\r\n// Load the Mongoose ObjectId function to cast string as\r\n// ObjectId\r\nvar ObjectId = __webpack_require__(1).Types.ObjectId;\r\nvar BASE_URI = '/auth';\r\nvar Route;\r\n(function (Route) {\r\n    var Routes = (function (_super) {\r\n        __extends(Routes, _super);\r\n        function Routes(app, router, passport, auth, admin) {\r\n            _super.call(this, app, router, user_model_1.User);\r\n            this.passport = passport;\r\n            this.auth = auth;\r\n            this.admin = admin;\r\n            // Configure our router;\r\n            this.config();\r\n        }\r\n        Routes.prototype.authenticate = function (req, res) {\r\n            // If the user is authenticated, return a `user` session object\r\n            // else return `0`\r\n            res.send(req.isAuthenticated() ? req.user : '0');\r\n        };\r\n        Routes.prototype.config = function () {\r\n            var _this = this;\r\n            var router = _super.prototype.getRouter.call(this);\r\n            // Configure routes\r\n            router.route(BASE_URI + \"/authenticate\")\r\n                .get(function (req, res, next) {\r\n                _this.authenticate(req, res);\r\n            });\r\n            router\r\n                .delete(BASE_URI + \"/delete/:uid\", this.admin, function (req, res) {\r\n                _this.delete(req, res);\r\n            });\r\n            router.route(BASE_URI + \"/login\")\r\n                .post(function (req, res, next) {\r\n                _this.login(req, res, next);\r\n            });\r\n            router.route(BASE_URI + \"/logout\")\r\n                .post(function (req, res, next) {\r\n                _this.logout(req, res);\r\n            });\r\n            router.route(BASE_URI + \"/register\")\r\n                .post(function (req, res, next) {\r\n                _this.register(req, res, next);\r\n            });\r\n            router\r\n                .get(BASE_URI + \"/session\", this.auth, function (req, res) {\r\n                _this.getSessionData(req, res);\r\n            });\r\n        };\r\n        Routes.prototype.delete = function (req, res) {\r\n            user_model_1.Users.remove({\r\n                // Model.find `$or` Mongoose condition\r\n                $or: [\r\n                    { 'local.username': req.params.uid },\r\n                    { 'local.email': req.params.uid },\r\n                    { '_id': ObjectId(req.params.uid) }\r\n                ]\r\n            }, function (err) {\r\n                // If there are any errors, return them\r\n                if (err)\r\n                    res.json(err);\r\n                // HTTP Status code `204 No Content`\r\n                res.sendStatus(204);\r\n            });\r\n        };\r\n        Routes.prototype.getSessionData = function (req, res) {\r\n            // Send response in JSON to allow disassembly of object by functions\r\n            res.json(req.user);\r\n        };\r\n        Routes.prototype.login = function (req, res, next) {\r\n            // Call `authenticate()` from within the route handler, rather than\r\n            // as a route middleware. This gives the callback access to the `req`\r\n            // and `res` object through closure.\r\n            // If authentication fails, `user` will be set to `false`. If an\r\n            // exception occured, `err` will be set. `info` contains a message\r\n            // set within the Local Passport strategy.\r\n            passport.authenticate('local-login', function (err, user, info) {\r\n                if (err)\r\n                    return next(err);\r\n                // If no user is returned...\r\n                if (!user) {\r\n                    // Set HTTP status code `401 Unauthorized`\r\n                    res.status(401);\r\n                    // Return the info message\r\n                    return next(info.message);\r\n                }\r\n                // Use login function exposed by Passport to establish a login\r\n                // session\r\n                req.login(user, function (err) {\r\n                    if (err)\r\n                        return next(err);\r\n                    // Set HTTP status code `200 OK`\r\n                    res.status(200);\r\n                    // Return the user object\r\n                    res.send(req.user);\r\n                });\r\n            })(req, res, next);\r\n        };\r\n        Routes.prototype.logout = function (req, res) {\r\n            req.logOut();\r\n            // Even though the logout was successful, send the status code\r\n            // `401` to be intercepted and reroute the user to the appropriate\r\n            // page\r\n            res.sendStatus(401);\r\n        };\r\n        Routes.prototype.register = function (req, res, next) {\r\n            // Call `authenticate()` from within the route handler, rather than\r\n            // as a route middleware. This gives the callback access to the `req`\r\n            // and `res` object through closure.\r\n            // If authentication fails, `user` will be set to `false`. If an\r\n            // exception occured, `err` will be set. `info` contains a message\r\n            // set within the Local Passport strategy.\r\n            passport.authenticate('local-signup', function (err, user, info) {\r\n                if (err)\r\n                    return next(err);\r\n                // If no user is returned...\r\n                if (!user) {\r\n                    // Set HTTP status code `409 Conflict`\r\n                    res.status(409);\r\n                    // Return the info message\r\n                    return next(info.message);\r\n                }\r\n                // Set HTTP status code `204 No Content`\r\n                res.sendStatus(204);\r\n            })(req, res, next);\r\n        };\r\n        return Routes;\r\n    }(router_1.default));\r\n    Route.Routes = Routes;\r\n})(Route || (Route = {}));\r\nmodule.exports = Route;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9fYXV0aGVudGljYXRpb24ucm91dGVyLnRzP2I1YmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBWSxRQUFRLHVCQUFNLENBQVUsQ0FBQztBQUNyQyxpREFBaUQ7QUFDakQsdUNBQWlELENBQXNCLENBQUM7QUFFeEUsbUNBQW1CLENBQVUsQ0FBQztBQUU5Qix3REFBd0Q7QUFDeEQsV0FBVztBQUNYLElBQUksUUFBUSxHQUFHLG1CQUFPLENBQUMsQ0FBVSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztBQUVsRCxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUM7QUFFekIsSUFBTyxLQUFLLENBc0pYO0FBdEpELFdBQU8sS0FBSyxFQUFDLENBQUM7SUFFWjtRQUE0QiwwQkFBTTtRQU1oQyxnQkFBWSxHQUF3QixFQUN4QixNQUFzQixFQUN0QixRQUFhLEVBQ2IsSUFBUyxFQUNULEtBQVU7WUFDcEIsa0JBQU0sR0FBRyxFQUFFLE1BQU0sRUFBRSxpQkFBSSxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbkIsd0JBQXdCO1lBQ3hCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDO1FBRU8sNkJBQVksR0FBcEIsVUFBcUIsR0FBb0IsRUFDcEIsR0FBcUI7WUFDeEMsK0RBQStEO1lBQy9ELGtCQUFrQjtZQUNsQixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ25ELENBQUM7UUFFTyx1QkFBTSxHQUFkO1lBQUEsaUJBK0JDO1lBOUJDLElBQUksTUFBTSxHQUFHLGdCQUFLLENBQUMsU0FBUyxXQUFF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QUMxQyxRQUFRLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxVQUFDLEdBQVEsRUFBRSxJQUFVLEVBQUUsSUFBUztnQkFDcEUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDO29CQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ25CLDRCQUE0QjtnQkFDNUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUNWLHNDQUFzQztvQkFDdEMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDaEIsMEJBQTBCO29CQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDNUIsQ0FBQztnQkFDRCx3Q0FBd0M7Z0JBQ3hDLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0QixDQUFDO1FBQ0gsYUFBQztJQUFELENBQUMsQ0FuSjJCLGdCQUFNLEdBbUpqQztJQW5KWSxZQUFNLFNBbUpsQjtBQUNILENBQUMsRUF0Sk0sS0FBSyxLQUFMLEtBQUssUUFzSlg7QUFFRCxpQkFBUyxLQUFLLENBQUMiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgKiBhcyBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XHJcbi8vIExvYWQgYFVzZXJgIGBpbnRlcmZhY2VzYCwgYGNsYXNzYCwgYW5kIGBtb2RlbGBcclxuaW1wb3J0IHsgSVVzZXIsIFVzZXIsIFVzZXJEb2N1bWVudCwgVXNlcnMgfSBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XHJcblxyXG5pbXBvcnQgUm91dGVyIGZyb20gJy4vcm91dGVyJztcclxuXHJcbi8vIExvYWQgdGhlIE1vbmdvb3NlIE9iamVjdElkIGZ1bmN0aW9uIHRvIGNhc3Qgc3RyaW5nIGFzXHJcbi8vIE9iamVjdElkXHJcbmxldCBPYmplY3RJZCA9IHJlcXVpcmUoJ21vbmdvb3NlJykuVHlwZXMuT2JqZWN0SWQ7XHJcblxyXG5jb25zdCBCQVNFX1VSSSA9ICcvYXV0aCc7XHJcblxyXG5tb2R1bGUgUm91dGUge1xyXG5cclxuICBleHBvcnQgY2xhc3MgUm91dGVzIGV4dGVuZHMgUm91dGVyIHtcclxuXHJcbiAgICBwYXNzcG9ydDogYW55O1xyXG4gICAgYXV0aDogYW55O1xyXG4gICAgYWRtaW46IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IGV4cHJlc3MuQXBwbGljYXRpb24sXHJcbiAgICAgICAgICAgICAgICByb3V0ZXI6IGV4cHJlc3MuUm91dGVyLFxyXG4gICAgICAgICAgICAgICAgcGFzc3BvcnQ6IGFueSxcclxuICAgICAgICAgICAgICAgIGF1dGg6IGFueSxcclxuICAgICAgICAgICAgICAgIGFkbWluOiBhbnkpIHtcclxuICAgICAgc3VwZXIoYXBwLCByb3V0ZXIsIFVzZXIpO1xyXG4gICAgICB0aGlzLnBhc3Nwb3J0ID0gcGFzc3BvcnQ7XHJcbiAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XHJcbiAgICAgIHRoaXMuYWRtaW4gPSBhZG1pbjtcclxuICAgICAgLy8gQ29uZmlndXJlIG91ciByb3V0ZXI7XHJcbiAgICAgIHRoaXMuY29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdXRoZW50aWNhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UpIHtcclxuICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYXV0aGVudGljYXRlZCwgcmV0dXJuIGEgYHVzZXJgIHNlc3Npb24gb2JqZWN0XHJcbiAgICAgIC8vIGVsc2UgcmV0dXJuIGAwYFxyXG4gICAgICByZXMuc2VuZChyZXEuaXNBdXRoZW50aWNhdGVkKCkgPyByZXEudXNlciA6ICcwJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25maWcoKSB7XHJcbiAgICAgIGxldCByb3V0ZXIgPSBzdXBlci5nZXRSb3V0ZXIoKTtcclxuICAgICAgLy8gQ29uZmlndXJlIHJvdXRlc1xyXG4gICAgICByb3V0ZXIucm91dGUoYCR7QkFTRV9VUkl9L2F1dGhlbnRpY2F0ZWApXHJcbiAgICAgICAgLmdldCgocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZShyZXEsIHJlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHJvdXRlclxyXG4gICAgICAgIC5kZWxldGUoYCR7QkFTRV9VUkl9L2RlbGV0ZS86dWlkYCwgdGhpcy5hZG1pbiwgKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5kZWxldGUocmVxLCByZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICByb3V0ZXIucm91dGUoYCR7QkFTRV9VUkl9L2xvZ2luYClcclxuICAgICAgICAucG9zdCgocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgICAgICAgIHRoaXMubG9naW4ocmVxLCByZXMsIG5leHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICByb3V0ZXIucm91dGUoYCR7QkFTRV9VUkl9L2xvZ291dGApXHJcbiAgICAgICAgLnBvc3QoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmxvZ291dChyZXEsIHJlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHJvdXRlci5yb3V0ZShgJHtCQVNFX1VSSX0vcmVnaXN0ZXJgKVxyXG4gICAgICAgIC5wb3N0KChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5yZWdpc3RlcihyZXEsIHJlcywgbmV4dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHJvdXRlclxyXG4gICAgICAgIC5nZXQoYCR7QkFTRV9VUkl9L3Nlc3Npb25gLCB0aGlzLmF1dGgsIChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmdldFNlc3Npb25EYXRhKHJlcSwgcmVzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlbGV0ZShyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSkge1xyXG4gICAgICBVc2Vycy5yZW1vdmUoe1xyXG4gICAgICAgIC8vIE1vZGVsLmZpbmQgYCRvcmAgTW9uZ29vc2UgY29uZGl0aW9uXHJcbiAgICAgICAgJG9yIDogW1xyXG4gICAgICAgICAgeyAnbG9jYWwudXNlcm5hbWUnIDogcmVxLnBhcmFtcy51aWQgfSxcclxuICAgICAgICAgIHsgJ2xvY2FsLmVtYWlsJyA6IHJlcS5wYXJhbXMudWlkIH0sXHJcbiAgICAgICAgICB7ICdfaWQnIDogT2JqZWN0SWQocmVxLnBhcmFtcy51aWQpIH1cclxuICAgICAgICBdXHJcbiAgICAgIH0sIChlcnI6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgZXJyb3JzLCByZXR1cm4gdGhlbVxyXG4gICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICByZXMuanNvbihlcnIpO1xyXG4gICAgICAgIC8vIEhUVFAgU3RhdHVzIGNvZGUgYDIwNCBObyBDb250ZW50YFxyXG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKDIwNCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U2Vzc2lvbkRhdGEocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSkge1xyXG4gICAgICAvLyBTZW5kIHJlc3BvbnNlIGluIEpTT04gdG8gYWxsb3cgZGlzYXNzZW1ibHkgb2Ygb2JqZWN0IGJ5IGZ1bmN0aW9uc1xyXG4gICAgICByZXMuanNvbihyZXEudXNlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2dpbihyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikge1xyXG4gICAgICAvLyBDYWxsIGBhdXRoZW50aWNhdGUoKWAgZnJvbSB3aXRoaW4gdGhlIHJvdXRlIGhhbmRsZXIsIHJhdGhlciB0aGFuXHJcbiAgICAgIC8vIGFzIGEgcm91dGUgbWlkZGxld2FyZS4gVGhpcyBnaXZlcyB0aGUgY2FsbGJhY2sgYWNjZXNzIHRvIHRoZSBgcmVxYFxyXG4gICAgICAvLyBhbmQgYHJlc2Agb2JqZWN0IHRocm91Z2ggY2xvc3VyZS5cclxuICAgICAgLy8gSWYgYXV0aGVudGljYXRpb24gZmFpbHMsIGB1c2VyYCB3aWxsIGJlIHNldCB0byBgZmFsc2VgLiBJZiBhblxyXG4gICAgICAvLyBleGNlcHRpb24gb2NjdXJlZCwgYGVycmAgd2lsbCBiZSBzZXQuIGBpbmZvYCBjb250YWlucyBhIG1lc3NhZ2VcclxuICAgICAgLy8gc2V0IHdpdGhpbiB0aGUgTG9jYWwgUGFzc3BvcnQgc3RyYXRlZ3kuXHJcbiAgICAgIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwtbG9naW4nLCAoZXJyOiBhbnksIHVzZXI6IFVzZXIsIGluZm86IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xyXG4gICAgICAgIC8vIElmIG5vIHVzZXIgaXMgcmV0dXJuZWQuLi5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIC8vIFNldCBIVFRQIHN0YXR1cyBjb2RlIGA0MDEgVW5hdXRob3JpemVkYFxyXG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDEpO1xyXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSBpbmZvIG1lc3NhZ2VcclxuICAgICAgICAgIHJldHVybiBuZXh0KGluZm8ubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVzZSBsb2dpbiBmdW5jdGlvbiBleHBvc2VkIGJ5IFBhc3Nwb3J0IHRvIGVzdGFibGlzaCBhIGxvZ2luXHJcbiAgICAgICAgLy8gc2Vzc2lvblxyXG4gICAgICAgIHJlcS5sb2dpbih1c2VyLCAoZXJyOiBhbnkpID0+IHtcclxuICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGVycik7XHJcbiAgICAgICAgICAvLyBTZXQgSFRUUCBzdGF0dXMgY29kZSBgMjAwIE9LYFxyXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApO1xyXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSB1c2VyIG9iamVjdFxyXG4gICAgICAgICAgcmVzLnNlbmQocmVxLnVzZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KSAocmVxLCByZXMsIG5leHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9nb3V0KHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlKSB7XHJcbiAgICAgIHJlcS5sb2dPdXQoKTtcclxuICAgICAgLy8gRXZlbiB0aG91Z2ggdGhlIGxvZ291dCB3YXMgc3VjY2Vzc2Z1bCwgc2VuZCB0aGUgc3RhdHVzIGNvZGVcclxuICAgICAgLy8gYDQwMWAgdG8gYmUgaW50ZXJjZXB0ZWQgYW5kIHJlcm91dGUgdGhlIHVzZXIgdG8gdGhlIGFwcHJvcHJpYXRlXHJcbiAgICAgIC8vIHBhZ2VcclxuICAgICAgcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZ2lzdGVyKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSB7XHJcbiAgICAgIC8vIENhbGwgYGF1dGhlbnRpY2F0ZSgpYCBmcm9tIHdpdGhpbiB0aGUgcm91dGUgaGFuZGxlciwgcmF0aGVyIHRoYW5cclxuICAgICAgLy8gYXMgYSByb3V0ZSBtaWRkbGV3YXJlLiBUaGlzIGdpdmVzIHRoZSBjYWxsYmFjayBhY2Nlc3MgdG8gdGhlIGByZXFgXHJcbiAgICAgIC8vIGFuZCBgcmVzYCBvYmplY3QgdGhyb3VnaCBjbG9zdXJlLlxyXG4gICAgICAvLyBJZiBhdXRoZW50aWNhdGlvbiBmYWlscywgYHVzZXJgIHdpbGwgYmUgc2V0IHRvIGBmYWxzZWAuIElmIGFuXHJcbiAgICAgIC8vIGV4Y2VwdGlvbiBvY2N1cmVkLCBgZXJyYCB3aWxsIGJlIHNldC4gYGluZm9gIGNvbnRhaW5zIGEgbWVzc2FnZVxyXG4gICAgICAvLyBzZXQgd2l0aGluIHRoZSBMb2NhbCBQYXNzcG9ydCBzdHJhdGVneS5cclxuICAgICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbC1zaWdudXAnLCAoZXJyOiBhbnksIHVzZXI6IFVzZXIsIGluZm86IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICByZXR1cm4gbmV4dChlcnIpO1xyXG4gICAgICAgIC8vIElmIG5vIHVzZXIgaXMgcmV0dXJuZWQuLi5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIC8vIFNldCBIVFRQIHN0YXR1cyBjb2RlIGA0MDkgQ29uZmxpY3RgXHJcbiAgICAgICAgICByZXMuc3RhdHVzKDQwOSk7XHJcbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIGluZm8gbWVzc2FnZVxyXG4gICAgICAgICAgcmV0dXJuIG5leHQoaW5mby5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IEhUVFAgc3RhdHVzIGNvZGUgYDIwNCBObyBDb250ZW50YFxyXG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKDIwNCk7XHJcbiAgICAgIH0pIChyZXEsIHJlcywgbmV4dCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBSb3V0ZTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3JvdXRlcy9fYXV0aGVudGljYXRpb24ucm91dGVyLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Load `Router` model\r\nvar recipe = __webpack_require__(14);\r\nvar Recipe = recipe.Recipe; // alias\r\nvar Recipes = recipe.Recipes; // alias\r\nvar router_1 = __webpack_require__(2);\r\nvar BASE_URI = '/recipe';\r\nvar Route;\r\n(function (Route) {\r\n    var Routes = (function (_super) {\r\n        __extends(Routes, _super);\r\n        function Routes(app, router) {\r\n            _super.call(this, app, router, Recipes);\r\n            // Configure our router;\r\n            this.config();\r\n        }\r\n        Routes.prototype.config = function () {\r\n            var _this = this;\r\n            var router = _super.prototype.getRouter.call(this);\r\n            // Configure routes\r\n            router.route(BASE_URI)\r\n                .get(function (req, res, next) {\r\n                _super.prototype.get.call(_this, req, res, next);\r\n            })\r\n                .post(function (req, res, next) {\r\n                var recipe = new Recipe({\r\n                    title: req.body.title,\r\n                    tags: req.body.tags,\r\n                    rating: req.body.rating,\r\n                    creator: req.body.creator,\r\n                    description: req.body.description,\r\n                    ingredients: req.body.ingredients,\r\n                    directions: req.body.directions,\r\n                });\r\n                _super.prototype.create.call(_this, req, res, next, recipe);\r\n            });\r\n            router.route(BASE_URI + \"/:recipe_id\")\r\n                .get(function (req, res, next) {\r\n                var id = { _id: req.params.recipe_id };\r\n                _super.prototype.getOne.call(_this, req, res, next, id);\r\n            })\r\n                .delete(function (req, res, next) {\r\n                var id = { _id: req.params.recipe_id };\r\n                _super.prototype.deleteOne.call(_this, req, res, next, id);\r\n            })\r\n                .put(function (req, res, next) {\r\n                var id = { _id: req.params.recipe_id };\r\n                var mod = function (recipe) {\r\n                    // Only update a field if a new value has been passed in\r\n                    if (req.body.title)\r\n                        recipe.title = req.body.title;\r\n                    if (req.body.tags)\r\n                        recipe.tags = req.body.tags;\r\n                    if (req.body.rating)\r\n                        recipe.rating = req.body.rating;\r\n                    if (req.body.creator)\r\n                        recipe.creator = req.body.creator;\r\n                    if (req.body.description)\r\n                        recipe.description = req.body.description;\r\n                    if (req.body.ingredients)\r\n                        recipe.ingredients = req.body.ingredients;\r\n                    if (req.body.directions)\r\n                        recipe.directions = req.body.directions;\r\n                };\r\n                _super.prototype.updateOne.call(_this, req, res, next, id, mod);\r\n            });\r\n        };\r\n        return Routes;\r\n    }(router_1.default));\r\n    Route.Routes = Routes;\r\n})(Route || (Route = {}));\r\nmodule.exports = Route;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9fcmVjaXBlLnJvdXRlci50cz9mZGM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7Ozs7O0FBR2Isc0JBQXNCO0FBQ3RCLElBQU8sTUFBTSx1QkFBVyxFQUF3QixDQUFDLENBQUM7QUFDbEQsSUFBTyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBQyxRQUFRO0FBRXRDLElBQU8sT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUMsUUFBUTtBQUV4QyxtQ0FBbUIsQ0FBVSxDQUFDO0FBRTlCLElBQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQztBQUUzQixJQUFPLEtBQUssQ0FxRVg7QUFyRUQsV0FBTyxLQUFLLEVBQUMsQ0FBQztJQUVaO1FBQTRCLDBCQUFNO1FBRWhDLGdCQUFZLEdBQXdCLEVBQUUsTUFBc0I7WUFDMUQsa0JBQU0sR0FBRyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUM1Qix3QkFBd0I7WUFDeEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2hCLENBQUM7UUFFTyx1QkFBTSxHQUFkO1lBQUEsaUJBeURDO1lBeERDLElBQUksTUFBTSxHQUFHLGdCQUFLLENBQUMsU0FBUyxXQUFFLENBQUM7WUFDL0IsbUJBQW1CO1lBQ25CLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO2lCQUNuQixHQUFHLENBQUMsVUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUk7Z0JBQ2xCLGdCQUFLLENBQUMsR0FBRyxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUIsQ0FBQyxDQUFDO2lCQUNELElBQUksQ0FBQyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO2dCQUMvQixJQUFJLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQztvQkFDdEIsS0FBSyxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSztvQkFDdEIsSUFBSSxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSTtvQkFDcEIsTUFBTSxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTTtvQkFDeEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztvQkFDekIsV0FBVyxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVztvQkFDbEMsV0FBVyxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVztvQkFDbEMsVUFBVSxFQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVTtpQkFDakMsQ0FBQyxDQUFDO2dCQUNILGdCQUFLLENBQUMsTUFBTSxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZDLENBQUMsQ0FBQyxDQUFDO1lBQ0wsTUFBTSxDQUFDLEtBQUssQ0FBSSxRQUFRLGdCQUFhLENBQUM7aUJBQ25DLEdBQUcsQ0FBQyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO2dCQUM5QixJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUN2QyxnQkFBSyxDQUFDLE1BQU0sYUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNuQyxDQUFDLENBQUM7aUJBQ0QsTUFBTSxDQUFDLFVBQUMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7Z0JBQ2pDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ3ZDLGdCQUFLLENBQUMsU0FBUyxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLENBQUMsQ0FBQztpQkFDRCxHQUFHLENBQUMsVUFBQyxHQUFvQixFQUNwQixHQUFxQixFQUNyQixJQUEwQjtnQkFDOUIsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxHQUFHLEdBQUcsVUFBQyxNQUFNO29CQUNmLHdEQUF3RDtvQkFDeEQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7d0JBQ2pCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQ2hDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO3dCQUNoQixNQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUM5QixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzt3QkFDbEIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztvQkFDbEMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7d0JBQ25CLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7b0JBQ3BDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO3dCQUN2QixNQUFNLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO29CQUM1QyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQzt3QkFDdkIsTUFBTSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztvQkFDNUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7d0JBQ3RCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQzVDLENBQUMsQ0FBQztnQkFDRixnQkFBSyxDQUFDLFNBQVMsYUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDM0MsQ0FBQyxDQUFDO1FBQ04sQ0FBQztRQUNILGFBQUM7SUFBRCxDQUFDLENBbEUyQixnQkFBTSxHQWtFakM7SUFsRVksWUFBTSxTQWtFbEI7QUFDSCxDQUFDLEVBckVNLEtBQUssS0FBTCxLQUFLLFFBcUVYO0FBRUQsaUJBQVMsS0FBSyxDQUFDIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG4vLyBMb2FkIGBSb3V0ZXJgIG1vZGVsXHJcbmltcG9ydCByZWNpcGUgPSByZXF1aXJlKCcuLi9tb2RlbHMvcmVjaXBlLm1vZGVsJyk7XHJcbmltcG9ydCBSZWNpcGUgPSByZWNpcGUuUmVjaXBlIC8vIGFsaWFzXHJcbmltcG9ydCBSZWNpcGVEb2N1bWVudCA9IHJlY2lwZS5SZWNpcGVEb2N1bWVudCAvLyBhbGlhc1xyXG5pbXBvcnQgUmVjaXBlcyA9IHJlY2lwZS5SZWNpcGVzIC8vIGFsaWFzXHJcblxyXG5pbXBvcnQgUm91dGVyIGZyb20gJy4vcm91dGVyJztcclxuXHJcbmNvbnN0IEJBU0VfVVJJID0gJy9yZWNpcGUnO1xyXG5cclxubW9kdWxlIFJvdXRlIHtcclxuXHJcbiAgZXhwb3J0IGNsYXNzIFJvdXRlcyBleHRlbmRzIFJvdXRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBleHByZXNzLkFwcGxpY2F0aW9uLCByb3V0ZXI6IGV4cHJlc3MuUm91dGVyKSB7XHJcbiAgICAgIHN1cGVyKGFwcCwgcm91dGVyLCBSZWNpcGVzKTtcclxuICAgICAgLy8gQ29uZmlndXJlIG91ciByb3V0ZXI7XHJcbiAgICAgIHRoaXMuY29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25maWcoKSB7XHJcbiAgICAgIGxldCByb3V0ZXIgPSBzdXBlci5nZXRSb3V0ZXIoKTtcclxuICAgICAgLy8gQ29uZmlndXJlIHJvdXRlc1xyXG4gICAgICByb3V0ZXIucm91dGUoQkFTRV9VUkkpXHJcbiAgICAgICAgLmdldCgocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgICAgICAgIHN1cGVyLmdldChyZXEsIHJlcywgbmV4dCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAucG9zdCgocmVxOiBleHByZXNzLlJlcXVlc3QsXG4gICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXG4gICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xuICAgICAgICAgIGxldCByZWNpcGUgPSBuZXcgUmVjaXBlKHtcbiAgICAgICAgICAgIHRpdGxlIDogcmVxLmJvZHkudGl0bGUsXG4gICAgICAgICAgICB0YWdzIDogcmVxLmJvZHkudGFncyxcbiAgICAgICAgICAgIHJhdGluZyA6IHJlcS5ib2R5LnJhdGluZyxcbiAgICAgICAgICAgIGNyZWF0b3I6IHJlcS5ib2R5LmNyZWF0b3IsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA6IHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgaW5ncmVkaWVudHMgOiByZXEuYm9keS5pbmdyZWRpZW50cyxcbiAgICAgICAgICAgIGRpcmVjdGlvbnMgOiByZXEuYm9keS5kaXJlY3Rpb25zLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN1cGVyLmNyZWF0ZShyZXEsIHJlcywgbmV4dCwgcmVjaXBlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgcm91dGVyLnJvdXRlKGAke0JBU0VfVVJJfS86cmVjaXBlX2lkYClcclxuICAgICAgICAuZ2V0KChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgIGxldCBpZCA9IHsgX2lkOiByZXEucGFyYW1zLnJlY2lwZV9pZCB9O1xyXG4gICAgICAgICAgc3VwZXIuZ2V0T25lKHJlcSwgcmVzLCBuZXh0LCBpZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZGVsZXRlKChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgIGxldCBpZCA9IHsgX2lkOiByZXEucGFyYW1zLnJlY2lwZV9pZCB9O1xyXG4gICAgICAgICAgc3VwZXIuZGVsZXRlT25lKHJlcSwgcmVzLCBuZXh0LCBpZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAucHV0KChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgIGxldCBpZCA9IHsgX2lkOiByZXEucGFyYW1zLnJlY2lwZV9pZCB9O1xyXG4gICAgICAgICAgbGV0IG1vZCA9IChyZWNpcGUpID0+IHtcclxuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgYSBmaWVsZCBpZiBhIG5ldyB2YWx1ZSBoYXMgYmVlbiBwYXNzZWQgaW5cclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LnRpdGxlKVxyXG4gICAgICAgICAgICAgIHJlY2lwZS50aXRsZSA9IHJlcS5ib2R5LnRpdGxlO1xyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkudGFncylcclxuICAgICAgICAgICAgICByZWNpcGUudGFncyA9IHJlcS5ib2R5LnRhZ3M7XHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5yYXRpbmcpXHJcbiAgICAgICAgICAgICAgcmVjaXBlLnJhdGluZyA9IHJlcS5ib2R5LnJhdGluZztcclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LmNyZWF0b3IpXHJcbiAgICAgICAgICAgICAgcmVjaXBlLmNyZWF0b3IgPSByZXEuYm9keS5jcmVhdG9yO1xyXG4gICAgICAgICAgICBpZiAocmVxLmJvZHkuZGVzY3JpcHRpb24pXHJcbiAgICAgICAgICAgICAgcmVjaXBlLmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIGlmIChyZXEuYm9keS5pbmdyZWRpZW50cylcclxuICAgICAgICAgICAgICByZWNpcGUuaW5ncmVkaWVudHMgPSByZXEuYm9keS5pbmdyZWRpZW50cztcclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LmRpcmVjdGlvbnMpXHJcbiAgICAgICAgICAgICAgcmVjaXBlLmRpcmVjdGlvbnMgPSByZXEuYm9keS5kaXJlY3Rpb25zO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHN1cGVyLnVwZGF0ZU9uZShyZXEsIHJlcywgbmV4dCwgaWQsIG1vZCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFJvdXRlO1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2ZXIvcm91dGVzL19yZWNpcGUucm91dGVyLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Load `Todo` model\r\nvar todo = __webpack_require__(15);\r\nvar Todo = todo.Todo; // alias\r\nvar Todos = todo.Todos; // alias\r\nvar router_1 = __webpack_require__(2);\r\nvar BASE_URI = '/todo';\r\nvar Route;\r\n(function (Route) {\r\n    var Routes = (function (_super) {\r\n        __extends(Routes, _super);\r\n        function Routes(app, router) {\r\n            _super.call(this, app, router, Todos);\r\n            // Configure our router;\r\n            this.config();\r\n        }\r\n        Routes.prototype.config = function () {\r\n            var _this = this;\r\n            var router = _super.prototype.getRouter.call(this);\r\n            // Configure routes\r\n            router.route(BASE_URI)\r\n                .get(function (req, res, next) {\r\n                _super.prototype.get.call(_this, req, res, next);\r\n            })\r\n                .post(function (req, res, next) {\r\n                var todo = new Todo({ text: req.body.text });\r\n                _super.prototype.create.call(_this, req, res, next, todo);\r\n            });\r\n            router.route(BASE_URI + \"/:todo_id\")\r\n                .get(function (req, res, next) {\r\n                var id = { _id: req.params.todo_id };\r\n                _super.prototype.getOne.call(_this, req, res, next, id);\r\n            })\r\n                .delete(function (req, res, next) {\r\n                var id = { _id: req.params.todo_id };\r\n                _super.prototype.deleteOne.call(_this, req, res, next, id);\r\n            })\r\n                .put(function (req, res, next) {\r\n                var id = { _id: req.params.todo_id };\r\n                var mod = function (todo) {\r\n                    // Only update a field if a new value has been passed in\r\n                    if (req.body.text)\r\n                        todo.text = req.body.text;\r\n                };\r\n                _super.prototype.updateOne.call(_this, req, res, next, id, mod);\r\n            });\r\n        };\r\n        return Routes;\r\n    }(router_1.default));\r\n    Route.Routes = Routes;\r\n})(Route || (Route = {}));\r\nmodule.exports = Route;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9fdG9kby5yb3V0ZXIudHM/ODNlOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7OztBQUdiLG9CQUFvQjtBQUNwQixJQUFPLElBQUksdUJBQVcsRUFBc0IsQ0FBQyxDQUFDO0FBQzlDLElBQU8sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUMsUUFBUTtBQUVoQyxJQUFPLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFDLFFBQVE7QUFFbEMsbUNBQW1CLENBQVUsQ0FBQztBQUU5QixJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUM7QUFFekIsSUFBTyxLQUFLLENBbURYO0FBbkRELFdBQU8sS0FBSyxFQUFDLENBQUM7SUFFWjtRQUE0QiwwQkFBTTtRQUVoQyxnQkFBWSxHQUF3QixFQUFFLE1BQXNCO1lBQzFELGtCQUFNLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDMUIsd0JBQXdCO1lBQ3hCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDO1FBRU8sdUJBQU0sR0FBZDtZQUFBLGlCQXVDQztZQXRDQyxJQUFJLE1BQU0sR0FBRyxnQkFBSyxDQUFDLFNBQVMsV0FBRSxDQUFDO1lBQy9CLG1CQUFtQjtZQUNuQixNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztpQkFDbkIsR0FBRyxDQUFDLFVBQUMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7Z0JBQzlCLGdCQUFLLENBQUMsR0FBRyxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUIsQ0FBQyxDQUFDO2lCQUNELElBQUksQ0FBQyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO2dCQUMvQixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUM7Z0JBQzVDLGdCQUFLLENBQUMsTUFBTSxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3JDLENBQUMsQ0FBQyxDQUFDO1lBQ0wsTUFBTSxDQUFDLEtBQUssQ0FBSSxRQUFRLGNBQVcsQ0FBQztpQkFDakMsR0FBRyxDQUFDLFVBQUMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7Z0JBQzlCLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ3JDLGdCQUFLLENBQUMsTUFBTSxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ25DLENBQUMsQ0FBQztpQkFDRCxNQUFNLENBQUMsVUFBQyxHQUFvQixFQUNwQixHQUFxQixFQUNyQixJQUEwQjtnQkFDakMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDckMsZ0JBQUssQ0FBQyxTQUFTLGFBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUFDO2lCQUNELEdBQUcsQ0FBQyxVQUFDLEdBQW9CLEVBQ3BCLEdBQXFCLEVBQ3JCLElBQTBCO2dCQUM5QixJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNyQyxJQUFJLEdBQUcsR0FBRyxVQUFDLElBQUk7b0JBQ2Isd0RBQXdEO29CQUN4RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzt3QkFDaEIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDOUIsQ0FBQyxDQUFDO2dCQUNGLGdCQUFLLENBQUMsU0FBUyxhQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUMzQyxDQUFDLENBQUM7UUFDTixDQUFDO1FBQ0gsYUFBQztJQUFELENBQUMsQ0FoRDJCLGdCQUFNLEdBZ0RqQztJQWhEWSxZQUFNLFNBZ0RsQjtBQUNILENBQUMsRUFuRE0sS0FBSyxLQUFMLEtBQUssUUFtRFg7QUFFRCxpQkFBUyxLQUFLLENBQUMiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbi8vIExvYWQgYFRvZG9gIG1vZGVsXHJcbmltcG9ydCB0b2RvID0gcmVxdWlyZSgnLi4vbW9kZWxzL3RvZG8ubW9kZWwnKTtcclxuaW1wb3J0IFRvZG8gPSB0b2RvLlRvZG8gLy8gYWxpYXNcclxuaW1wb3J0IFRvZG9Eb2N1bWVudCA9IHRvZG8uVG9kb0RvY3VtZW50IC8vIGFsaWFzXHJcbmltcG9ydCBUb2RvcyA9IHRvZG8uVG9kb3MgLy8gYWxpYXNcclxuXHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi9yb3V0ZXInO1xyXG5cclxuY29uc3QgQkFTRV9VUkkgPSAnL3RvZG8nO1xyXG5cclxubW9kdWxlIFJvdXRlIHtcclxuXHJcbiAgZXhwb3J0IGNsYXNzIFJvdXRlcyBleHRlbmRzIFJvdXRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBleHByZXNzLkFwcGxpY2F0aW9uLCByb3V0ZXI6IGV4cHJlc3MuUm91dGVyKSB7XHJcbiAgICAgIHN1cGVyKGFwcCwgcm91dGVyLCBUb2Rvcyk7XHJcbiAgICAgIC8vIENvbmZpZ3VyZSBvdXIgcm91dGVyO1xyXG4gICAgICB0aGlzLmNvbmZpZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29uZmlnKCkge1xyXG4gICAgICBsZXQgcm91dGVyID0gc3VwZXIuZ2V0Um91dGVyKCk7XHJcbiAgICAgIC8vIENvbmZpZ3VyZSByb3V0ZXNcclxuICAgICAgcm91dGVyLnJvdXRlKEJBU0VfVVJJKVxyXG4gICAgICAgIC5nZXQoKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcclxuICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgc3VwZXIuZ2V0KHJlcSwgcmVzLCBuZXh0KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5wb3N0KChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcbiAgICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcbiAgICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgbGV0IHRvZG8gPSBuZXcgVG9kbyh7IHRleHQ6IHJlcS5ib2R5LnRleHR9KTtcclxuICAgICAgICAgIHN1cGVyLmNyZWF0ZShyZXEsIHJlcywgbmV4dCwgdG9kbyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHJvdXRlci5yb3V0ZShgJHtCQVNFX1VSSX0vOnRvZG9faWRgKVxyXG4gICAgICAgIC5nZXQoKHJlcTogZXhwcmVzcy5SZXF1ZXN0LFxyXG4gICAgICAgICAgICAgIHJlczogZXhwcmVzcy5SZXNwb25zZSxcclxuICAgICAgICAgICAgICBuZXh0OiBleHByZXNzLk5leHRGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgbGV0IGlkID0geyBfaWQ6IHJlcS5wYXJhbXMudG9kb19pZCB9O1xyXG4gICAgICAgICAgc3VwZXIuZ2V0T25lKHJlcSwgcmVzLCBuZXh0LCBpZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZGVsZXRlKChyZXE6IGV4cHJlc3MuUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICByZXM6IGV4cHJlc3MuUmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgICAgbmV4dDogZXhwcmVzcy5OZXh0RnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgIGxldCBpZCA9IHsgX2lkOiByZXEucGFyYW1zLnRvZG9faWQgfTtcclxuICAgICAgICAgIHN1cGVyLmRlbGV0ZU9uZShyZXEsIHJlcywgbmV4dCwgaWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnB1dCgocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICBsZXQgaWQgPSB7IF9pZDogcmVxLnBhcmFtcy50b2RvX2lkIH07XHJcbiAgICAgICAgICBsZXQgbW9kID0gKHRvZG8pID0+IHtcclxuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgYSBmaWVsZCBpZiBhIG5ldyB2YWx1ZSBoYXMgYmVlbiBwYXNzZWQgaW5cclxuICAgICAgICAgICAgaWYgKHJlcS5ib2R5LnRleHQpXHJcbiAgICAgICAgICAgICAgdG9kby50ZXh0ID0gcmVxLmJvZHkudGV4dDtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBzdXBlci51cGRhdGVPbmUocmVxLCByZXMsIG5leHQsIGlkLCBtb2QpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBSb3V0ZTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3JvdXRlcy9fdG9kby5yb3V0ZXIudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\n// Load `User` `interfaces`, `class`, and `model`\r\nvar user_model_1 = __webpack_require__(4);\r\nvar router_1 = __webpack_require__(2);\r\nvar BASE_URI = '/validate';\r\nvar Route;\r\n(function (Route) {\r\n    var Routes = (function (_super) {\r\n        __extends(Routes, _super);\r\n        function Routes(app, router) {\r\n            _super.call(this, app, router, user_model_1.User);\r\n            // Configure our router;\r\n            this.config();\r\n        }\r\n        Routes.prototype.config = function () {\r\n            var router = _super.prototype.getRouter.call(this);\r\n            // Configure routes\r\n            router.route(BASE_URI + \"/username/:username\")\r\n                .get(function (req, res, next) {\r\n                var username = { 'local.username': req.params.username };\r\n                // Use `mongoose` to a single `user` item by `username` in the database\r\n                user_model_1.Users.findOne(username, function (err, user) {\r\n                    if (err)\r\n                        res.send(err);\r\n                    else {\r\n                        // If no user was found with a matching username\r\n                        if (user === null) {\r\n                            // Set a `HTTP` status code of `404` `Not Found`\r\n                            res.status(404);\r\n                            // Send our validation object\r\n                            res.json({ usernameTaken: false });\r\n                        }\r\n                        else {\r\n                            // Set a `HTTP` status code of `409` `Conflict`\r\n                            res.status(409);\r\n                            // Send our validation object\r\n                            res.json({ usernameTaken: true });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Routes;\r\n    }(router_1.default));\r\n    Route.Routes = Routes;\r\n})(Route || (Route = {}));\r\nmodule.exports = Route;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3JvdXRlcy9fdmFsaWRhdGlvbi5yb3V0ZXIudHM/YzkwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7Ozs7OztBQUdiLGlEQUFpRDtBQUNqRCx1Q0FBaUQsQ0FBc0IsQ0FBQztBQUV4RSxtQ0FBbUIsQ0FBVSxDQUFDO0FBRTlCLElBQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQztBQUU3QixJQUFPLEtBQUssQ0F5Q1g7QUF6Q0QsV0FBTyxLQUFLLEVBQUMsQ0FBQztJQUVaO1FBQTRCLDBCQUFNO1FBRWhDLGdCQUFZLEdBQXdCLEVBQUUsTUFBc0I7WUFDMUQsa0JBQU0sR0FBRyxFQUFFLE1BQU0sRUFBRSxpQkFBSSxDQUFDLENBQUM7WUFDekIsd0JBQXdCO1lBQ3hCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDO1FBRU8sdUJBQU0sR0FBZDtZQUNFLElBQUksTUFBTSxHQUFHLGdCQUFLLENBQUMsU0FBUyxXQUFFLENBQUM7WUFDL0IsbUJBQW1CO1lBQ25CLE1BQU0sQ0FBQyxLQUFLLENBQUksUUFBUSx3QkFBcUIsQ0FBQztpQkFDM0MsR0FBRyxDQUFDLFVBQUMsR0FBb0IsRUFDcEIsR0FBcUIsRUFDckIsSUFBMEI7Z0JBQzlCLElBQUksUUFBUSxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDekQsdUVBQXVFO2dCQUN2RSxrQkFBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBQyxHQUFRLEVBQUUsSUFBVTtvQkFDM0MsRUFBRSxFQUFDLEdBQUcsQ0FBQzt3QkFDTCxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNoQixJQUFJLENBQUMsQ0FBQzt3QkFDSixnREFBZ0Q7d0JBQ2hELEVBQUUsRUFBQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQzs0QkFDakIsZ0RBQWdEOzRCQUNoRCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzRCQUNoQiw2QkFBNkI7NEJBQzdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQzt3QkFFckMsQ0FBQzt3QkFBQyxJQUFJLENBQUMsQ0FBQzs0QkFDTiwrQ0FBK0M7NEJBQy9DLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7NEJBQ2hCLDZCQUE2Qjs0QkFDN0IsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO3dCQUNwQyxDQUFDO29CQUNILENBQUM7Z0JBQ0gsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUM7UUFDTixDQUFDO1FBQ0gsYUFBQztJQUFELENBQUMsQ0F0QzJCLGdCQUFNLEdBc0NqQztJQXRDWSxZQUFNLFNBc0NsQjtBQUNILENBQUMsRUF6Q00sS0FBSyxLQUFMLEtBQUssUUF5Q1g7QUFFRCxpQkFBUyxLQUFLLENBQUMiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbi8vIExvYWQgYFVzZXJgIGBpbnRlcmZhY2VzYCwgYGNsYXNzYCwgYW5kIGBtb2RlbGBcbmltcG9ydCB7IElVc2VyLCBVc2VyLCBVc2VyRG9jdW1lbnQsIFVzZXJzIH0gZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xyXG5cclxuaW1wb3J0IFJvdXRlciBmcm9tICcuL3JvdXRlcic7XHJcblxyXG5jb25zdCBCQVNFX1VSSSA9ICcvdmFsaWRhdGUnO1xyXG5cclxubW9kdWxlIFJvdXRlIHtcclxuXHJcbiAgZXhwb3J0IGNsYXNzIFJvdXRlcyBleHRlbmRzIFJvdXRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBleHByZXNzLkFwcGxpY2F0aW9uLCByb3V0ZXI6IGV4cHJlc3MuUm91dGVyKSB7XHJcbiAgICAgIHN1cGVyKGFwcCwgcm91dGVyLCBVc2VyKTtcclxuICAgICAgLy8gQ29uZmlndXJlIG91ciByb3V0ZXI7XHJcbiAgICAgIHRoaXMuY29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25maWcoKSB7XHJcbiAgICAgIGxldCByb3V0ZXIgPSBzdXBlci5nZXRSb3V0ZXIoKTtcclxuICAgICAgLy8gQ29uZmlndXJlIHJvdXRlc1xyXG4gICAgICByb3V0ZXIucm91dGUoYCR7QkFTRV9VUkl9L3VzZXJuYW1lLzp1c2VybmFtZWApXHJcbiAgICAgICAgLmdldCgocmVxOiBleHByZXNzLlJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgcmVzOiBleHByZXNzLlJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgIG5leHQ6IGV4cHJlc3MuTmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICBsZXQgdXNlcm5hbWUgPSB7ICdsb2NhbC51c2VybmFtZSc6IHJlcS5wYXJhbXMudXNlcm5hbWUgfTtcclxuICAgICAgICAgIC8vIFVzZSBgbW9uZ29vc2VgIHRvIGEgc2luZ2xlIGB1c2VyYCBpdGVtIGJ5IGB1c2VybmFtZWAgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICAgICAgICBVc2Vycy5maW5kT25lKHVzZXJuYW1lLCAoZXJyOiBhbnksIHVzZXI6IFVzZXIpID0+IHtcclxuICAgICAgICAgICAgaWYoZXJyKVxyXG4gICAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIElmIG5vIHVzZXIgd2FzIGZvdW5kIHdpdGggYSBtYXRjaGluZyB1c2VybmFtZVxyXG4gICAgICAgICAgICAgIGlmKHVzZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBhIGBIVFRQYCBzdGF0dXMgY29kZSBvZiBgNDA0YCBgTm90IEZvdW5kYFxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2VuZCBvdXIgdmFsaWRhdGlvbiBvYmplY3RcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgdXNlcm5hbWVUYWtlbjogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgLy8gSWYgYSB1c2VyIHdhcyBmb3VuZCB3aXRoIGEgbWF0Y2hpbiB1c2VybmFtZVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgYSBgSFRUUGAgc3RhdHVzIGNvZGUgb2YgYDQwOWAgYENvbmZsaWN0YFxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDkpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2VuZCBvdXIgdmFsaWRhdGlvbiBvYmplY3RcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgdXNlcm5hbWVUYWtlbjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgPSBSb3V0ZTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3JvdXRlcy9fdmFsaWRhdGlvbi5yb3V0ZXIudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\r\n// Load Socket.io\r\nvar socketio = __webpack_require__(35);\r\nvar base_socket_1 = __webpack_require__(22);\r\n// Import utility functions\r\nvar onError = __webpack_require__(24);\r\nvar normalize_port_util_1 = __webpack_require__(23);\r\n// Node Env Variables\r\n// Load Node environment variable configuration file\r\nvar env_conf_1 = __webpack_require__(10);\r\n// Set up appropriate environment variables if necessary\r\nenv_conf_1.validateEnvVariables();\r\n// Module Dependencies\r\nvar app = __webpack_require__(13);\r\nvar debug = __webpack_require__(29)('express:server');\r\n// Load `Node` `http` module\r\nvar http = __webpack_require__(31);\r\n// Set `PORT` based on environment and store in `Express`\r\nvar PORT = normalize_port_util_1.normalizePort(process.env.PORT) !== undefined ?\r\n    normalize_port_util_1.normalizePort(process.env.PORT) : 3000;\r\napp.set('port', PORT);\r\n// Create `http` server\r\nvar server = http.createServer(app);\r\n// Integrate Socket.io\r\nvar SOCKET_PORT = normalize_port_util_1.normalizePort(process.env.SOCKET_PORT) !== undefined ?\r\n    normalize_port_util_1.normalizePort(process.env.SOCKET_PORT) : 3001;\r\nvar io = socketio.listen(SOCKET_PORT);\r\nbase_socket_1.default(io);\r\n// Listen on the provided `PORT`\r\nserver.listen(PORT);\r\n// Add `error` handler\r\nserver.on('error', onError.onError);\r\n// Initiate `listening` on `PORT`\r\nserver.on('listening', onListening);\r\n/**\r\n * Event listener for HTTP server \"listening\" event.\r\n */\r\nfunction onListening() {\r\n    var addr = server.address();\r\n    var bind = typeof addr === 'string'\r\n        ? 'pipe ' + addr\r\n        : 'port ' + addr.port;\r\n    if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test') {\r\n        console.log(\"Wizardry is afoot on \" + bind);\r\n    }\r\n}\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3NlcnZlci5jb25mLnRzPzQ3MTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGlCQUFpQjtBQUNqQixJQUFZLFFBQVEsdUJBQU0sRUFBVyxDQUFDO0FBQ3RDLHdDQUF1QixFQUF1QixDQUFDO0FBRS9DLDJCQUEyQjtBQUMzQixJQUFJLE9BQU8sR0FBRyxtQkFBTyxDQUFDLEVBQXVCLENBQUMsQ0FBQztBQUMvQyxnREFBNEIsRUFBNkIsQ0FBQztBQUUxRCxxQkFBcUI7QUFDckIsb0RBQW9EO0FBQ3BELHFDQUFtQyxFQUF1QixDQUFDO0FBRTNELHdEQUF3RDtBQUN4RCwrQkFBb0IsRUFBRSxDQUFDO0FBRXZCLHNCQUFzQjtBQUN0QixJQUFNLEdBQUcsR0FBRyxtQkFBTyxDQUFDLEVBQU8sQ0FBQyxDQUFDO0FBQzdCLElBQU0sS0FBSyxHQUFHLG1CQUFPLENBQUMsRUFBTyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUNqRCw0QkFBNEI7QUFDNUIsSUFBTSxJQUFJLEdBQUcsbUJBQU8sQ0FBQyxFQUFNLENBQUMsQ0FBQztBQUU3Qix5REFBeUQ7QUFDekQsSUFBTSxJQUFJLEdBQUcsbUNBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLFNBQVM7SUFDcEMsbUNBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztBQUM3RCxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUV0Qix1QkFBdUI7QUFDdkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUVwQyxzQkFBc0I7QUFDdEIsSUFBTSxXQUFXLEdBQUcsbUNBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxLQUFLLFNBQVM7SUFDbEQsbUNBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUNwRSxJQUFJLEVBQUUsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXRDLHFCQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFZixnQ0FBZ0M7QUFDaEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUVwQixzQkFBc0I7QUFDdEIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBRXBDLGlDQUFpQztBQUNqQyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUVwQzs7R0FFRztBQUNIO0lBQ0UsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzVCLElBQUksSUFBSSxHQUFHLE9BQU8sSUFBSSxLQUFLLFFBQVE7VUFDL0IsT0FBTyxHQUFHLElBQUk7VUFDZCxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN4QixFQUFFLEVBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssYUFBYSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDN0UsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBd0IsSUFBTSxDQUFDLENBQUM7SUFDOUMsQ0FBQztBQUNILENBQUMiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gTG9hZCBTb2NrZXQuaW9cclxuaW1wb3J0ICogYXMgc29ja2V0aW8gZnJvbSAnc29ja2V0LmlvJztcclxuaW1wb3J0IHNvY2tldEJhc2UgZnJvbSAnLi9zb2NrZXRzL2Jhc2Uuc29ja2V0JztcclxuXHJcbi8vIEltcG9ydCB1dGlsaXR5IGZ1bmN0aW9uc1xyXG5sZXQgb25FcnJvciA9IHJlcXVpcmUoJy4vdXRpbHMvb24tZXJyb3IudXRpbCcpO1xyXG5pbXBvcnQge25vcm1hbGl6ZVBvcnR9IGZyb20gJy4vdXRpbHMvbm9ybWFsaXplLXBvcnQudXRpbCc7XHJcblxyXG4vLyBOb2RlIEVudiBWYXJpYWJsZXNcclxuLy8gTG9hZCBOb2RlIGVudmlyb25tZW50IHZhcmlhYmxlIGNvbmZpZ3VyYXRpb24gZmlsZVxyXG5pbXBvcnQge3ZhbGlkYXRlRW52VmFyaWFibGVzfSBmcm9tICcuLi8uLi9jb25maWcvZW52LmNvbmYnO1xyXG5cclxuLy8gU2V0IHVwIGFwcHJvcHJpYXRlIGVudmlyb25tZW50IHZhcmlhYmxlcyBpZiBuZWNlc3NhcnlcclxudmFsaWRhdGVFbnZWYXJpYWJsZXMoKTtcclxuXHJcbi8vIE1vZHVsZSBEZXBlbmRlbmNpZXNcclxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi9hcHAnKTtcclxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdleHByZXNzOnNlcnZlcicpO1xyXG4vLyBMb2FkIGBOb2RlYCBgaHR0cGAgbW9kdWxlXHJcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XHJcblxyXG4vLyBTZXQgYFBPUlRgIGJhc2VkIG9uIGVudmlyb25tZW50IGFuZCBzdG9yZSBpbiBgRXhwcmVzc2BcclxuY29uc3QgUE9SVCA9IG5vcm1hbGl6ZVBvcnQocHJvY2Vzcy5lbnYuUE9SVCkgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVQb3J0KHByb2Nlc3MuZW52LlBPUlQpIDogMzAwMDtcclxuYXBwLnNldCgncG9ydCcsIFBPUlQpO1xyXG5cclxuLy8gQ3JlYXRlIGBodHRwYCBzZXJ2ZXJcclxubGV0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XHJcblxyXG4vLyBJbnRlZ3JhdGUgU29ja2V0LmlvXHJcbmNvbnN0IFNPQ0tFVF9QT1JUID0gbm9ybWFsaXplUG9ydChwcm9jZXNzLmVudi5TT0NLRVRfUE9SVCkgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVQb3J0KHByb2Nlc3MuZW52LlNPQ0tFVF9QT1JUKSA6IDMwMDE7XHJcbmxldCBpbyA9IHNvY2tldGlvLmxpc3RlbihTT0NLRVRfUE9SVCk7XHJcblxyXG5zb2NrZXRCYXNlKGlvKTtcclxuXHJcbi8vIExpc3RlbiBvbiB0aGUgcHJvdmlkZWQgYFBPUlRgXHJcbnNlcnZlci5saXN0ZW4oUE9SVCk7XHJcblxyXG4vLyBBZGQgYGVycm9yYCBoYW5kbGVyXHJcbnNlcnZlci5vbignZXJyb3InLCBvbkVycm9yLm9uRXJyb3IpO1xyXG5cclxuLy8gSW5pdGlhdGUgYGxpc3RlbmluZ2Agb24gYFBPUlRgXHJcbnNlcnZlci5vbignbGlzdGVuaW5nJywgb25MaXN0ZW5pbmcpO1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50IGxpc3RlbmVyIGZvciBIVFRQIHNlcnZlciBcImxpc3RlbmluZ1wiIGV2ZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gb25MaXN0ZW5pbmcoKSB7XHJcbiAgbGV0IGFkZHIgPSBzZXJ2ZXIuYWRkcmVzcygpO1xyXG4gIGxldCBiaW5kID0gdHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnXHJcbiAgICA/ICdwaXBlICcgKyBhZGRyXHJcbiAgICA6ICdwb3J0ICcgKyBhZGRyLnBvcnQ7XHJcbiAgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0Jykge1xyXG4gICAgY29uc29sZS5sb2coYFdpemFyZHJ5IGlzIGFmb290IG9uICR7YmluZH1gKTtcclxuICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3NlcnZlci5jb25mLnRzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 22 */
/***/ function(module, exports) {

	eval("// ```\r\n// base.ts\r\n// (c) 2016 David Newman\r\n// david.r.niciforovic@gmail.com\r\n// base.ts may be freely distributed under the MIT license\r\n// ```\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = function (io) {\r\n    io.sockets.on('connect', function (socket) {\r\n        var handle = 'unknown';\r\n        console.log(\"{socket} [client:connect] \" + handle + \" client connected\");\r\n        socket.on('disconnect', function () {\r\n            console.log(\"{socket} [client:disconnect] \" + handle + \" disconnected\");\r\n            io.emit('chat:message', \"{socket} \" + handle + \" has left the channel\");\r\n        });\r\n        socket.on('chat:message', function (message) {\r\n            // Just relay all messages to everybody\r\n            io.emit('chat:message', handle + \" : \" + message);\r\n            // Logging\r\n            console.log(\"{socket} [chat:message] \" + handle + \" : \" + message);\r\n        });\r\n        socket.on('chat:register', function (input) {\r\n            handle = input;\r\n            console.log(\"{socket} [client:register] \" + handle + \" has registered with the server\");\r\n            io.emit('chat:message', \"{socket} \" + handle + \" has joined the channel\");\r\n        });\r\n    });\r\n};\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3NvY2tldHMvYmFzZS5zb2NrZXQudHM/OWFjYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQ04sVUFBVTtBQUNWLHdCQUF3QjtBQUN4QixnQ0FBZ0M7QUFDaEMsMERBQTBEO0FBQzFELE1BQU07O0FBTU47a0JBQWUsVUFBQyxFQUFFO0lBQ2hCLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFDLE1BQVc7UUFDbkMsSUFBSSxNQUFNLEdBQVEsU0FBUyxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQThCLE1BQU0sc0JBQW9CLENBQUMsQ0FBQztRQUN0RSxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRTtZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLGtDQUFpQyxNQUFNLGtCQUFnQixDQUFDLENBQUM7WUFDckUsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsY0FBYSxNQUFNLDBCQUF3QixDQUFDLENBQUM7UUFDdkUsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRSxVQUFDLE9BQVk7WUFDckMsdUNBQXVDO1lBQ3ZDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFNLE1BQU0sV0FBUSxPQUFVLENBQUMsQ0FBQztZQUN0RCxVQUFVO1lBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyw2QkFBNEIsTUFBTSxXQUFRLE9BQVUsQ0FBQyxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsVUFBQyxLQUFVO1lBQ3BDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUErQixNQUFNLG9DQUFrQyxDQUFDLENBQUM7WUFDckYsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsY0FBYSxNQUFNLDRCQUEwQixDQUFDLENBQUM7UUFDekUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUVMLENBQUMsQ0FBQyIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGBgYFxuLy8gYmFzZS50c1xuLy8gKGMpIDIwMTYgRGF2aWQgTmV3bWFuXG4vLyBkYXZpZC5yLm5pY2lmb3JvdmljQGdtYWlsLmNvbVxuLy8gYmFzZS50cyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuLy8gYGBgXG5cbi8vICpiYXNlLnRzKlxuXG4vLyBUaGlzIGZpbGUgY29udGFpbnMgdGhlIG1vc3QgYmFzaWMgZnVuY3Rpb25hbGl0eSBmb3Igc2VydmVyIFNvY2tldC5pb1xuLy8gZnVuY3Rpb25hbGl0eS5cbmV4cG9ydCBkZWZhdWx0IChpbykgPT4ge1xyXG4gIGlvLnNvY2tldHMub24oJ2Nvbm5lY3QnLCAoc29ja2V0OiBhbnkpID0+IHtcclxuICAgIGxldCBoYW5kbGU6IGFueSA9ICd1bmtub3duJztcclxuICAgIGNvbnNvbGUubG9nKGB7c29ja2V0fSBbY2xpZW50OmNvbm5lY3RdICR7IGhhbmRsZSB9IGNsaWVudCBjb25uZWN0ZWRgKTtcclxuICAgIHNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYHtzb2NrZXR9IFtjbGllbnQ6ZGlzY29ubmVjdF0gJHsgaGFuZGxlIH0gZGlzY29ubmVjdGVkYCk7XHJcbiAgICAgIGlvLmVtaXQoJ2NoYXQ6bWVzc2FnZScsIGB7c29ja2V0fSAkeyBoYW5kbGUgfSBoYXMgbGVmdCB0aGUgY2hhbm5lbGApO1xyXG4gICAgfSk7XHJcbiAgICBzb2NrZXQub24oJ2NoYXQ6bWVzc2FnZScsIChtZXNzYWdlOiBhbnkpID0+ICB7XHJcbiAgICAgIC8vIEp1c3QgcmVsYXkgYWxsIG1lc3NhZ2VzIHRvIGV2ZXJ5Ym9keVxyXG4gICAgICBpby5lbWl0KCdjaGF0Om1lc3NhZ2UnLCBgJHsgaGFuZGxlIH0gOiAkeyBtZXNzYWdlIH1gKTtcclxuICAgICAgLy8gTG9nZ2luZ1xyXG4gICAgICBjb25zb2xlLmxvZyhge3NvY2tldH0gW2NoYXQ6bWVzc2FnZV0gJHsgaGFuZGxlIH0gOiAkeyBtZXNzYWdlIH1gKTtcclxuICAgIH0pO1xyXG4gICAgc29ja2V0Lm9uKCdjaGF0OnJlZ2lzdGVyJywgKGlucHV0OiBhbnkpID0+IHtcclxuICAgICAgaGFuZGxlID0gaW5wdXQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKGB7c29ja2V0fSBbY2xpZW50OnJlZ2lzdGVyXSAkeyBoYW5kbGUgfSBoYXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzZXJ2ZXJgKTtcclxuICAgICAgaW8uZW1pdCgnY2hhdDptZXNzYWdlJywgYHtzb2NrZXR9ICR7IGhhbmRsZSB9IGhhcyBqb2luZWQgdGhlIGNoYW5uZWxgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xuXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3NvY2tldHMvYmFzZS5zb2NrZXQudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 23 */
/***/ function(module, exports) {

	eval("\"use strict\";\r\n/**\r\n * Normalize a port into a number, string, or false.\r\n */\r\nfunction normalizePort(input) {\r\n    var port = parseInt(input, 10);\r\n    if (isNaN(port)) {\r\n        // named pipe\r\n        return input;\r\n    }\r\n    if (port >= 0) {\r\n        // port number\r\n        return port;\r\n    }\r\n    return false;\r\n}\r\nexports.normalizePort = normalizePort;\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3V0aWxzL25vcm1hbGl6ZS1wb3J0LnV0aWwudHM/Njc3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7QUFDSCx1QkFBOEIsS0FBSztJQUNqQyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRS9CLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsYUFBYTtRQUNiLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZCxjQUFjO1FBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQWRlLHFCQUFhLGdCQWM1QiIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBOb3JtYWxpemUgYSBwb3J0IGludG8gYSBudW1iZXIsIHN0cmluZywgb3IgZmFsc2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUG9ydChpbnB1dCkge1xyXG4gIGxldCBwb3J0ID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcclxuXHJcbiAgaWYgKGlzTmFOKHBvcnQpKSB7XHJcbiAgICAvLyBuYW1lZCBwaXBlXHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbiAgfVxyXG5cclxuICBpZiAocG9ydCA+PSAwKSB7XHJcbiAgICAvLyBwb3J0IG51bWJlclxyXG4gICAgcmV0dXJuIHBvcnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3V0aWxzL25vcm1hbGl6ZS1wb3J0LnV0aWwudHNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 24 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onError = onError;\n/**\r\n * Event listener for HTTP server \"error\" event.\r\n */\nfunction onError(error) {\n  if (error.syscall !== 'listen') throw error;\n\n  var bind = typeof port === 'string' ? 'Pipe ' + port : 'Port ' + port;\n\n  // Handle specific listen `errors` with human-friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges!');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use!');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3V0aWxzL29uLWVycm9yLnV0aWwuanM/ODkxYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQUdnQixPLEdBQUEsTztBQUhoQjs7O0FBR08sU0FBUyxPQUFULENBQWlCLEtBQWpCLEVBQXdCO0FBQzdCLE1BQUksTUFBTSxPQUFOLEtBQWtCLFFBQXRCLEVBQ0UsTUFBTSxLQUFOOztBQUVGLE1BQUksT0FBTyxPQUFPLElBQVAsS0FBZ0IsUUFBaEIsR0FDUCxVQUFVLElBREgsR0FFUCxVQUFVLElBRmQ7O0FBSUE7QUFDQSxVQUFRLE1BQU0sSUFBZDtBQUNFLFNBQUssUUFBTDtBQUNFLGNBQVEsS0FBUixDQUFpQixJQUFqQjtBQUNBLGNBQVEsSUFBUixDQUFhLENBQWI7QUFDQTtBQUNGLFNBQUssWUFBTDtBQUNFLGNBQVEsS0FBUixDQUFpQixJQUFqQjtBQUNBLGNBQVEsSUFBUixDQUFhLENBQWI7QUFDQTtBQUNGO0FBQ0UsWUFBTSxLQUFOO0FBVko7QUFZRCIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBFdmVudCBsaXN0ZW5lciBmb3IgSFRUUCBzZXJ2ZXIgXCJlcnJvclwiIGV2ZW50LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcclxuICBpZiAoZXJyb3Iuc3lzY2FsbCAhPT0gJ2xpc3RlbicpXHJcbiAgICB0aHJvdyBlcnJvcjtcclxuXHJcbiAgbGV0IGJpbmQgPSB0eXBlb2YgcG9ydCA9PT0gJ3N0cmluZydcclxuICAgID8gJ1BpcGUgJyArIHBvcnRcclxuICAgIDogJ1BvcnQgJyArIHBvcnQ7XHJcblxyXG4gIC8vIEhhbmRsZSBzcGVjaWZpYyBsaXN0ZW4gYGVycm9yc2Agd2l0aCBodW1hbi1mcmllbmRseSBtZXNzYWdlc1xyXG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xyXG4gICAgY2FzZSAnRUFDQ0VTJzpcclxuICAgICAgY29uc29sZS5lcnJvcihgJHtiaW5kfSByZXF1aXJlcyBlbGV2YXRlZCBwcml2aWxlZ2VzIWApO1xyXG4gICAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnRUFERFJJTlVTRSc6XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7YmluZH0gaXMgYWxyZWFkeSBpbiB1c2UhYCk7XHJcbiAgICAgIHByb2Nlc3MuZXhpdCgxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmVyL3V0aWxzL29uLWVycm9yLnV0aWwuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 25 */
/***/ function(module, exports) {

	eval("module.exports = {\n\t\"ENV\": \"production\",\n\t\"PORT\": 3000,\n\t\"SOCKET_PORT\": 3001,\n\t\"MONGO_URI\": {\n\t\t\"DEVELOPMENT\": \"mongodb://localhost:27017\",\n\t\t\"PRODUCTION\": \"mongodb://none:yet@localhost\",\n\t\t\"TEST\": \"mongodb://none:yet@localhost\"\n\t},\n\t\"SESSION_SECRET\": \"6A77A15E64C94E415B31D3B4CA3B7\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb25maWcvY29uZmlnLmpzb24/M2MyOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJFTlZcIjogXCJwcm9kdWN0aW9uXCIsXG5cdFwiUE9SVFwiOiAzMDAwLFxuXHRcIlNPQ0tFVF9QT1JUXCI6IDMwMDEsXG5cdFwiTU9OR09fVVJJXCI6IHtcblx0XHRcIkRFVkVMT1BNRU5UXCI6IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxN1wiLFxuXHRcdFwiUFJPRFVDVElPTlwiOiBcIm1vbmdvZGI6Ly9ub25lOnlldEBsb2NhbGhvc3RcIixcblx0XHRcIlRFU1RcIjogXCJtb25nb2RiOi8vbm9uZTp5ZXRAbG9jYWxob3N0XCJcblx0fSxcblx0XCJTRVNTSU9OX1NFQ1JFVFwiOiBcIjZBNzdBMTVFNjRDOTRFNDE1QjMxRDNCNENBM0I3XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2NvbmZpZy9jb25maWcuanNvblxuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 26 */
/***/ function(module, exports) {

	eval("module.exports = require(\"bcrypt-nodejs\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHQtbm9kZWpzXCI/MmI1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdC1ub2RlanNcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImJjcnlwdC1ub2RlanNcIlxuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 27 */
/***/ function(module, exports) {

	eval("module.exports = require(\"body-parser\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiYm9keS1wYXJzZXJcIlxuICoqIG1vZHVsZSBpZCA9IDI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 28 */
/***/ function(module, exports) {

	eval("module.exports = require(\"crypto\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjcnlwdG9cIj9lZjQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJjcnlwdG9cIlxuICoqIG1vZHVsZSBpZCA9IDI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 29 */
/***/ function(module, exports) {

	eval("module.exports = require(\"debug\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkZWJ1Z1wiP2ZiMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiZGVidWdcIlxuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 30 */
/***/ function(module, exports) {

	eval("module.exports = require(\"express-session\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIj82M2JkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzcy1zZXNzaW9uXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIlxuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 31 */
/***/ function(module, exports) {

	eval("module.exports = require(\"http\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCI/OGU0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImh0dHBcIlxuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 32 */
/***/ function(module, exports) {

	eval("module.exports = require(\"method-override\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZXRob2Qtb3ZlcnJpZGVcIj8yNDNiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibWV0aG9kLW92ZXJyaWRlXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJtZXRob2Qtb3ZlcnJpZGVcIlxuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 33 */
/***/ function(module, exports) {

	eval("module.exports = require(\"morgan\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb3JnYW5cIj8xOWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9yZ2FuXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJtb3JnYW5cIlxuICoqIG1vZHVsZSBpZCA9IDMzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 34 */
/***/ function(module, exports) {

	eval("module.exports = require(\"passport-local\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydC1sb2NhbFwiP2YzZWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydC1sb2NhbFwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwicGFzc3BvcnQtbG9jYWxcIlxuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 35 */
/***/ function(module, exports) {

	eval("module.exports = require(\"socket.io\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzb2NrZXQuaW9cIj81MTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic29ja2V0LmlvXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJzb2NrZXQuaW9cIlxuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);